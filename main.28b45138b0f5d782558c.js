var hle=Object.defineProperty,fle=Object.defineProperties,ple=Object.getOwnPropertyDescriptors,L8=Object.getOwnPropertySymbols,gle=Object.prototype.hasOwnProperty,mle=Object.prototype.propertyIsEnumerable,aU=(He,ve,L)=>ve in He?hle(He,ve,{enumerable:!0,configurable:!0,writable:!0,value:L}):He[ve]=L,tg=(He,ve)=>{for(var L in ve||(ve={}))gle.call(ve,L)&&aU(He,L,ve[L]);if(L8)for(var L of L8(ve))mle.call(ve,L)&&aU(He,L,ve[L]);return He},ng=(He,ve)=>fle(He,ple(ve)),Ve=(He,ve,L)=>(aU(He,"symbol"!=typeof ve?ve+"":ve,L),L);(self.webpackChunkfamily_hub=self.webpackChunkfamily_hub||[]).push([[179],{8255:He=>{function ve(L){return Promise.resolve().then(()=>{var c=new Error("Cannot find module '"+L+"'");throw c.code="MODULE_NOT_FOUND",c})}ve.keys=()=>[],ve.resolve=ve,ve.id=8255,He.exports=ve},4027:(He,ve,L)=>{var c,ne,J;!function(se){if("object"==typeof He.exports){var ae=se(0,ve);void 0!==ae&&(He.exports=ae)}else ne=[L,ve],void 0!==(J="function"==typeof(c=se)?c.apply(ve,ne):c)&&(He.exports=J)}(function(se,ae){"use strict";Object.defineProperty(ae,"__esModule",{value:!0});var ie=void 0;ae.default=["ru",[["AM","PM"],ie,ie],ie,[["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],ie,["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],[["\u0412","\u041f","\u0412","\u0421","\u0427","\u041f","\u0421"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],["\u0432\u0441","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440.","\u0430\u043f\u0440.","\u043c\u0430\u044f","\u0438\u044e\u043d.","\u0438\u044e\u043b.","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044f","\u0444\u0435\u0432\u0440\u0430\u043b\u044f","\u043c\u0430\u0440\u0442\u0430","\u0430\u043f\u0440\u0435\u043b\u044f","\u043c\u0430\u044f","\u0438\u044e\u043d\u044f","\u0438\u044e\u043b\u044f","\u0430\u0432\u0433\u0443\u0441\u0442\u0430","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u043e\u043a\u0442\u044f\u0431\u0440\u044f","\u043d\u043e\u044f\u0431\u0440\u044f","\u0434\u0435\u043a\u0430\u0431\u0440\u044f"]],[["\u042f","\u0424","\u041c","\u0410","\u041c","\u0418","\u0418","\u0410","\u0421","\u041e","\u041d","\u0414"],["\u044f\u043d\u0432.","\u0444\u0435\u0432\u0440.","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440.","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433.","\u0441\u0435\u043d\u0442.","\u043e\u043a\u0442.","\u043d\u043e\u044f\u0431.","\u0434\u0435\u043a."],["\u044f\u043d\u0432\u0430\u0440\u044c","\u0444\u0435\u0432\u0440\u0430\u043b\u044c","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0435\u043b\u044c","\u043c\u0430\u0439","\u0438\u044e\u043d\u044c","\u0438\u044e\u043b\u044c","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u043e\u043a\u0442\u044f\u0431\u0440\u044c","\u043d\u043e\u044f\u0431\u0440\u044c","\u0434\u0435\u043a\u0430\u0431\u0440\u044c"]],[["\u0434\u043e \u043d.\u044d.","\u043d.\u044d."],["\u0434\u043e \u043d. \u044d.","\u043d. \u044d."],["\u0434\u043e \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430","\u043e\u0442 \u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0430 \u0425\u0440\u0438\u0441\u0442\u043e\u0432\u0430"]],1,[6,0],["dd.MM.y","d MMM y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",ie,ie,ie],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","\u043d\u0435\xa0\u0447\u0438\u0441\u043b\u043e",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"RUB","\u20bd","\u0440\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0438\u0439 \u0440\u0443\u0431\u043b\u044c",{GEL:[ie,"\u10da"],RON:[ie,"L"],RUB:["\u20bd"],RUR:["\u0440."],THB:["\u0e3f"],TMT:["\u0422\u041c\u0422"],TWD:["NT$"],UAH:["\u20b4"],XXX:["XXXX"]},"ltr",function(Ee){var W=Math.floor(Math.abs(Ee)),N=Ee.toString().replace(/^[^.]*\.?/,"").length;return 0===N&&W%10==1&&W%100!=11?1:0===N&&W%10===Math.floor(W%10)&&W%10>=2&&W%10<=4&&!(W%100>=12&&W%100<=14)?3:0===N&&W%10==0||0===N&&W%10===Math.floor(W%10)&&W%10>=5&&W%10<=9||0===N&&W%100===Math.floor(W%100)&&W%100>=11&&W%100<=14?4:5}]})},8186:(He,ve,L)=>{"use strict";L.d(ve,{deG:()=>Eg,tb:()=>sI,AFp:()=>nI,ip1:()=>bw,CZH:()=>jd,hGG:()=>h6,z2F:()=>sp,sBO:()=>kx,Sil:()=>rp,_Vd:()=>Ms,EJc:()=>aI,SBq:()=>Qo,qLn:()=>Sl,vpe:()=>vo,gxx:()=>Cd,tBr:()=>pi,XFs:()=>rt,OlP:()=>hn,zs3:()=>On,ZZ4:()=>zf,aQg:()=>jf,soG:()=>l_,YKP:()=>La,v3s:()=>AP,h0i:()=>ai,PXZ:()=>EP,R0b:()=>Os,FiY:()=>Hs,Lbi:()=>rI,g9A:()=>iI,Qsj:()=>Xc,FYo:()=>Hl,JOm:()=>zr,Tiy:()=>Ki,q3G:()=>Rn,tp0:()=>co,EAV:()=>OP,Rgc:()=>tu,dDg:()=>Dw,DyG:()=>pl,q4F:()=>jm,GfV:()=>Ex,s_b:()=>Va,ifc:()=>yn,eFA:()=>_I,G48:()=>_P,Gpc:()=>ye,f3M:()=>Rg,X6Q:()=>Iw,_c5:()=>zP,VLi:()=>mP,c2e:()=>oI,zSh:()=>Ol,wAp:()=>ut,vHH:()=>it,EiD:()=>TE,mCW:()=>uf,qzn:()=>_d,JVY:()=>ZA,pB0:()=>JA,eBb:()=>Qg,L6k:()=>pE,LAX:()=>QA,cg1:()=>kd,Tjo:()=>AI,kL8:()=>rx,yhl:()=>Zg,dqk:()=>wt,sIi:()=>zc,CqO:()=>Kv,QGY:()=>qv,F4k:()=>DT,dwT:()=>ix,RDi:()=>Sh,AaK:()=>V,z3N:()=>Sa,qOj:()=>bv,TTD:()=>Dh,_Bn:()=>Hm,xp6:()=>PE,uIk:()=>mm,Tol:()=>UT,ekj:()=>Am,Suo:()=>PD,Xpm:()=>K,lG2:()=>Ui,Yz7:()=>Ft,cJS:()=>Ei,oAB:()=>tn,Yjl:()=>Nt,Y36:()=>ur,_UZ:()=>Sf,GkF:()=>Wv,BQk:()=>Af,ynx:()=>Gv,qZA:()=>Id,TgZ:()=>$v,EpF:()=>xT,n5z:()=>Sc,Ikx:()=>_b,LFG:()=>Jn,$8M:()=>Wh,NdJ:()=>Yv,CRH:()=>hw,oxw:()=>Rf,ALo:()=>xD,lcZ:()=>DD,Hsn:()=>ST,F$t:()=>IT,Q6J:()=>Dd,DdM:()=>fD,VKq:()=>pD,WLB:()=>ow,kEZ:()=>gD,l5B:()=>mD,qbA:()=>Xm,HTZ:()=>_D,Hh0:()=>yD,rFY:()=>vD,iGM:()=>RD,MAs:()=>Av,CHM:()=>$u,LSH:()=>ev,kYT:()=>Ti,Udp:()=>Sm,YNc:()=>bm,W1O:()=>LD,_uU:()=>Qc,Oqu:()=>ab,hij:()=>Rm,Gf:()=>OD});var c=L(7574),ne=L(4869),J=L(3282),se=L(6693),ie=L(9765),ge=L(5319),Ee=L(8819);function W(o){for(let a in o)if(o[a]===W)return a;throw Error("Could not find renamed property on target object.")}function N(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function V(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(V).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function j(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const re=W({__forward_ref__:W});function ye(o){return o.__forward_ref__=ye,o.toString=function(){return V(this())},o}function ue(o){return De(o)?o():o}function De(o){return"function"==typeof o&&o.hasOwnProperty(re)&&o.__forward_ref__===ye}class it extends Error{constructor(a,u){super(function(o,a){return`${o?`NG0${o}: `:""}${a}`}(a,u)),this.code=a}}function We(o){return"string"==typeof o?o:null==o?"":String(o)}function un(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():We(o)}function bs(o,a){const u=a?` in ${a}`:"";throw new it("201",`No provider for ${un(o)} found${u}`)}function Qt(o,a){null==o&&function(o,a,u,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${u} ${h} ${a} <=Actual]`))}(a,o,null,"!=")}function Ft(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Ei(o){return{providers:o.providers||[],imports:o.imports||[]}}function Pr(o){return Ya(o,ra)||Ya(o,Wn)}function Ya(o,a){return o.hasOwnProperty(a)?o[a]:null}function uc(o){return o&&(o.hasOwnProperty(dc)||o.hasOwnProperty(io))?o[dc]:null}const ra=W({\u0275prov:W}),dc=W({\u0275inj:W}),Wn=W({ngInjectableDef:W}),io=W({ngInjectorDef:W});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let sa;function ws(o){const a=sa;return sa=o,a}function Bi(o,a,u){const h=Pr(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&rt.Optional?null:void 0!==a?a:void bs(V(o),"Injector")}function Ht(o){return{toString:o}.toString()}var qe=(()=>((qe=qe||{})[qe.OnPush=0]="OnPush",qe[qe.Default=1]="Default",qe))(),yn=(()=>((yn=yn||{})[yn.Emulated=0]="Emulated",yn[yn.None=2]="None",yn[yn.ShadowDom=3]="ShadowDom",yn))();const rr="undefined"!=typeof globalThis&&globalThis,Nr="undefined"!=typeof window&&window,In="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,wt=rr||"undefined"!=typeof global&&global||Nr||In,Xr={},Ut=[],Lr=W({\u0275cmp:W}),sr=W({\u0275dir:W}),ro=W({\u0275pipe:W}),So=W({\u0275mod:W}),Cs=W({\u0275loc:W}),di=W({\u0275fac:W}),z=W({__NG_ELEMENT_ID__:W});let H=0;function K(o){return Ht(()=>{const u={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===qe.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Ut,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||yn.Emulated,id:"c",styles:o.styles||Ut,_:null,setInput:null,schemas:o.schemas||null,tView:null},p=o.directives,m=o.features,y=o.pipes;return h.id+=H++,h.inputs=qn(o.inputs,u),h.outputs=qn(o.outputs),m&&m.forEach(v=>v(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(le):null,h.pipeDefs=y?()=>("function"==typeof y?y():y).map(Ge):null,h})}function le(o){return on(o)||function(o){return o[sr]||null}(o)}function Ge(o){return function(o){return o[ro]||null}(o)}const bt={};function tn(o){return Ht(()=>{const a={type:o.type,bootstrap:o.bootstrap||Ut,declarations:o.declarations||Ut,imports:o.imports||Ut,exports:o.exports||Ut,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(bt[o.id]=o.type),a})}function Ti(o,a){return Ht(()=>{const u=xi(o,!0);u.declarations=a.declarations||Ut,u.imports=a.imports||Ut,u.exports=a.exports||Ut})}function qn(o,a){if(null==o)return Xr;const u={};for(const h in o)if(o.hasOwnProperty(h)){let p=o[h],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),u[p]=h,a&&(a[p]=m)}return u}const Ui=K;function Nt(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function on(o){return o[Lr]||null}function xi(o,a){const u=o[So]||null;if(!u&&!0===a)throw new Error(`Type ${V(o)} does not have '\u0275mod' property.`);return u}function Sn(o){return Array.isArray(o)&&"object"==typeof o[1]}function Kn(o){return Array.isArray(o)&&!0===o[1]}function Th(o){return 0!=(8&o.flags)}function _r(o){return 2==(2&o.flags)}function Si(o){return 1==(1&o.flags)}function Ts(o){return null!==o.template}function gy(o){return 0!=(512&o[2])}function Mo(o,a){return o.hasOwnProperty(di)?o[di]:null}class ag{constructor(a,u,h){this.previousValue=a,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Dh(){return lg}function lg(o){return o.type.prototype.ngOnChanges&&(o.setInput=nl),Bu}function Bu(){const o=yy(this),a=null==o?void 0:o.current;if(a){const u=o.previous;if(u===Xr)o.previous=a;else for(let h in a)u[h]=a[h];o.current=null,this.ngOnChanges(a)}}function nl(o,a,u,h){const p=yy(o)||function(o,a){return o[_y]=a}(o,{previous:Xr,current:null}),m=p.current||(p.current={}),y=p.previous,v=this.declaredInputs[u],w=y[v];m[v]=new ag(w&&w.currentValue,a,y===Xr),o[h]=a}Dh.ngInherit=!0;const _y="__ngSimpleChanges__";function yy(o){return o[_y]||null}let Hu;function Sh(o){Hu=o}function An(o){return!!o.listen}const cg={createRenderer:(o,a)=>void 0!==Hu?Hu:"undefined"!=typeof document?document:void 0};function kn(o){for(;Array.isArray(o);)o=o[0];return o}function il(o,a){return kn(a[o])}function Ur(o,a){return kn(a[o.index])}function ju(o,a){return o.data[a]}function mc(o,a){return o[a]}function zi(o,a){const u=a[o];return Sn(u)?u:u[0]}function Cy(o){return 4==(4&o[2])}function xs(o){return 128==(128&o[2])}function oo(o,a){return null==a?null:o[a]}function _c(o){o[18]=0}function Rh(o,a){o[5]+=a;let u=o,h=o[3];for(;null!==h&&(1===a&&1===u[5]||-1===a&&0===u[5]);)h[5]+=a,u=h,h=h[3]}const mt={lFrame:wc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function rl(){return mt.bindingsEnabled}function Ie(){return mt.lFrame.lView}function Gt(){return mt.lFrame.tView}function $u(o){return mt.lFrame.contextLView=o,o[8]}function Yn(){let o=ko();for(;null!==o&&64===o.type;)o=o.parent;return o}function ko(){return mt.lFrame.currentTNode}function Vs(o,a){const u=mt.lFrame;u.currentTNode=o,u.isParent=a}function vc(){return mt.lFrame.isParent}function Fh(){mt.lFrame.isParent=!1}function la(){return mt.isInCheckNoChangesMode}function Nh(o){mt.isInCheckNoChangesMode=o}function fi(){const o=mt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Ro(){return mt.lFrame.bindingIndex++}function ns(o){const a=mt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function Lh(o,a){const u=mt.lFrame;u.bindingIndex=u.bindingRootIndex=o,bc(a)}function bc(o){mt.lFrame.currentDirectiveIndex=o}function qu(){return mt.lFrame.currentQueryIndex}function Bh(o){mt.lFrame.currentQueryIndex=o}function Ai(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Dy(o,a,u){if(u&rt.SkipSelf){let p=a,m=o;for(;!(p=p.parent,null!==p||u&rt.Host||(p=Ai(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;a=p,o=m}const h=mt.lFrame=Iy();return h.currentTNode=a,h.lView=o,!0}function ol(o){const a=Iy(),u=o[1];mt.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function Iy(){const o=mt.lFrame,a=null===o?null:o.child;return null===a?wc(o):a}function wc(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Uh(){const o=mt.lFrame;return mt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Ku=Uh;function ua(){const o=Uh();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ar(){return mt.lFrame.selectedIndex}function da(o){mt.lFrame.selectedIndex=o}function Mn(){const o=mt.lFrame;return ju(o.tView,o.selectedIndex)}function al(o,a){for(let u=a.directiveStart,h=a.directiveEnd;u<h;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:D,ngOnDestroy:I}=m;y&&(o.contentHooks||(o.contentHooks=[])).push(-u,y),v&&((o.contentHooks||(o.contentHooks=[])).push(u,v),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,v)),w&&(o.viewHooks||(o.viewHooks=[])).push(-u,w),D&&((o.viewHooks||(o.viewHooks=[])).push(u,D),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,D)),null!=I&&(o.destroyHooks||(o.destroyHooks=[])).push(u,I)}}function Yu(o,a,u){_g(o,a,3,u)}function ll(o,a,u,h){(3&o[2])===u&&_g(o,a,u,h)}function zh(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function _g(o,a,u,h){const m=null!=h?h:-1,y=a.length-1;let v=0;for(let w=void 0!==h?65535&o[18]:0;w<y;w++)if("number"==typeof a[w+1]){if(v=a[w],null!=h&&v>=h)break}else a[w]<0&&(o[18]+=65536),(v<m||-1==m)&&(zC(o,u,a,w),o[18]=(4294901760&o[18])+w+2),w++}function zC(o,a,u,h){const p=u[h]<0,m=u[h+1],v=o[p?-u[h]:u[h]];if(p){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(v)}finally{}}}else try{m.call(v)}finally{}}class Ec{constructor(a,u,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function cl(o,a,u){const h=An(o);let p=0;for(;p<u.length;){const m=u[p];if("number"==typeof m){if(0!==m)break;p++;const y=u[p++],v=u[p++],w=u[p++];h?o.setAttribute(a,v,w,y):a.setAttributeNS(y,v,w)}else{const y=m,v=u[++p];fa(y)?h&&o.setProperty(a,y,v):h?o.setAttribute(a,y,v):a.setAttribute(y,v),p++}}return p}function vg(o){return 3===o||4===o||6===o}function fa(o){return 64===o.charCodeAt(0)}function ul(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let h=0;h<a.length;h++){const p=a[h];"number"==typeof p?u=p:0===u||jh(o,u,p,null,-1===u||2===u?a[++h]:null)}}return o}function jh(o,a,u,h,p){let m=0,y=o.length;if(-1===a)y=-1;else for(;m<o.length;){const v=o[m++];if("number"==typeof v){if(v===a){y=-1;break}if(v>a){y=m-1;break}}}for(;m<o.length;){const v=o[m];if("number"==typeof v)break;if(v===u){if(null===h)return void(null!==p&&(o[m+1]=p));if(h===o[m+1])return void(o[m+2]=p)}m++,null!==h&&m++,null!==p&&m++}-1!==y&&(o.splice(y,0,a),m=y+1),o.splice(m++,0,u),null!==h&&o.splice(m++,0,h),null!==p&&o.splice(m++,0,p)}function ky(o){return-1!==o}function pa(o){return 32767&o}function xc(o,a){let u=function(o){return o>>16}(o),h=a;for(;u>0;)h=h[15],u--;return h}let Dc=!0;function Ju(o){const a=Dc;return Dc=o,a}let GC=0;function Ze(o,a){const u=dl(o,a);if(-1!==u)return u;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,zt(h.data,o),zt(a,null),zt(h.blueprint,null));const p=ji(o,a),m=o.injectorIndex;if(ky(p)){const y=pa(p),v=xc(p,a),w=v[1].data;for(let D=0;D<8;D++)a[m+D]=v[y+D]|w[y+D]}return a[m+8]=p,m}function zt(o,a){o.push(0,0,0,0,0,0,0,0,a)}function dl(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function ji(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,h=null,p=a;for(;null!==p;){const m=p[1],y=m.type;if(h=2===y?m.declTNode:1===y?p[6]:null,null===h)return-1;if(u++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function hl(o,a,u){!function(o,a,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(z)&&(h=u[z]),null==h&&(h=u[z]=GC++);const p=255&h;a.data[o+(p>>5)]|=1<<p}(o,a,u)}function $i(o,a,u){if(u&rt.Optional)return o;bs(a,"NodeInjector")}function Py(o,a,u,h){if(u&rt.Optional&&void 0===h&&(h=null),0==(u&(rt.Self|rt.Host))){const p=o[9],m=ws(void 0);try{return p?p.get(a,h,u&rt.Optional):Bi(a,h,u&rt.Optional)}finally{ws(m)}}return $i(h,a,u)}function Fy(o,a,u,h=rt.Default,p){if(null!==o){const m=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(z)?o[z]:void 0;return"number"==typeof a?a>=0?255&a:ki:a}(u);if("function"==typeof m){if(!Dy(a,o,h))return h&rt.Host?$i(p,u,h):Py(a,u,h,p);try{const y=m(h);if(null!=y||h&rt.Optional)return y;bs(u)}finally{Ku()}}else if("number"==typeof m){let y=null,v=dl(o,a),w=-1,D=h&rt.Host?a[16][6]:null;for((-1===v||h&rt.SkipSelf)&&(w=-1===v?ji(o,a):a[v+8],-1!==w&&wg(h,!1)?(y=a[1],v=pa(w),a=xc(w,a)):v=-1);-1!==v;){const I=a[1];if(ri(m,v,I.data)){const O=Ny(v,a,u,y,h,D);if(O!==Ic)return O}w=a[v+8],-1!==w&&wg(h,a[1].data[v+8]===D)&&ri(m,v,a)?(y=I,v=pa(w),a=xc(w,a)):v=-1}}}return Py(a,u,h,p)}const Ic={};function ki(){return new si(Yn(),Ie())}function Ny(o,a,u,h,p,m){const y=a[1],v=y.data[o+8],I=Xu(v,y,u,null==h?_r(v)&&Dc:h!=y&&0!=(3&v.type),p&rt.Host&&m===v);return null!==I?fl(a,y,I,v):Ic}function Xu(o,a,u,h,p){const m=o.providerIndexes,y=a.data,v=1048575&m,w=o.directiveStart,I=m>>20,P=p?v+I:o.directiveEnd;for(let U=h?v:v+I;U<P;U++){const q=y[U];if(U<w&&u===q||U>=w&&q.type===u)return U}if(p){const U=y[w];if(U&&Ts(U)&&U.type===u)return w}return null}function fl(o,a,u,h){let p=o[u];const m=a.data;if(function(o){return o instanceof Ec}(p)){const y=p;y.resolving&&function(o,a){throw new it("200",`Circular dependency in DI detected for ${o}`)}(un(m[u]));const v=Ju(y.canSeeViewProviders);y.resolving=!0;const w=y.injectImpl?ws(y.injectImpl):null;Dy(o,h,rt.Default);try{p=o[u]=y.factory(void 0,m,o,h),a.firstCreatePass&&u>=h.directiveStart&&function(o,a,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:m}=a.type.prototype;if(h){const y=lg(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,y)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,p),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],a)}finally{null!==w&&ws(w),Ju(v),y.resolving=!1,Ku()}}return p}function ri(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function wg(o,a){return!(o&rt.Self||o&rt.Host&&a)}class si{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,h){return Fy(this._tNode,this._lView,a,h,u)}}function Sc(o){return Ht(()=>{const a=o.prototype.constructor,u=a[di]||ga(a),h=Object.prototype;let p=Object.getPrototypeOf(o.prototype).constructor;for(;p&&p!==h;){const m=p[di]||ga(p);if(m&&m!==u)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function ga(o){return De(o)?()=>{const a=ga(ue(o));return a&&a()}:Mo(o)}function Wh(o){return function(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const m=u[p];if(vg(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(m===a)return u[p+1];p+=2}}}return null}(Yn(),o)}const Hr="__parameters__";function Zn(o,a,u){return Ht(()=>{const h=function(o){return function(...u){if(o){const h=o(...u);for(const p in h)this[p]=h[p]}}}(a);function p(...m){if(this instanceof p)return h.apply(this,m),this;const y=new p(...m);return v.annotation=y,v;function v(w,D,I){const O=w.hasOwnProperty(Hr)?w[Hr]:Object.defineProperty(w,Hr,{value:[]})[Hr];for(;O.length<=I;)O.push(null);return(O[I]=O[I]||[]).push(y),w}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=o,p.annotationCls=p,p})}class hn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Ft({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Eg=new hn("AnalyzeForEntryComponents"),pl=Function;function is(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let h=o[u];Array.isArray(h)?(a===o&&(a=o.slice(0,u)),is(h,a)):a!==o&&a.push(h)}return a}function rs(o,a){o.forEach(u=>Array.isArray(u)?rs(u,a):a(u))}function td(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function Bs(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Vo(o,a){const u=[];for(let h=0;h<o;h++)u.push(a);return u}function Qn(o,a,u){let h=yl(o,a);return h>=0?o[1|h]=u:(h=~h,function(o,a,u,h){let p=o.length;if(p==a)o.push(u,h);else if(1===p)o.push(h,o[0]),o[0]=u;else{for(p--,o.push(o[p-1],o[p]);p>a;)o[p]=o[p-2],p--;o[a]=u,o[a+1]=h}}(o,h,a,u)),h}function _l(o,a){const u=yl(o,a);if(u>=0)return o[1|u]}function yl(o,a){return function(o,a,u){let h=0,p=o.length>>u;for(;p!==h;){const m=h+(p-h>>1),y=o[m<<u];if(a===y)return m<<u;y>a?p=m:h=m+1}return~(p<<u)}(o,a,1)}const Ac={},ad="__NG_DI_FLAG__",vl="ngTempTokenPath",JC=/\n/gm,bl="__source",kg=W({provide:String,useValue:W});let lo;function wl(o){const a=lo;return lo=o,a}function Zh(o,a=rt.Default){if(void 0===lo)throw new Error("inject() must be called from an injection context");return null===lo?Bi(o,void 0,a):lo.get(o,a&rt.Optional?null:void 0,a)}function Jn(o,a=rt.Default){return(sa||Zh)(ue(o),a)}const Rg=Jn;function Gi(o){const a=[];for(let u=0;u<o.length;u++){const h=ue(o[u]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let p,m=rt.Default;for(let y=0;y<h.length;y++){const v=h[y],w=Og(v);"number"==typeof w?-1===w?p=v.token:m|=w:p=v}a.push(Jn(p,m))}else a.push(Jn(h))}return a}function Cl(o,a){return o[ad]=a,o.prototype[ad]=a,o}function Og(o){return o[ad]}function Mc(o,a,u,h){const p=o[vl];throw a[bl]&&p.unshift(a[bl]),o.message=function(o,a,u,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let p=V(a);if(Array.isArray(a))p=a.map(V).join(" -> ");else if("object"==typeof a){let m=[];for(let y in a)if(a.hasOwnProperty(y)){let v=a[y];m.push(y+":"+("string"==typeof v?JSON.stringify(v):V(v)))}p=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${o.replace(JC,"\n  ")}`}("\n"+o.message,p,u,h),o.ngTokenPath=p,o[vl]=null,o}const pi=Cl(Zn("Inject",o=>({token:o})),-1),Hs=Cl(Zn("Optional"),8),co=Cl(Zn("SkipSelf"),4);var zr=(()=>((zr=zr||{})[zr.Important=1]="Important",zr[zr.DashCase=2]="DashCase",zr))();const C="__ngContext__";function T(o,a){o[C]=a}function F(o){const a=function(o){return o[C]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function Dl(o,a){return undefined(o,a)}function cr(o){const a=o[3];return Kn(a)?a[3]:a}function nf(o){return Ug(o[13])}function Bg(o){return Ug(o[4])}function Ug(o){for(;null!==o&&!Kn(o);)o=o[4];return o}function fd(o,a,u,h,p){if(null!=h){let m,y=!1;Kn(h)?m=h:Sn(h)&&(y=!0,h=h[0]);const v=kn(h);0===o&&null!==u?null==p?aE(a,u,v):Da(a,u,v,p||null,!0):1===o&&null!==u?Da(a,u,v,p||null,!0):2===o?function(o,a,u){const h=zg(o,a);h&&function(o,a,u,h){An(o)?o.removeChild(a,u,h):a.removeChild(u)}(o,h,a,u)}(a,v,y):3===o&&a.destroyNode(v),null!=m&&function(o,a,u,h,p){const m=u[7];m!==kn(u)&&fd(a,o,h,m,p);for(let v=10;v<u.length;v++){const w=u[v];Ia(w[1],w,o,a,h,m)}}(a,o,m,u,p)}}function Uy(o,a,u){return An(o)?o.createElement(a,u):null===u?o.createElement(a):o.createElementNS(u,a)}function iE(o,a){const u=o[9],h=u.indexOf(a),p=a[3];1024&a[2]&&(a[2]&=-1025,Rh(p,-1)),u.splice(h,1)}function sf(o,a){if(o.length<=10)return;const u=10+a,h=o[u];if(h){const p=h[17];null!==p&&p!==o&&iE(p,h),a>0&&(o[u-1][4]=h[4]);const m=Bs(o,10+a);!function(o,a){Ia(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const y=m[19];null!==y&&y.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function rE(o,a){if(!(256&a[2])){const u=a[11];An(u)&&u.destroyNode&&Ia(o,a,u,3,null,null),function(o){let a=o[13];if(!a)return zy(o[1],o);for(;a;){let u=null;if(Sn(a))u=a[13];else{const h=a[10];h&&(u=h)}if(!u){for(;a&&!a[4]&&a!==o;)Sn(a)&&zy(a[1],a),a=a[3];null===a&&(a=o),Sn(a)&&zy(a[1],a),u=a&&a[4]}a=u}}(a)}}function zy(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let h=0;h<u.length;h+=2){const p=a[u[h]];if(!(p instanceof Ec)){const m=u[h+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const v=p[m[y]],w=m[y+1];try{w.call(v)}finally{}}else try{m.call(p)}finally{}}}}(o,a),function(o,a){const u=o.cleanup,h=a[7];let p=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const y=u[m+1],v="function"==typeof y?y(a):kn(a[y]),w=h[p=u[m+2]],D=u[m+3];"boolean"==typeof D?v.removeEventListener(u[m],w,D):D>=0?h[p=D]():h[p=-D].unsubscribe(),m+=2}else{const y=h[p=u[m+1]];u[m].call(y)}if(null!==h){for(let m=p+1;m<h.length;m++)h[m]();a[7]=null}}(o,a),1===a[1].type&&An(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&Kn(a[3])){u!==a[3]&&iE(u,a);const h=a[19];null!==h&&h.detachView(o)}}}function of(o,a,u){return function(o,a,u){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return u[0];if(2&h.flags){const p=o.data[h.directiveStart].encapsulation;if(p===yn.None||p===yn.Emulated)return null}return Ur(h,u)}(o,a.parent,u)}function Da(o,a,u,h,p){An(o)?o.insertBefore(a,u,h,p):a.insertBefore(u,h,p)}function aE(o,a,u){An(o)?o.appendChild(a,u):a.appendChild(u)}function jy(o,a,u,h,p){null!==h?Da(o,a,u,h,p):aE(o,a,u)}function zg(o,a){return An(o)?o.parentNode(a):a.parentNode}function $y(o,a,u){return jg(o,a,u)}let af,jg=function(o,a,u){return 40&o.type?Ur(o,u):null};function zo(o,a,u,h){const p=of(o,h,a),m=a[11],v=$y(h.parent||a[6],h,a);if(null!=p)if(Array.isArray(u))for(let w=0;w<u.length;w++)jy(m,p,u[w],v,!1);else jy(m,p,u,v,!1)}function $g(o,a){if(null!==a){const u=a.type;if(3&u)return Ur(a,o);if(4&u)return Gy(-1,o[a.index]);if(8&u){const h=a.child;if(null!==h)return $g(o,h);{const p=o[a.index];return Kn(p)?Gy(-1,p):kn(p)}}if(32&u)return Dl(a,o)()||kn(o[a.index]);{const h=dE(o,a);return null!==h?Array.isArray(h)?h[0]:$g(cr(o[16]),h):$g(o,a.next)}}return null}function dE(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Gy(o,a){const u=10+o+1;if(u<a.length){const h=a[u],p=h[1].firstChild;if(null!==p)return $g(h,p)}return a[7]}function Pc(o,a,u,h,p,m,y){for(;null!=u;){const v=h[u.index],w=u.type;if(y&&0===a&&(v&&T(kn(v),h),u.flags|=4),64!=(64&u.flags))if(8&w)Pc(o,a,u.child,h,p,m,!1),fd(a,o,p,v,m);else if(32&w){const D=Dl(u,h);let I;for(;I=D();)fd(a,o,p,I,m);fd(a,o,p,v,m)}else 16&w?qy(o,a,h,u,p,m):fd(a,o,p,v,m);u=y?u.projectionNext:u.next}}function Ia(o,a,u,h,p,m){Pc(u,h,o.firstChild,a,p,m,!1)}function qy(o,a,u,h,p,m){const y=u[16],w=y[6].projection[h.projection];if(Array.isArray(w))for(let D=0;D<w.length;D++)fd(a,o,p,w[D],m);else Pc(o,a,w,y[3],p,m,!0)}function Gg(o,a,u){An(o)?o.setAttribute(a,"style",u):a.style.cssText=u}function os(o,a,u){An(o)?""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u):a.className=u}function jo(o){var a;return(null===(a=function(){if(void 0===af&&(af=null,wt.trustedTypes))try{af=wt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return af}())||void 0===a?void 0:a.createHTML(o))||o}class Il{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Yg extends Il{getTypeName(){return"HTML"}}class fE extends Il{getTypeName(){return"Style"}}class qA extends Il{getTypeName(){return"Script"}}class KA extends Il{getTypeName(){return"URL"}}class YA extends Il{getTypeName(){return"ResourceURL"}}function Sa(o){return o instanceof Il?o.changingThisBreaksApplicationSecurity:o}function _d(o,a){const u=Zg(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function Zg(o){return o instanceof Il&&o.getTypeName()||null}function ZA(o){return new Yg(o)}function pE(o){return new fE(o)}function Qg(o){return new qA(o)}function QA(o){return new KA(o)}function JA(o){return new YA(o)}class XA{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(jo(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class cf{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=jo(a),u;const h=this.inertDocument.createElement("body");return h.innerHTML=jo(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const u=a.attributes;for(let p=u.length-1;0<p;p--){const y=u.item(p).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&a.removeAttribute(y)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const tM=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,nM=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function uf(o){return(o=String(o)).match(tM)||o.match(nM)?o:"unsafe:"+o}function $o(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function df(...o){const a={};for(const u of o)for(const h in u)u.hasOwnProperty(h)&&(a[h]=!0);return a}const mE=$o("area,br,col,hr,img,wbr"),_E=$o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),yE=$o("rp,rt"),Zy=df(mE,df(_E,$o("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),df(yE,$o("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),df(yE,_E)),Qy=$o("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jy=$o("srcset"),sM=df(Qy,Jy,$o("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$o("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vE=$o("script,style,template");class bE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!Zy.hasOwnProperty(u))return this.sanitizedSomething=!0,!vE.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=a.attributes;for(let p=0;p<h.length;p++){const m=h.item(p),y=m.name,v=y.toLowerCase();if(!sM.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let w=m.value;Qy[v]&&(w=uf(w)),Jy[v]&&(o=w,w=(o=String(o)).split(",").map(a=>uf(a.trim())).join(", ")),this.buf.push(" ",y,'="',EE(w),'"')}var o;return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();Zy.hasOwnProperty(u)&&!mE.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(EE(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const wE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,CE=/([^\#-~ |!])/g;function EE(o){return o.replace(/&/g,"&amp;").replace(wE,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(CE,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xg;function TE(o,a){let u=null;try{Xg=Xg||function(o){const a=new cf(o);return function(){try{return!!(new window.DOMParser).parseFromString(jo(""),"text/html")}catch(o){return!1}}()?new XA(a):a}(o);let h=a?String(a):"";u=Xg.getInertBodyElement(h);let p=5,m=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=m,m=u.innerHTML,u=Xg.getInertBodyElement(h)}while(h!==m);return jo((new bE).sanitizeChildren(Xy(u)||u))}finally{if(u){const h=Xy(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Xy(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Rn=(()=>((Rn=Rn||{})[Rn.NONE=0]="NONE",Rn[Rn.HTML=1]="HTML",Rn[Rn.STYLE=2]="STYLE",Rn[Rn.SCRIPT=3]="SCRIPT",Rn[Rn.URL=4]="URL",Rn[Rn.RESOURCE_URL=5]="RESOURCE_URL",Rn))();function ev(o){const a=function(){const o=Ie();return o&&o[12]}();return a?a.sanitize(Rn.URL,o)||"":_d(o,"URL")?Sa(o):uf(We(o))}function Aa(o){return o.ngOriginalError}function pM(o,...a){o.error(...a)}class Sl{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),h=this._findContext(a),p=(o=a)&&o.ngErrorLogger||pM;var o;p(this._console,"ERROR",a),u&&p(this._console,"ORIGINAL ERROR",u),h&&p(this._console,"ERROR CONTEXT",h)}_findContext(a){return a?a.ngDebugContext||this._findContext(Aa(a)):null}_findOriginalError(a){let u=a&&Aa(a);for(;u&&Aa(u);)u=Aa(u);return u||null}}const iv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(wt))();function Wo(o){return o instanceof Function?o():o}function ME(o,a,u){let h=o.length;for(;;){const p=o.indexOf(a,u);if(-1===p)return p;if(0===p||o.charCodeAt(p-1)<=32){const m=a.length;if(p+m===h||o.charCodeAt(p+m)<=32)return p}u=p+1}}const im="ng-template";function bM(o,a,u){let h=0;for(;h<o.length;){let p=o[h++];if(u&&"class"===p){if(p=o[h],-1!==ME(p.toLowerCase(),a,0))return!0}else if(1===p){for(;h<o.length&&"string"==typeof(p=o[h++]);)if(p.toLowerCase()===a)return!0;return!1}}return!1}function kE(o){return 4===o.type&&o.value!==im}function RE(o,a,u){return a===(4!==o.type||u?o.value:im)}function wM(o,a,u){let h=4;const p=o.attrs||[],m=function(o){for(let a=0;a<o.length;a++)if(vg(o[a]))return a;return o.length}(p);let y=!1;for(let v=0;v<a.length;v++){const w=a[v];if("number"!=typeof w){if(!y)if(4&h){if(h=2|1&h,""!==w&&!RE(o,w,u)||""===w&&1===a.length){if(qo(h))return!1;y=!0}}else{const D=8&h?w:a[++v];if(8&h&&null!==o.attrs){if(!bM(o.attrs,D,u)){if(qo(h))return!1;y=!0}continue}const O=yU(8&h?"class":w,p,kE(o),u);if(-1===O){if(qo(h))return!1;y=!0;continue}if(""!==D){let P;P=O>m?"":p[O+1].toLowerCase();const U=8&h?P:null;if(U&&-1!==ME(U,D,0)||2&h&&D!==P){if(qo(h))return!1;y=!0}}}}else{if(!y&&!qo(h)&&!qo(w))return!1;if(y&&qo(w))continue;y=!1,h=w|1&h}}return qo(h)||y}function qo(o){return 0==(1&o)}function yU(o,a,u,h){if(null===a)return-1;let p=0;if(h||!u){let m=!1;for(;p<a.length;){const y=a[p];if(y===o)return p;if(3===y||6===y)m=!0;else{if(1===y||2===y){let v=a[++p];for(;"string"==typeof v;)v=a[++p];continue}if(4===y)break;if(0===y){p+=4;continue}}p+=m?1:2}return-1}return function(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const h=o[u];if("number"==typeof h)return-1;if(h===a)return u;u++}return-1}(a,o)}function CM(o,a,u=!1){for(let h=0;h<a.length;h++)if(wM(o,a[h],u))return!0;return!1}function TM(o,a){e:for(let u=0;u<a.length;u++){const h=a[u];if(o.length===h.length){for(let p=0;p<o.length;p++)if(o[p]!==h[p])continue e;return!0}}return!1}function OE(o,a){return o?":not("+a.trim()+")":a}function xM(o){let a=o[0],u=1,h=2,p="",m=!1;for(;u<o.length;){let y=o[u];if("string"==typeof y)if(2&h){const v=o[++u];p+="["+y+(v.length>0?'="'+v+'"':"")+"]"}else 8&h?p+="."+y:4&h&&(p+=" "+y);else""!==p&&!qo(y)&&(a+=OE(m,p),p=""),h=y,m=m||!qo(h);u++}return""!==p&&(a+=OE(m,p)),a}const It={};function PE(o){DM(Gt(),Ie(),ar()+o,la())}function DM(o,a,u,h){if(!h)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&Yu(a,m,u)}else{const m=o.preOrderHooks;null!==m&&ll(a,m,0,u)}da(u)}function sv(o,a){return o<<17|a<<2}function Ko(o){return o>>17&32767}function FE(o){return 2|o}function Al(o){return(131068&o)>>2}function NE(o,a){return-131069&o|a<<2}function LE(o){return 1|o}function $E(o,a){const u=o.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const p=u[h],m=u[h+1];if(-1!==m){const y=o.data[m];Bh(p),y.contentQueries(2,a[m],m)}}}function rm(o,a,u,h,p,m,y,v,w,D){const I=a.blueprint.slice();return I[0]=p,I[2]=140|h,_c(I),I[3]=I[15]=o,I[8]=u,I[10]=y||o&&o[10],I[11]=v||o&&o[11],I[12]=w||o&&o[12]||null,I[9]=D||o&&o[9]||null,I[6]=m,I[16]=2==a.type?o[16]:I,I}function ff(o,a,u,h,p){let m=o.data[a];if(null===m)m=function(o,a,u,h,p){const m=ko(),y=vc(),w=o.data[a]=function(o,a,u,h,p,m){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,u,a,h,p);return null===o.firstChild&&(o.firstChild=w),null!==m&&(y?null==m.child&&null!==w.parent&&(m.child=w):null===m.next&&(m.next=w)),w}(o,a,u,h,p),mt.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=h,m.attrs=p;const y=function(){const o=mt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return Vs(m,!0),m}function pf(o,a,u,h){if(0===u)return-1;const p=a.length;for(let m=0;m<u;m++)a.push(h),o.blueprint.push(h),o.data.push(null);return p}function sm(o,a,u){ol(a);try{const h=o.viewQuery;null!==h&&Lc(1,h,u);const p=o.template;null!==p&&NM(o,a,p,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&$E(o,a),o.staticViewQueries&&Lc(2,o.viewQuery,u);const m=o.components;null!==m&&function(o,a){for(let u=0;u<a.length;u++)QM(o,a[u])}(a,m)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,ua()}}function gf(o,a,u,h){const p=a[2];if(256==(256&p))return;ol(a);const m=la();try{_c(a),function(o){mt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&NM(o,a,u,2,h);const y=3==(3&p);if(!m)if(y){const D=o.preOrderCheckHooks;null!==D&&Yu(a,D,null)}else{const D=o.preOrderHooks;null!==D&&ll(a,D,0,null),zh(a,0)}if(function(o){for(let a=nf(o);null!==a;a=Bg(a)){if(!a[2])continue;const u=a[9];for(let h=0;h<u.length;h++){const p=u[h],m=p[3];0==(1024&p[2])&&Rh(m,1),p[2]|=1024}}}(a),function(o){for(let a=nf(o);null!==a;a=Bg(a))for(let u=10;u<a.length;u++){const h=a[u],p=h[1];xs(h)&&gf(p,h,p.template,h[8])}}(a),null!==o.contentQueries&&$E(o,a),!m)if(y){const D=o.contentCheckHooks;null!==D&&Yu(a,D)}else{const D=o.contentHooks;null!==D&&ll(a,D,1),zh(a,1)}!function(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)da(~p);else{const m=p,y=u[++h],v=u[++h];Lh(y,m),v(2,a[m])}}}finally{da(-1)}}(o,a);const v=o.components;null!==v&&function(o,a){for(let u=0;u<a.length;u++)ZM(o,a[u])}(a,v);const w=o.viewQuery;if(null!==w&&Lc(2,w,h),!m)if(y){const D=o.viewCheckHooks;null!==D&&Yu(a,D)}else{const D=o.viewHooks;null!==D&&ll(a,D,2),zh(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),m||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Rh(a[3],-1))}finally{ua()}}function OU(o,a,u,h){const p=a[10],m=!la(),y=Cy(a);try{m&&!y&&p.begin&&p.begin(),y&&sm(o,a,h),gf(o,a,u,h)}finally{m&&!y&&p.end&&p.end()}}function NM(o,a,u,h,p){const m=ar(),y=2&h;try{da(-1),y&&a.length>20&&DM(o,a,20,la()),u(h,p)}finally{da(m)}}function LM(o,a,u){if(Th(a)){const p=a.directiveEnd;for(let m=a.directiveStart;m<p;m++){const y=o.data[m];y.contentQueries&&y.contentQueries(1,u[m],m)}}}function WE(o,a,u){!rl()||(function(o,a,u,h){const p=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||Ze(u,a),T(h,a);const y=u.initialInputs;for(let v=p;v<m;v++){const w=o.data[v],D=Ts(w);D&&qU(a,u,w);const I=fl(a,o,v,u);T(I,a),null!==y&&KU(0,v-p,I,w,0,y),D&&(zi(u.index,a)[8]=I)}}(o,a,u,Ur(u,a)),128==(128&u.flags)&&function(o,a,u){const h=u.directiveStart,p=u.directiveEnd,y=u.index,v=mt.lFrame.currentDirectiveIndex;try{da(y);for(let w=h;w<p;w++){const D=o.data[w],I=a[w];bc(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&GM(D,I)}}finally{da(-1),bc(v)}}(o,a,u))}function qE(o,a,u=Ur){const h=a.localNames;if(null!==h){let p=a.index+1;for(let m=0;m<h.length;m+=2){const y=h[m+1],v=-1===y?u(a,o):o[y];o[p++]=v}}}function VM(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=lv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function lv(o,a,u,h,p,m,y,v,w,D){const I=20+h,O=I+p,P=function(o,a){const u=[];for(let h=0;h<a;h++)u.push(h<o?null:It);return u}(I,O),U="function"==typeof D?D():D;return P[1]={type:o,blueprint:P,template:u,queries:null,viewQuery:v,declTNode:a,data:P.slice().fill(null,I),bindingStartIndex:I,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:w,consts:U,incompleteFirstPass:!1}}function HM(o,a,u,h){const p=tk(a);null===u?p.push(h):(p.push(u),o.firstCreatePass&&Rl(o).push(h,p.length-1))}function zM(o,a,u){for(let h in o)if(o.hasOwnProperty(h)){const p=o[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(a,p):u[h]=[a,p]}return u}function js(o,a,u,h,p,m,y,v){const w=Ur(a,u);let I,D=a.inputs;!v&&null!=D&&(I=D[h])?(wr(o,u,I,h,p),_r(a)&&function(o,a){const u=zi(a,o);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(h=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),p=null!=y?y(p,a.value||"",h):p,An(m)?m.setProperty(w,h,p):fa(h)||(w.setProperty?w.setProperty(h,p):w[h]=p))}function KE(o,a,u,h){let p=!1;if(rl()){const m=function(o,a,u){const h=o.directiveRegistry;let p=null;if(h)for(let m=0;m<h.length;m++){const y=h[m];CM(u,y.selectors,!1)&&(p||(p=[]),hl(Ze(u,a),o,y.type),Ts(y)?(WM(o,u),p.unshift(y)):p.push(y))}return p}(o,a,u),y=null===h?null:{"":-1};if(null!==m){p=!0,qM(u,o.data.length,m.length);for(let I=0;I<m.length;I++){const O=m[I];O.providersResolver&&O.providersResolver(O)}let v=!1,w=!1,D=pf(o,a,m.length,null);for(let I=0;I<m.length;I++){const O=m[I];u.mergedAttrs=ul(u.mergedAttrs,O.hostAttrs),KM(o,u,a,D,O),WU(D,O,y),null!==O.contentQueries&&(u.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(u.flags|=128);const P=O.type.prototype;!v&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),v=!0),!w&&(P.ngOnChanges||P.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),w=!0),D++}!function(o,a){const h=a.directiveEnd,p=o.data,m=a.attrs,y=[];let v=null,w=null;for(let D=a.directiveStart;D<h;D++){const I=p[D],O=I.inputs,P=null===m||kE(a)?null:YU(O,m);y.push(P),v=zM(O,D,v),w=zM(I.outputs,D,w)}null!==v&&(v.hasOwnProperty("class")&&(a.flags|=16),v.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=y,a.inputs=v,a.outputs=w}(o,u)}y&&function(o,a,u){if(a){const h=o.localNames=[];for(let p=0;p<a.length;p+=2){const m=u[a[p+1]];if(null==m)throw new it("301",`Export of name '${a[p+1]}' not found!`);h.push(a[p],m)}}}(u,h,y)}return u.mergedAttrs=ul(u.mergedAttrs,u.attrs),p}function $M(o,a,u,h,p,m){const y=m.hostBindings;if(y){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const w=~a.index;(function(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(v)!=w&&v.push(w),v.push(h,p,y)}}function GM(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function WM(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function WU(o,a,u){if(u){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)u[a.exportAs[h]]=o;Ts(a)&&(u[""]=o)}}function qM(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function KM(o,a,u,h,p){o.data[h]=p;const m=p.factory||(p.factory=Mo(p.type)),y=new Ec(m,Ts(p),null);o.blueprint[h]=y,u[h]=y,$M(o,a,0,h,pf(o,u,p.hostVars,It),p)}function qU(o,a,u){const h=Ur(a,o),p=VM(u),m=o[10],y=om(o,rm(o,p,null,u.onPush?64:16,h,a,m,m.createRenderer(h,u),null,null));o[a.index]=y}function Ma(o,a,u,h,p,m){const y=Ur(o,a);!function(o,a,u,h,p,m,y){if(null==m)An(o)?o.removeAttribute(a,p,u):a.removeAttribute(p);else{const v=null==y?We(m):y(m,h||"",p);An(o)?o.setAttribute(a,p,v,u):u?a.setAttributeNS(u,p,v):a.setAttribute(p,v)}}(a[11],y,m,o.value,u,h,p)}function KU(o,a,u,h,p,m){const y=m[a];if(null!==y){const v=h.setInput;for(let w=0;w<y.length;){const D=y[w++],I=y[w++],O=y[w++];null!==v?h.setInput(u,O,D,I):u[I]=O}}}function YU(o,a){let u=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;o.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,o[p],a[h+1])),h+=2}else h+=2;else h+=4}return u}function YM(o,a,u,h){return new Array(o,!0,!1,a,null,0,h,u,null,null)}function ZM(o,a){const u=zi(a,o);if(xs(u)){const h=u[1];80&u[2]?gf(h,u,h.template,u[8]):u[5]>0&&cv(u)}}function cv(o){for(let h=nf(o);null!==h;h=Bg(h))for(let p=10;p<h.length;p++){const m=h[p];if(1024&m[2]){const y=m[1];gf(y,m,y.template,m[8])}else m[5]>0&&cv(m)}const u=o[1].components;if(null!==u)for(let h=0;h<u.length;h++){const p=zi(u[h],o);xs(p)&&p[5]>0&&cv(p)}}function QM(o,a){const u=zi(a,o),h=u[1];(function(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(h,u),sm(h,u,u[8])}function om(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function am(o){for(;o;){o[2]|=64;const a=cr(o);if(gy(o)&&!a)return o;o=a}return null}function wd(o,a,u){const h=a[10];h.begin&&h.begin();try{gf(o,a,o.template,u)}catch(p){throw lm(a,p),p}finally{h.end&&h.end()}}function ZE(o){!function(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],h=F(u),p=h[1];OU(p,h,p.template,u)}}(o[8])}function Lc(o,a,u){Bh(0),a(o,u)}const XU=(()=>Promise.resolve(null))();function tk(o){return o[7]||(o[7]=[])}function Rl(o){return o.cleanup||(o.cleanup=[])}function lm(o,a){const u=o[9],h=u?u.get(Sl,null):null;h&&h.handleError(a)}function wr(o,a,u,h,p){for(let m=0;m<u.length;){const y=u[m++],v=u[m++],w=a[y],D=o.data[y];null!==D.setInput?D.setInput(w,p,h,v):w[v]=p}}function $s(o,a,u){const h=il(a,o);!function(o,a,u){An(o)?o.setValue(a,u):a.textContent=u}(o[11],h,u)}function ka(o,a,u){let h=u?o.styles:null,p=u?o.classes:null,m=0;if(null!==a)for(let y=0;y<a.length;y++){const v=a[y];"number"==typeof v?m=v:1==m?p=j(p,v):2==m&&(h=j(h,v+": "+a[++y]+";"))}u?o.styles=h:o.stylesWithoutHost=h,u?o.classes=p:o.classesWithoutHost=p}const Cd=new hn("INJECTOR",-1);class um{get(a,u=Ac){if(u===Ac){const h=new Error(`NullInjectorError: No provider for ${V(a)}!`);throw h.name="NullInjectorError",h}return u}}const Ol=new hn("Set Injector scope."),uo={},ik={};let Vc;function dm(){return void 0===Vc&&(Vc=new um),Vc}function JE(o,a=null,u=null,h){return new sk(o,u,a||dm(),h)}class sk{constructor(a,u,h,p=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];u&&rs(u,v=>this.processProvider(v,a,u)),rs([a],v=>this.processInjectorType(v,[],m)),this.records.set(Cd,Ed(void 0,this));const y=this.records.get(Ol);this.scope=null!=y?y.value:null,this.source=p||("object"==typeof a?null:V(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=Ac,h=rt.Default){this.assertNotDestroyed();const p=wl(this),m=ws(void 0);try{if(!(h&rt.SkipSelf)){let v=this.records.get(a);if(void 0===v){const w=("function"==typeof(o=a)||"object"==typeof o&&o instanceof hn)&&Pr(a);v=w&&this.injectableDefInScope(w)?Ed(Bc(a),uo):null,this.records.set(a,v)}if(null!=v)return this.hydrate(a,v)}return(h&rt.Self?dm():this.parent).get(a,u=h&rt.Optional&&u===Ac?null:u)}catch(y){if("NullInjectorError"===y.name){if((y[vl]=y[vl]||[]).unshift(V(a)),p)throw y;return Mc(y,a,"R3InjectorError",this.source)}throw y}finally{ws(m),wl(p)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((h,p)=>a.push(V(p))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,u,h){if(!(a=ue(a)))return!1;let p=uc(a);const m=null==p&&a.ngModule||void 0,y=void 0===m?a:m,v=-1!==h.indexOf(y);if(void 0!==m&&(p=uc(m)),null==p)return!1;if(null!=p.imports&&!v){let I;h.push(y);try{rs(p.imports,O=>{this.processInjectorType(O,u,h)&&(void 0===I&&(I=[]),I.push(O))})}finally{}if(void 0!==I)for(let O=0;O<I.length;O++){const{ngModule:P,providers:U}=I[O];rs(U,q=>this.processProvider(q,P,U||Ut))}}this.injectorDefTypes.add(y);const w=Mo(y)||(()=>new y);this.records.set(y,Ed(w,uo));const D=p.providers;if(null!=D&&!v){const I=a;rs(D,O=>this.processProvider(O,I,D))}return void 0!==m&&void 0!==a.providers}processProvider(a,u,h){let p=Uc(a=ue(a))?a:ue(a&&a.provide);const m=(o=a,eT(o)?Ed(void 0,o.useValue):Ed(XE(o),uo));var o;if(Uc(a)||!0!==a.multi)this.records.get(p);else{let y=this.records.get(p);y||(y=Ed(void 0,uo,!0),y.factory=()=>Gi(y.multi),this.records.set(p,y)),p=a,y.multi.push(a)}this.records.set(p,m)}hydrate(a,u){return u.value===uo&&(u.value=ik,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(o=u.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var o}injectableDefInScope(a){if(!a.providedIn)return!1;const u=ue(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Bc(o){const a=Pr(o),u=null!==a?a.factory:Mo(o);if(null!==u)return u;if(o instanceof hn)throw new Error(`Token ${V(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const a=o.length;if(a>0){const h=Vo(a,"?");throw new Error(`Can't resolve all parameters for ${V(o)}: (${h.join(", ")}).`)}const u=function(o){const a=o&&(o[ra]||o[Wn]);if(a){const u=function(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Error("unreachable")}function XE(o,a,u){let h;if(Uc(o)){const p=ue(o);return Mo(p)||Bc(p)}if(eT(o))h=()=>ue(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...Gi(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))h=()=>Jn(ue(o.useExisting));else{const p=ue(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return Mo(p)||Bc(p);h=()=>new p(...Gi(o.deps))}return h}function Ed(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function eT(o){return null!==o&&"object"==typeof o&&kg in o}function Uc(o){return"function"==typeof o}const ck=function(o,a,u){return function(o,a=null,u=null,h){const p=JE(o,a,u,h);return p._resolveInjectorDefTypes(),p}({name:u},a,o,u)};let On=(()=>{class o{static create(u,h){return Array.isArray(u)?ck(u,h,""):ck(u.providers,u.parent,u.name||"")}}return o.THROW_IF_NOT_FOUND=Ac,o.NULL=new um,o.\u0275prov=Ft({token:o,providedIn:"any",factory:()=>Jn(Cd)}),o.__NG_ELEMENT_ID__=-1,o})();function dT(o,a){al(F(o)[1],Yn())}function bv(o){let a=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const h=[o];for(;a;){let p;if(Ts(o))p=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");p=a.\u0275dir}if(p){if(u){h.push(p);const y=o;y.inputs=hm(o.inputs),y.declaredInputs=hm(o.declaredInputs),y.outputs=hm(o.outputs);const v=p.hostBindings;v&&pH(o,v);const w=p.viewQuery,D=p.contentQueries;if(w&&fm(o,w),D&&wv(o,D),N(o.inputs,p.inputs),N(o.declaredInputs,p.declaredInputs),N(o.outputs,p.outputs),Ts(p)&&p.data.animation){const I=o.data;I.animation=(I.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let y=0;y<m.length;y++){const v=m[y];v&&v.ngInherit&&v(o),v===bv&&(u=!1)}}a=Object.getPrototypeOf(a)}!function(o){let a=0,u=null;for(let h=o.length-1;h>=0;h--){const p=o[h];p.hostVars=a+=p.hostVars,p.hostAttrs=ul(p.hostAttrs,u=ul(u,p.hostAttrs))}}(h)}function hm(o){return o===Xr?{}:o===Ut?[]:o}function fm(o,a){const u=o.viewQuery;o.viewQuery=u?(h,p)=>{a(h,p),u(h,p)}:a}function wv(o,a){const u=o.contentQueries;o.contentQueries=u?(h,p,m)=>{a(h,p,m),u(h,p,m)}:a}function pH(o,a){const u=o.hostBindings;o.hostBindings=u?(h,p)=>{a(h,p),u(h,p)}:a}let _f=null;function yf(){if(!_f){const o=wt.Symbol;if(o&&o.iterator)_f=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const h=a[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(_f=h)}}}return _f}class ho{constructor(a){this.wrapped=a}static wrap(a){return new ho(a)}static unwrap(a){return ho.isWrapped(a)?a.wrapped:a}static isWrapped(a){return a instanceof ho}}function zc(o){return!!gm(o)&&(Array.isArray(o)||!(o instanceof Map)&&yf()in o)}function gm(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function fo(o,a,u){return o[a]=u}function vf(o,a){return o[a]}function Pn(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function po(o,a,u,h){const p=Pn(o,a,u);return Pn(o,a+1,h)||p}function Is(o,a,u,h,p){const m=po(o,a,u,h);return Pn(o,a+2,p)||m}function go(o,a,u,h,p,m){const y=po(o,a,u,h);return po(o,a+2,p,m)||y}function mm(o,a,u,h){const p=Ie();return Pn(p,Ro(),a)&&(Gt(),Ma(Mn(),p,o,a,u,h)),mm}function bm(o,a,u,h,p,m,y,v){const w=Ie(),D=Gt(),I=o+20,O=D.firstCreatePass?function(o,a,u,h,p,m,y,v,w){const D=a.consts,I=ff(a,o,4,y||null,oo(D,v));KE(a,u,I,oo(D,w)),al(a,I);const O=I.tViews=lv(2,I,h,p,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,D);return null!==a.queries&&(a.queries.template(a,I),O.queries=a.queries.embeddedTView(I)),I}(I,D,w,a,u,h,p,m,y):D.data[I];Vs(O,!1);const P=w[11].createComment("");zo(D,w,P,O),T(P,w),om(w,w[I]=YM(P,w,P,O)),Si(O)&&WE(D,w,O),null!=y&&qE(w,O,v)}function Av(o){return mc(mt.lFrame.contextLView,20+o)}function ur(o,a=rt.Default){const u=Ie();return null===u?Jn(o,a):Fy(Yn(),u,ue(o),a)}function Dd(o,a,u){const h=Ie();return Pn(h,Ro(),a)&&js(Gt(),Mn(),h,o,a,h[11],u,!1),Dd}function jv(o,a,u,h,p){const y=p?"class":"style";wr(o,u,a.inputs[y],y,h)}function $v(o,a,u,h){const p=Ie(),m=Gt(),y=20+o,v=p[11],w=p[y]=Uy(v,a,mt.lFrame.currentNamespace),D=m.firstCreatePass?function(o,a,u,h,p,m,y){const v=a.consts,D=ff(a,o,2,p,oo(v,m));return KE(a,u,D,oo(v,y)),null!==D.attrs&&ka(D,D.attrs,!1),null!==D.mergedAttrs&&ka(D,D.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,D),D}(y,m,p,0,a,u,h):m.data[y];Vs(D,!0);const I=D.mergedAttrs;null!==I&&cl(v,w,I);const O=D.classes;null!==O&&os(v,w,O);const P=D.styles;null!==P&&Gg(v,w,P),64!=(64&D.flags)&&zo(m,p,w,D),0===mt.lFrame.elementDepthCount&&T(w,p),mt.lFrame.elementDepthCount++,Si(D)&&(WE(m,p,D),LM(m,D,p)),null!==h&&qE(p,D)}function Id(){let o=Yn();vc()?Fh():(o=o.parent,Vs(o,!1));const a=o;mt.lFrame.elementDepthCount--;const u=Gt();u.firstCreatePass&&(al(u,o),Th(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(a)&&jv(u,a,Ie(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(a)&&jv(u,a,Ie(),a.stylesWithoutHost,!1)}function Sf(o,a,u,h){$v(o,a,u,h),Id()}function Gv(o,a,u){const h=Ie(),p=Gt(),m=o+20,y=p.firstCreatePass?function(o,a,u,h,p){const m=a.consts,y=oo(m,h),v=ff(a,o,8,"ng-container",y);return null!==y&&ka(v,y,!0),KE(a,u,v,oo(m,p)),null!==a.queries&&a.queries.elementStart(a,v),v}(m,p,h,a,u):p.data[m];Vs(y,!0);const v=h[m]=h[11].createComment("");zo(p,h,v,y),T(v,h),Si(y)&&(WE(p,h,y),LM(p,y,h)),null!=u&&qE(h,y)}function Af(){let o=Yn();const a=Gt();vc()?Fh():(o=o.parent,Vs(o,!1)),a.firstCreatePass&&(al(a,o),Th(o)&&a.queries.elementEnd(o))}function Wv(o,a,u){Gv(o,a,u),Af()}function xT(){return Ie()}function qv(o){return!!o&&"function"==typeof o.then}function DT(o){return!!o&&"function"==typeof o.subscribe}const Kv=DT;function Yv(o,a,u,h){const p=Ie(),m=Gt(),y=Yn();return function(o,a,u,h,p,m,y,v){const w=Si(h),I=o.firstCreatePass&&Rl(o),O=a[8],P=tk(a);let U=!0;if(3&h.type||v){const te=Ur(h,a),Re=v?v(te):te,be=P.length,Xe=v?_t=>v(kn(_t[h.index])):h.index;if(An(u)){let _t=null;if(!v&&w&&(_t=function(o,a,u,h){const p=o.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const y=p[m];if(y===u&&p[m+1]===h){const v=a[7],w=p[m+2];return v.length>w?v[w]:null}"string"==typeof y&&(m+=2)}return null}(o,a,p,h.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=m,_t.__ngLastListenerFn__=m,U=!1;else{m=kf(h,a,O,m,!1);const Kt=u.listen(Re,p,m);P.push(m,Kt),I&&I.push(p,Xe,be,be+1)}}else m=kf(h,a,O,m,!0),Re.addEventListener(p,m,y),P.push(m),I&&I.push(p,Xe,be,y)}else m=kf(h,a,O,m,!1);const q=h.outputs;let he;if(U&&null!==q&&(he=q[p])){const te=he.length;if(te)for(let Re=0;Re<te;Re+=2){const Ji=a[he[Re]][he[Re+1]].subscribe(m),Ys=P.length;P.push(m,Ji),I&&I.push(p,h.index,Ys,-(Ys+1))}}}(m,p,p[11],y,o,a,!!u,h),Yv}function xm(o,a,u,h){try{return!1!==u(h)}catch(p){return lm(o,p),!1}}function kf(o,a,u,h,p){return function m(y){if(y===Function)return h;const v=2&o.flags?zi(o.index,a):a;0==(32&a[2])&&am(v);let w=xm(a,0,h,y),D=m.__ngNextListenerFn__;for(;D;)w=xm(a,0,D,y)&&w,D=D.__ngNextListenerFn__;return p&&!1===w&&(y.preventDefault(),y.returnValue=!1),w}}function Rf(o=1){return function(o){return(mt.lFrame.contextLView=function(o,a){for(;o>0;)a=a[15],o--;return a}(o,mt.lFrame.contextLView))[8]}(o)}function Fk(o,a){let u=null;const h=function(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(o);for(let p=0;p<a.length;p++){const m=a[p];if("*"!==m){if(null===h?CM(o,m,!0):TM(h,m))return p}else u=p}return u}function IT(o){const a=Ie()[16][6];if(!a.projection){const h=a.projection=Vo(o?o.length:1,null),p=h.slice();let m=a.child;for(;null!==m;){const y=o?Fk(m,o):0;null!==y&&(p[y]?p[y].projectionNext=m:h[y]=m,p[y]=m),m=m.next}}}function ST(o,a=0,u){const h=Ie(),p=Gt(),m=ff(p,20+o,16,null,u||null);null===m.projection&&(m.projection=a),Fh(),64!=(64&m.flags)&&function(o,a,u){qy(a[11],0,a,u,of(o,u,a),$y(u.parent||a[6],u,a))}(p,h,m)}function OT(o,a,u,h,p){const m=o[u+1],y=null===a;let v=h?Ko(m):Al(m),w=!1;for(;0!==v&&(!1===w||y);){const I=o[v+1];bH(o[v],a)&&(w=!0,o[v+1]=h?LE(I):FE(I)),v=h?Ko(I):Al(I)}w&&(o[u+1]=h?FE(m):LE(m))}function bH(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&yl(o,a)>=0}const Oi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function PT(o){return o.substring(Oi.key,Oi.keyEnd)}function eb(o,a){const u=Oi.textEnd;return u===a?-1:(a=Oi.keyEnd=function(o,a,u){for(;a<u&&o.charCodeAt(a)>32;)a++;return a}(o,Oi.key=a,u),Sd(o,a,u))}function Sd(o,a,u){for(;a<u&&o.charCodeAt(a)<=32;)a++;return a}function Sm(o,a,u){return _o(o,a,u,!1),Sm}function Am(o,a){return _o(o,a,null,!0),Am}function UT(o){!function(o,a,u,h){const p=Gt(),m=ns(2);p.firstUpdatePass&&Ad(p,null,m,h);const y=Ie();if(u!==It&&Pn(y,m,u)){const v=p.data[ar()];if(As(v,h)&&!Mm(p,m)){let w=h?v.classesWithoutHost:v.stylesWithoutHost;null!==w&&(u=j(w,u||"")),jv(p,v,y,u,h)}else!function(o,a,u,h,p,m,y,v){p===It&&(p=Ut);let w=0,D=0,I=0<p.length?p[0]:null,O=0<m.length?m[0]:null;for(;null!==I||null!==O;){const P=w<p.length?p[w+1]:void 0,U=D<m.length?m[D+1]:void 0;let he,q=null;I===O?(w+=2,D+=2,P!==U&&(q=O,he=U)):null===O||null!==I&&I<O?(w+=2,q=I):(D+=2,q=O,he=U),null!==q&&sb(o,a,u,h,q,he,y,v),I=w<p.length?p[w]:null,O=D<m.length?m[D]:null}}(p,v,y,y[11],y[m+1],y[m+1]=function(o,a,u){if(null==u||""===u)return Ut;const h=[],p=Sa(u);if(Array.isArray(p))for(let m=0;m<p.length;m++)o(h,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&o(h,m,p[m]);else"string"==typeof p&&a(h,p);return h}(o,a,u),h,m)}}(Qn,mo,o,!0)}function mo(o,a){for(let u=function(o){return function(o){Oi.key=0,Oi.keyEnd=0,Oi.value=0,Oi.valueEnd=0,Oi.textEnd=o.length}(o),eb(o,Sd(o,0,Oi.textEnd))}(a);u>=0;u=eb(a,u))Qn(o,PT(a),!0)}function _o(o,a,u,h){const p=Ie(),m=Gt(),y=ns(2);m.firstUpdatePass&&Ad(m,o,y,h),a!==It&&Pn(p,y,a)&&sb(m,m.data[ar()],p,p[11],o,p[y+1]=function(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=V(Sa(o)))),o}(a,u),h,y)}function Mm(o,a){return a>=o.expandoStartIndex}function Ad(o,a,u,h){const p=o.data;if(null===p[u+1]){const m=p[ar()],y=Mm(o,u);As(m,h)&&null===a&&!y&&(a=!1),a=function(o,a,u,h){const p=function(o){const a=mt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let m=h?a.residualClasses:a.residualStyles;if(null===p)0===(h?a.classBindings:a.styleBindings)&&(u=Ff(u=rb(null,o,a,u,h),a.attrs,h),m=null);else{const y=a.directiveStylingLast;if(-1===y||o[y]!==p)if(u=rb(p,o,a,u,h),null===m){let w=function(o,a,u){const h=u?a.classBindings:a.styleBindings;if(0!==Al(h))return o[Ko(h)]}(o,a,h);void 0!==w&&Array.isArray(w)&&(w=rb(null,o,a,w[1],h),w=Ff(w,a.attrs,h),function(o,a,u,h){o[Ko(u?a.classBindings:a.styleBindings)]=h}(o,a,h,w))}else m=function(o,a,u){let h;const p=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<p;m++)h=Ff(h,o[m].hostAttrs,u);return Ff(h,a.attrs,u)}(o,a,h)}return void 0!==m&&(h?a.residualClasses=m:a.residualStyles=m),u}(p,m,a,h),function(o,a,u,h,p,m){let y=m?a.classBindings:a.styleBindings,v=Ko(y),w=Al(y);o[h]=u;let I,D=!1;if(Array.isArray(u)){const O=u;I=O[1],(null===I||yl(O,I)>0)&&(D=!0)}else I=u;if(p)if(0!==w){const P=Ko(o[v+1]);o[h+1]=sv(P,v),0!==P&&(o[P+1]=NE(o[P+1],h)),o[v+1]=function(o,a){return 131071&o|a<<17}(o[v+1],h)}else o[h+1]=sv(v,0),0!==v&&(o[v+1]=NE(o[v+1],h)),v=h;else o[h+1]=sv(w,0),0===v?v=h:o[w+1]=NE(o[w+1],h),w=h;D&&(o[h+1]=FE(o[h+1])),OT(o,I,h,!0),OT(o,I,h,!1),function(o,a,u,h,p){const m=p?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&yl(m,a)>=0&&(u[h+1]=LE(u[h+1]))}(a,I,o,h,m),y=sv(v,w),m?a.classBindings=y:a.styleBindings=y}(p,m,a,u,y,h)}}function rb(o,a,u,h,p){let m=null;const y=u.directiveEnd;let v=u.directiveStylingLast;for(-1===v?v=u.directiveStart:v++;v<y&&(m=a[v],h=Ff(h,m.hostAttrs,p),m!==o);)v++;return null!==o&&(u.directiveStylingLast=v),h}function Ff(o,a,u){const h=u?1:2;let p=-1;if(null!==a)for(let m=0;m<a.length;m++){const y=a[m];"number"==typeof y?p=y:p===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Qn(o,y,!!u||a[++m]))}return void 0===o?null:o}function sb(o,a,u,h,p,m,y,v){if(!(3&a.type))return;const w=o.data,D=w[v+1];Zc(function(o){return 1==(1&o)}(D)?ob(w,a,u,p,Al(D),y):void 0)||(Zc(m)||function(o){return 2==(2&o)}(D)&&(m=ob(w,null,u,p,v,y)),function(o,a,u,h,p){const m=An(o);if(a)p?m?o.addClass(u,h):u.classList.add(h):m?o.removeClass(u,h):u.classList.remove(h);else{let y=-1===h.indexOf("-")?void 0:zr.DashCase;if(null==p)m?o.removeStyle(u,h,y):u.style.removeProperty(h);else{const v="string"==typeof p&&p.endsWith("!important");v&&(p=p.slice(0,-10),y|=zr.Important),m?o.setStyle(u,h,p,y):u.style.setProperty(h,p,v?"important":"")}}}(h,y,il(ar(),u),p,m))}function ob(o,a,u,h,p,m){const y=null===a;let v;for(;p>0;){const w=o[p],D=Array.isArray(w),I=D?w[1]:w,O=null===I;let P=u[p+1];P===It&&(P=O?Ut:void 0);let U=O?_l(P,h):I===h?P:void 0;if(D&&!Zc(U)&&(U=_l(w,h)),Zc(U)&&(v=U,y))return v;const q=o[p+1];p=y?Ko(q):Al(q)}if(null!==a){let w=m?a.residualClasses:a.residualStyles;null!=w&&(v=_l(w,h))}return v}function Zc(o){return void 0!==o}function As(o,a){return 0!=(o.flags&(a?16:32))}function Qc(o,a=""){const u=Ie(),h=Gt(),p=o+20,m=h.firstCreatePass?ff(h,p,1,a,null):h.data[p],y=u[p]=function(o,a){return An(o)?o.createText(a):o.createTextNode(a)}(u[11],a);zo(h,u,y,m),Vs(m,!1)}function ab(o){return Rm("",o,""),ab}function Rm(o,a,u){const h=Ie(),p=function(o,a,u,h){return Pn(o,Ro(),u)?a+We(u)+h:It}(h,o,a,u);return p!==It&&$s(h,ar(),p),Rm}function _b(o,a,u){const h=Ie();return Pn(h,Ro(),a)&&js(Gt(),Mn(),h,o,a,h[11],u,!0),_b}const Ll=void 0;var Xk=["en",[["a","p"],["AM","PM"],Ll],[["AM","PM"],Ll,Ll],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ll,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ll,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ll,"{1} 'at' {0}",Ll],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const a=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Md={};function ix(o,a,u){"string"!=typeof a&&(u=a,a=o[ut.LocaleId]),a=a.toLowerCase().replace(/_/g,"-"),Md[a]=o,u&&(Md[a][ut.ExtraData]=u)}function kd(o){const a=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=yb(a);if(u)return u;const h=a.split("-")[0];if(u=yb(h),u)return u;if("en"===h)return Xk;throw new Error(`Missing locale data for the locale "${o}".`)}function rx(o){return kd(o)[ut.PluralCase]}function yb(o){return o in Md||(Md[o]=wt.ng&&wt.ng.common&&wt.ng.common.locales&&wt.ng.common.locales[o]),Md[o]}var ut=(()=>((ut=ut||{})[ut.LocaleId=0]="LocaleId",ut[ut.DayPeriodsFormat=1]="DayPeriodsFormat",ut[ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",ut[ut.DaysFormat=3]="DaysFormat",ut[ut.DaysStandalone=4]="DaysStandalone",ut[ut.MonthsFormat=5]="MonthsFormat",ut[ut.MonthsStandalone=6]="MonthsStandalone",ut[ut.Eras=7]="Eras",ut[ut.FirstDayOfWeek=8]="FirstDayOfWeek",ut[ut.WeekendRange=9]="WeekendRange",ut[ut.DateFormat=10]="DateFormat",ut[ut.TimeFormat=11]="TimeFormat",ut[ut.DateTimeFormat=12]="DateTimeFormat",ut[ut.NumberSymbols=13]="NumberSymbols",ut[ut.NumberFormats=14]="NumberFormats",ut[ut.CurrencyCode=15]="CurrencyCode",ut[ut.CurrencySymbol=16]="CurrencySymbol",ut[ut.CurrencyName=17]="CurrencyName",ut[ut.Currencies=18]="Currencies",ut[ut.Directionality=19]="Directionality",ut[ut.PluralCase=20]="PluralCase",ut[ut.ExtraData=21]="ExtraData",ut))();const Fm="en-US";let sx=Fm;function ox(o){Qt(o,"Expected localeId to be defined"),"string"==typeof o&&(sx=o.toLowerCase().replace(/_/g,"-"))}function bx(o,a,u,h,p){if(o=ue(o),Array.isArray(o))for(let m=0;m<o.length;m++)bx(o[m],a,u,h,p);else{const m=Gt(),y=Ie();let v=Uc(o)?o:ue(o.provide),w=XE(o);const D=Yn(),I=1048575&D.providerIndexes,O=D.directiveStart,P=D.providerIndexes>>20;if(Uc(o)||!o.multi){const U=new Ec(w,p,ur),q=as(v,a,p?I:I+P,O);-1===q?(hl(Ze(D,y),m,v),Pi(m,o,a.length),a.push(v),D.directiveStart++,D.directiveEnd++,p&&(D.providerIndexes+=1048576),u.push(U),y.push(U)):(u[q]=U,y[q]=U)}else{const U=as(v,a,I+P,O),q=as(v,a,I,I+P),he=U>=0&&u[U],te=q>=0&&u[q];if(p&&!te||!p&&!he){hl(Ze(D,y),m,v);const Re=function(o,a,u,h,p){const m=new Ec(o,u,ur);return m.multi=[],m.index=a,m.componentProviders=0,Bl(m,p,h&&!u),m}(p?HH:UH,u.length,p,h,w);!p&&te&&(u[q].providerFactory=Re),Pi(m,o,a.length,0),a.push(v),D.directiveStart++,D.directiveEnd++,p&&(D.providerIndexes+=1048576),u.push(Re),y.push(Re)}else Pi(m,o,U>-1?U:q,Bl(u[p?q:U],w,!p&&h));!p&&h&&te&&u[q].componentProviders++}}}function Pi(o,a,u,h){const p=Uc(a);if(p||function(o){return!!o.useClass}(a)){const y=(a.useClass||a).prototype.ngOnDestroy;if(y){const v=o.destroyHooks||(o.destroyHooks=[]);if(!p&&a.multi){const w=v.indexOf(u);-1===w?v.push(u,[h,y]):v[w+1].push(h,y)}else v.push(u,y)}}}function Bl(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function as(o,a,u,h){for(let p=u;p<h;p++)if(a[p]===o)return p;return-1}function UH(o,a,u,h){return Um(this.multi,[])}function HH(o,a,u,h){const p=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=fl(u,u[1],this.providerFactory.index,h);m=v.slice(0,y),Um(p,m);for(let w=y;w<v.length;w++)m.push(v[w])}else m=[],Um(p,m);return m}function Um(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function Hm(o,a=[]){return u=>{u.providersResolver=(h,p)=>function(o,a,u){const h=Gt();if(h.firstCreatePass){const p=Ts(o);bx(u,h.data,h.blueprint,p,!0),bx(a,h.data,h.blueprint,p,!1)}}(h,p?p(o):o,a)}}class kR{}const RR="ngComponent";class Jc{resolveComponentFactory(a){throw function(o){const a=Error(`No component factory found for ${V(o)}. Did you add it to @NgModule.entryComponents?`);return a[RR]=o,a}(a)}}let Ms=(()=>{class o{}return o.NULL=new Jc,o})();function Fa(...o){}function Pd(o,a){return new Qo(Ur(o,a))}const FR=function(){return Pd(Yn(),Ie())};let Qo=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=FR,o})();function wx(o){return o instanceof Qo?o.nativeElement:o}class Hl{}let Xc=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>zm(),o})();const zm=function(){const o=Ie(),u=zi(Yn().index,o);return function(o){return o[11]}(Sn(u)?u:o)};let Ki=(()=>{class o{}return o.\u0275prov=Ft({token:o,providedIn:"root",factory:()=>null}),o})();class Ex{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const jm=new Ex("12.2.17");class Tx{constructor(){}supports(a){return zc(a)}create(a){return new Hf(a)}}const BR=(o,a)=>a;class Hf{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||BR}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,h=this._removalsHead,p=0,m=null;for(;u||h;){const y=!h||u&&u.currentIndex<Na(h,p,m)?u:h,v=Na(y,p,m),w=y.currentIndex;if(y===h)p--,h=h._nextRemoved;else if(u=u._next,null==y.previousIndex)p++;else{m||(m=[]);const D=v-p,I=w-p;if(D!=I){for(let P=0;P<D;P++){const U=P<m.length?m[P]:m[P]=0,q=U+P;I<=q&&q<D&&(m[P]=U+1)}m[y.previousIndex]=I-D}}v!==w&&a(y,v,w)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!zc(a))throw new Error(`Error trying to diff '${V(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let p,m,y,u=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let v=0;v<this.length;v++)m=a[v],y=this._trackByFn(v,m),null!==u&&Object.is(u.trackById,y)?(h&&(u=this._verifyReinsertion(u,m,y,v)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,y,v),h=!0),u=u._next}else p=0,function(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[yf()]();let h;for(;!(h=u.next()).done;)a(h.value)}}(a,v=>{y=this._trackByFn(p,v),null!==u&&Object.is(u.trackById,y)?(h&&(u=this._verifyReinsertion(u,v,y,p)),Object.is(u.item,v)||this._addIdentityChange(u,v)):(u=this._mismatch(u,v,y,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,h,p){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,m,p)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,m,p)):a=this._addAfter(new zl(u,h),m,p),a}_verifyReinsertion(a,u,h,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?a=this._reinsertAfter(m,a._prev,p):a.currentIndex!=p&&(a.currentIndex=p,this._addToMoves(a,p)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const p=a._prevRemoved,m=a._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(a,u,h),this._addToMoves(a,h),a}_moveAfter(a,u,h){return this._unlink(a),this._insertAfter(a,u,h),this._addToMoves(a,h),a}_addAfter(a,u,h){return this._insertAfter(a,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,h){const p=null===u?this._itHead:u._next;return a._next=p,a._prev=u,null===p?this._itTail=a:p._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new dr),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,h=a._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dr),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class zl{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xx{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const u=a._prevDup,h=a._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class dr{constructor(){this.map=new Map}put(a){const u=a.trackById;let h=this.map.get(u);h||(h=new xx,this.map.set(u,h)),h.add(a)}get(a,u){const p=this.map.get(a);return p?p.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Na(o,a,u){const h=o.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+a+p}class Dx{constructor(){}supports(a){return a instanceof Map||gm(a)}create(){return new Ob}}class Ob{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||gm(a)))throw new Error(`Error trying to diff '${V(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const h=a._prev;return u._next=a,u._prev=h,a._prev=u,h&&(h._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const p=this._records.get(a);this._maybeAddToChanges(p,u);const m=p._prev,y=p._next;return m&&(m._next=y),y&&(y._prev=m),p._next=null,p._prev=null,p}const h=new Ix(a);return this._records.set(a,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(h=>u(a[h],h))}}class Ix{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Pb(){return new zf([new Tx])}let zf=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||Pb()),deps:[[o,new co,new Hs]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(o){return o.name||typeof o}(u)}'`)}}return o.\u0275prov=Ft({token:o,providedIn:"root",factory:Pb}),o})();function Fb(){return new jf([new Dx])}let jf=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||Fb()),deps:[[o,new co,new Hs]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(h)return h;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return o.\u0275prov=Ft({token:o,providedIn:"root",factory:Fb}),o})();function $f(o,a,u,h,p=!1){for(;null!==u;){const m=a[u.index];if(null!==m&&h.push(kn(m)),Kn(m))for(let v=10;v<m.length;v++){const w=m[v],D=w[1].firstChild;null!==D&&$f(w[1],w,D,h)}const y=u.type;if(8&y)$f(o,a,u.child,h);else if(32&y){const v=Dl(u,a);let w;for(;w=v();)h.push(w)}else if(16&y){const v=dE(a,u);if(Array.isArray(v))h.push(...v);else{const w=cr(a[16]);$f(w[1],w,v,h,!0)}}u=p?u.projectionNext:u.next}return h}class Fd{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return $f(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Kn(a)){const u=a[8],h=u?u.indexOf(this):-1;h>-1&&(sf(a,h),Bs(u,h))}this._attachedToViewContainer=!1}rE(this._lView[1],this._lView)}onDestroy(a){HM(this._lView[1],this._lView,null,a)}markForCheck(){am(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){wd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,a,u){Nh(!0);try{wd(o,a,u)}finally{Nh(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,Ia(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class jl extends Fd{constructor(a){super(a),this._view=a}detectChanges(){ZE(this._view)}checkNoChanges(){!function(o){Nh(!0);try{ZE(o)}finally{Nh(!1)}}(this._view)}get context(){return null}}const Mx=function(o){return function(o,a,u){if(_r(o)&&!u){const h=zi(o.index,a);return new Fd(h,h)}return 47&o.type?new Fd(a[16],a):null}(Yn(),Ie(),16==(16&o))};let kx=(()=>{class o{}return o.__NG_ELEMENT_ID__=Mx,o})();const Ox=[new Dx],Px=new zf([new Tx]),Lb=new jf(Ox),Nx=function(){return Gf(Yn(),Ie())};let tu=(()=>{class o{}return o.__NG_ELEMENT_ID__=Nx,o})();const $m=tu,Lx=class extends $m{constructor(a,u,h){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(a){const u=this._declarationTContainer.tViews,h=rm(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(h[19]=m.createEmbeddedView(u)),sm(u,h,a),new Fd(h)}};function Gf(o,a){return 4&o.type?new Lx(a,o,Pd(o,a)):null}class ai{}class La{}const GH=function(){return Hx(Yn(),Ie())};let Va=(()=>{class o{}return o.__NG_ELEMENT_ID__=GH,o})();const Bb=Va,Wf=class extends Bb{constructor(a,u,h){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=h}get element(){return Pd(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){const a=ji(this._hostTNode,this._hostLView);if(ky(a)){const u=xc(a,this._hostLView),h=pa(a);return new si(u[1].data[h+8],u)}return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=Ux(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,h){const p=a.createEmbeddedView(u||{});return this.insert(p,h),p}createComponent(a,u,h,p,m){const y=h||this.parentInjector;if(!m&&null==a.ngModule&&y){const w=y.get(ai,null);w&&(m=w)}const v=a.create(y,p,void 0,m);return this.insert(v.hostView,u),v}insert(a,u){const h=a._lView,p=h[1];if(Kn(h[3])){const I=this.indexOf(a);if(-1!==I)this.detach(I);else{const O=h[3],P=new Wf(O,O[6],O[3]);P.detach(P.indexOf(a))}}const m=this._adjustIndex(u),y=this._lContainer;!function(o,a,u,h){const p=10+h,m=u.length;h>0&&(u[p-1][4]=a),h<m-10?(a[4]=u[p],td(u,10+h,a)):(u.push(a),a[4]=null),a[3]=u;const y=a[17];null!==y&&u!==y&&function(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(y,a);const v=a[19];null!==v&&v.insertView(o),a[2]|=128}(p,h,y,m);const v=Gy(m,y),w=h[11],D=zg(w,y[7]);return null!==D&&function(o,a,u,h,p,m){h[0]=p,h[6]=a,Ia(o,h,u,1,p,m)}(p,y[6],w,h,D,v),a.attachToViewContainerRef(),td(qf(y),m,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=Ux(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),h=sf(this._lContainer,u);h&&(Bs(qf(this._lContainer),u),rE(h[1],h))}detach(a){const u=this._adjustIndex(a,-1),h=sf(this._lContainer,u);return h&&null!=Bs(qf(this._lContainer),u)?new Fd(h):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function Ux(o){return o[8]}function qf(o){return o[8]||(o[8]=[])}function Hx(o,a){let u;const h=a[o.index];if(Kn(h))u=h;else{let p;if(8&o.type)p=kn(h);else{const m=a[11];p=m.createComment("");const y=Ur(o,a);Da(m,zg(m,y),p,function(o,a){return An(o)?o.nextSibling(a):a.nextSibling}(m,y),!1)}a[o.index]=u=YM(h,a,p,o),om(a,u)}return new Wf(u,o,a)}const Jf={};class nw extends Ms{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=on(a);return new rw(u,this.ngModule)}}function cD(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}const l4=new hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>iv});class rw extends kR{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=a.selectors.map(xM).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return cD(this.componentDef.inputs)}get outputs(){return cD(this.componentDef.outputs)}create(a,u,h,p){const m=(p=p||this.ngModule)?function(o,a){return{get:(u,h,p)=>{const m=o.get(u,Jf,p);return m!==Jf||h===Jf?m:a.get(u,h,p)}}}(a,p.injector):a,y=m.get(Hl,cg),v=m.get(Ki,null),w=y.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",I=h?function(o,a,u){if(An(o))return o.selectRootElement(a,u===yn.ShadowDom);let h="string"==typeof a?o.querySelector(a):a;return h.textContent="",h}(w,h,this.componentDef.encapsulation):Uy(y.createRenderer(null,this.componentDef),D,function(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(D)),O=this.componentDef.onPush?576:528,P=function(o,a){return{components:[],scheduler:o||iv,clean:XU,playerHandler:a||null,flags:0}}(),U=lv(0,null,null,1,0,null,null,null,null,null),q=rm(null,U,P,O,null,null,y,w,v,m);let he,te;ol(q);try{const Re=function(o,a,u,h,p,m){const y=u[1];u[20]=o;const w=ff(y,20,2,"#host",null),D=w.mergedAttrs=a.hostAttrs;null!==D&&(ka(w,D,!0),null!==o&&(cl(p,o,D),null!==w.classes&&os(p,o,w.classes),null!==w.styles&&Gg(p,o,w.styles)));const I=h.createRenderer(o,a),O=rm(u,VM(a),null,a.onPush?64:16,u[20],w,h,I,m||null,null);return y.firstCreatePass&&(hl(Ze(w,u),y,a.type),WM(y,w),qM(w,u.length,1)),om(u,O),u[20]=O}(I,this.componentDef,q,y,w);if(I)if(h)cl(w,I,["ng-version",jm.full]);else{const{attrs:be,classes:Xe}=function(o){const a=[],u=[];let h=1,p=2;for(;h<o.length;){let m=o[h];if("string"==typeof m)2===p?""!==m&&a.push(m,o[++h]):8===p&&u.push(m);else{if(!qo(p))break;p=m}h++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);be&&cl(w,I,be),Xe&&Xe.length>0&&os(w,I,Xe.join(" "))}if(te=ju(U,20),void 0!==u){const be=te.projection=[];for(let Xe=0;Xe<this.ngContentSelectors.length;Xe++){const _t=u[Xe];be.push(null!=_t?Array.from(_t):null)}}he=function(o,a,u,h,p){const m=u[1],y=function(o,a,u){const h=Yn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),KM(o,h,a,pf(o,a,1,null),u));const p=fl(a,o,h.directiveStart,h);T(p,a);const m=Ur(h,a);return m&&T(m,a),p}(m,u,a);if(h.components.push(y),o[8]=y,p&&p.forEach(w=>w(y,a)),a.contentQueries){const w=Yn();a.contentQueries(1,y,w.directiveStart)}const v=Yn();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(da(v.index),$M(u[1],v,0,v.directiveStart,v.directiveEnd,a),GM(a,y)),y}(Re,this.componentDef,q,P,[dT]),sm(U,q,null)}finally{ua()}return new _O(this.componentType,he,Pd(te,q),q,te)}}class _O extends class{}{constructor(a,u,h,p,m){super(),this.location=h,this._rootLView=p,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new jl(p),this.componentType=a}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const Ud=new Map;class hD extends ai{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new nw(this);const h=xi(a),p=a[Cs]||null;p&&ox(p),this._bootstrapComponents=Wo(h.bootstrap),this._r3Injector=JE(a,u,[{provide:ai,useValue:this},{provide:Ms,useValue:this.componentFactoryResolver}],V(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=On.THROW_IF_NOT_FOUND,h=rt.Default){return a===On||a===ai||a===Cd?this:this._r3Injector.get(a,u,h)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class sw extends La{constructor(a){super(),this.moduleType=a,null!==xi(a)&&function(o){const a=new Set;!function u(h){const p=xi(h,!0),m=p.id;null!==m&&(function(o,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${o} - ${V(a)} vs ${V(a.name)}`)}(m,Ud.get(m),h),Ud.set(m,h));const y=Wo(p.imports);for(const v of y)a.has(v)||(a.add(v),u(v))}(o)}(a)}create(a){return new hD(this.moduleType,a)}}function fD(o,a,u){const h=fi()+o,p=Ie();return p[h]===It?fo(p,h,u?a.call(u):a()):vf(p,h)}function pD(o,a,u,h){return bD(Ie(),fi(),o,a,u,h)}function ow(o,a,u,h,p){return function(o,a,u,h,p,m,y){const v=a+u;return po(o,v,p,m)?fo(o,v+2,y?h.call(y,p,m):h(p,m)):Xf(o,v+2)}(Ie(),fi(),o,a,u,h,p)}function gD(o,a,u,h,p,m){return function(o,a,u,h,p,m,y,v){const w=a+u;return Is(o,w,p,m,y)?fo(o,w+3,v?h.call(v,p,m,y):h(p,m,y)):Xf(o,w+3)}(Ie(),fi(),o,a,u,h,p,m)}function mD(o,a,u,h,p,m,y){return function(o,a,u,h,p,m,y,v,w){const D=a+u;return go(o,D,p,m,y,v)?fo(o,D+4,w?h.call(w,p,m,y,v):h(p,m,y,v)):Xf(o,D+4)}(Ie(),fi(),o,a,u,h,p,m,y)}function Xm(o,a,u,h,p,m,y,v){const w=fi()+o,D=Ie(),I=go(D,w,u,h,p,m);return Pn(D,w+4,y)||I?fo(D,w+5,v?a.call(v,u,h,p,m,y):a(u,h,p,m,y)):vf(D,w+5)}function _D(o,a,u,h,p,m,y,v,w){const D=fi()+o,I=Ie(),O=go(I,D,u,h,p,m);return po(I,D+4,y,v)||O?fo(I,D+6,w?a.call(w,u,h,p,m,y,v):a(u,h,p,m,y,v)):vf(I,D+6)}function yD(o,a,u,h,p,m,y,v,w,D){const I=fi()+o,O=Ie();let P=go(O,I,u,h,p,m);return Is(O,I+4,y,v,w)||P?fo(O,I+7,D?a.call(D,u,h,p,m,y,v,w):a(u,h,p,m,y,v,w)):vf(O,I+7)}function vD(o,a,u,h){return function(o,a,u,h,p,m){let y=a+u,v=!1;for(let w=0;w<p.length;w++)Pn(o,y++,p[w])&&(v=!0);return v?fo(o,y,h.apply(m,p)):Xf(o,y)}(Ie(),fi(),o,a,u,h)}function Xf(o,a){const u=o[a];return u===It?void 0:u}function bD(o,a,u,h,p,m){const y=a+u;return Pn(o,y,p)?fo(o,y+1,m?h.call(m,p):h(p)):Xf(o,y+1)}function xD(o,a){const u=Gt();let h;const p=o+20;u.firstCreatePass?(h=function(o,a){if(a)for(let u=a.length-1;u>=0;u--){const h=a[u];if(o===h.name)return h}throw new it("302",`The pipe '${o}' could not be found!`)}(a,u.pipeRegistry),u.data[p]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(p,h.onDestroy)):h=u.data[p];const m=h.factory||(h.factory=Mo(h.type)),y=ws(ur);try{const v=Ju(!1),w=m();return Ju(v),function(o,a,u,h){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=h}(u,Ie(),p,w),w}finally{ws(y)}}function DD(o,a,u){const h=o+20,p=Ie(),m=mc(p,h);return function(o,a){ho.isWrapped(a)&&(a=ho.unwrap(a),o[mt.lFrame.bindingIndex]=It);return a}(p,function(o,a){return o[1].data[a].pure}(p,h)?bD(p,fi(),a,m.transform,u,m):m.transform(u))}function aw(o){return a=>{setTimeout(o,void 0,a)}}const vo=class extends ie.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,h){var p,m,y;let v=a,w=u||(()=>null),D=h;if(a&&"object"==typeof a){const O=a;v=null===(p=O.next)||void 0===p?void 0:p.bind(O),w=null===(m=O.error)||void 0===m?void 0:m.bind(O),D=null===(y=O.complete)||void 0===y?void 0:y.bind(O)}this.__isAsync&&(w=aw(w),v&&(v=aw(v)),D&&(D=aw(D)));const I=super.subscribe({next:v,error:w,complete:D});return a instanceof ge.w&&a.add(I),I}};function TO(){return this._results[yf()]()}class t_{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=yf(),h=t_.prototype;h[u]||(h[u]=TO)}get changes(){return this._changes||(this._changes=new vo)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const h=this;h.dirty=!1;const p=is(a);(this._changesDetected=!function(o,a,u){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let p=o[h],m=a[h];if(u&&(p=u(p),m=u(m)),m!==p)return!1}return!0}(h._results,p,u))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class n_{constructor(a){this.queryList=a,this.matches=null}clone(){return new n_(this.queryList)}setDirty(){this.queryList.setDirty()}}class lw{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const h=null!==a.contentQueries?a.contentQueries[0]:u.length,p=[];for(let m=0;m<h;m++){const y=u.getByIndex(m);p.push(this.queries[y.indexInDeclarationView].clone())}return new lw(p)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==ND(a,u).matches&&this.queries[u].setDirty()}}class SD{constructor(a,u,h=null){this.predicate=a,this.flags=u,this.read=h}}class cw{constructor(a=[]){this.queries=a}elementStart(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(a,p);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new cw(u):null}template(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class uw{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new uw(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const m=h[p];this.matchTNodeWithReadOption(a,u,ep(u,m)),this.matchTNodeWithReadOption(a,u,Xu(u,a,m,!1,!1))}else h===tu?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Xu(u,a,h,!1,!1))}matchTNodeWithReadOption(a,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Qo||p===Va||p===tu&&4&u.type)this.addMatch(u.index,-2);else{const m=Xu(u,a,p,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function ep(o,a){const u=o.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===a)return u[h+1];return null}function MD(o,a,u,h){return-1===u?function(o,a){return 11&o.type?Pd(o,a):4&o.type?Gf(o,a):null}(a,o):-2===u?function(o,a,u){return u===Qo?Pd(a,o):u===tu?Gf(a,o):u===Va?Hx(a,o):void 0}(o,a,h):fl(o,o[1],u,a)}function tp(o,a,u,h){const p=a[19].queries[h];if(null===p.matches){const m=o.data,y=u.matches,v=[];for(let w=0;w<y.length;w+=2){const D=y[w];v.push(D<0?null:MD(a,m[D],y[w+1],u.metadata.read))}p.matches=v}return p.matches}function dw(o,a,u,h){const p=o.queries.getByIndex(u),m=p.matches;if(null!==m){const y=tp(o,a,p,u);for(let v=0;v<m.length;v+=2){const w=m[v];if(w>0)h.push(y[v/2]);else{const D=m[v+1],I=a[-w];for(let O=10;O<I.length;O++){const P=I[O];P[17]===P[3]&&dw(P[1],P,D,h)}if(null!==I[9]){const O=I[9];for(let P=0;P<O.length;P++){const U=O[P];dw(U[1],U,D,h)}}}}}return h}function RD(o){const a=Ie(),u=Gt(),h=qu();Bh(h+1);const p=ND(u,h);if(o.dirty&&Cy(a)===(2==(2&p.metadata.flags))){if(null===p.matches)o.reset([]);else{const m=p.crossesNgTemplate?dw(u,a,h,[]):tp(u,a,p,h);o.reset(m,wx),o.notifyOnChanges()}return!0}return!1}function OD(o,a,u){const h=Gt();h.firstCreatePass&&(FD(h,new SD(o,a,u),-1),2==(2&a)&&(h.staticViewQueries=!0)),i_(h,Ie(),a)}function PD(o,a,u,h){const p=Gt();if(p.firstCreatePass){const m=Yn();FD(p,new SD(a,u,h),m.index),function(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(p,o),2==(2&u)&&(p.staticContentQueries=!0)}i_(p,Ie(),u)}function hw(){return o=Ie(),a=qu(),o[19].queries[a].queryList;var o,a}function i_(o,a,u){const h=new t_(4==(4&u));HM(o,a,h,h.destroy),null===a[19]&&(a[19]=new lw),a[19].queries.push(new n_(h))}function FD(o,a,u){null===o.queries&&(o.queries=new cw),o.queries.track(new uw(a,u))}function ND(o,a){return o.queries.getByIndex(a)}function LD(o,a){return Gf(o,a)}const bw=new hn("Application Initializer");let jd=(()=>{class o{constructor(u){this.appInits=u,this.resolve=Fa,this.reject=Fa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(qv(m))u.push(m);else if(Kv(m)){const y=new Promise((v,w)=>{m.subscribe({complete:v,error:w})});u.push(y)}}Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Jn(bw,8))},o.\u0275prov=Ft({token:o,factory:o.\u0275fac}),o})();const nI=new hn("AppId"),XO={provide:nI,useFactory:function(){return`${ww()}${ww()}${ww()}`},deps:[]};function ww(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const iI=new hn("Platform Initializer"),rI=new hn("Platform ID"),sI=new hn("appBootstrapListener");let oI=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Ft({token:o,factory:o.\u0275fac}),o})();const l_=new hn("LocaleId"),aI=new hn("DefaultCurrencyCode");class tP{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}const Cw=function(o){return new sw(o)},nP=Cw,iP=function(o){return Promise.resolve(Cw(o))},lI=function(o){const a=Cw(o),h=Wo(xi(o).declarations).reduce((p,m)=>{const y=on(m);return y&&p.push(new rw(y)),p},[]);return new tP(a,h)},rP=lI,oP=function(o){return Promise.resolve(lI(o))};let rp=(()=>{class o{constructor(){this.compileModuleSync=nP,this.compileModuleAsync=iP,this.compileModuleAndAllComponentsSync=rP,this.compileModuleAndAllComponentsAsync=oP}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Ft({token:o,factory:o.\u0275fac}),o})();const cP=(()=>Promise.resolve(0))();function Ew(o){"undefined"==typeof Zone?cP.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Os{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vo(!1),this.onMicrotaskEmpty=new vo(!1),this.onStable=new vo(!1),this.onError=new vo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let o=wt.requestAnimationFrame,a=wt.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(o){const a=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(wt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,xw(o),o.isCheckStableRunning=!0,Tw(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),xw(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,m,y,v)=>{try{return cI(o),u.invokeTask(p,m,y,v)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),uI(o)}},onInvoke:(u,h,p,m,y,v,w)=>{try{return cI(o),u.invoke(p,m,y,v,w)}finally{o.shouldCoalesceRunChangeDetection&&a(),uI(o)}},onHasTask:(u,h,p,m)=>{u.hasTask(p,m),h===p&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,xw(o),Tw(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,p,m)=>(u.handleError(p,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Os.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Os.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,h){return this._inner.run(a,u,h)}runTask(a,u,h,p){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+p,a,dP,Fa,Fa);try{return m.runTask(y,u,h)}finally{m.cancelTask(y)}}runGuarded(a,u,h){return this._inner.runGuarded(a,u,h)}runOutsideAngular(a){return this._outer.run(a)}}const dP={};function Tw(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function xw(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function cI(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function uI(o){o._nesting--,Tw(o)}class pP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vo,this.onMicrotaskEmpty=new vo,this.onStable=new vo,this.onError=new vo}run(a,u,h){return a.apply(u,h)}runGuarded(a,u,h){return a.apply(u,h)}runOutsideAngular(a){return a()}runTask(a,u,h,p){return a.apply(u,h)}}let Dw=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Os.assertNotInAngularZone(),Ew(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ew(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,p){return[]}}return o.\u0275fac=function(u){return new(u||o)(Jn(Os))},o.\u0275prov=Ft({token:o,factory:o.\u0275fac}),o})(),dI=(()=>{class o{constructor(){this._applications=new Map,u_.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return u_.findTestabilityInTree(this,u,h)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=Ft({token:o,factory:o.\u0275fac}),o})();class gP{addToWindow(a){}findTestabilityInTree(a,u,h){return null}}function mP(o){u_=o}let u_=new gP,hI=!0,fI=!1;function Iw(){return fI=!0,hI}function _P(){if(fI)throw new Error("Cannot enable prod mode after platform setup.");hI=!1}let bo;const mI=new hn("AllowMultipleToken");class EP{constructor(a,u){this.name=a,this.token=u}}function _I(o,a,u=[]){const h=`Platform: ${a}`,p=new hn(h);return(m=[])=>{let y=yI();if(!y||y.injector.get(mI,!1))if(o)o(u.concat(m).concat({provide:p,useValue:!0}));else{const v=u.concat(m).concat({provide:p,useValue:!0},{provide:Ol,useValue:"platform"});!function(o){if(bo&&!bo.destroyed&&!bo.injector.get(mI,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");bo=o.get(vI);const a=o.get(iI,null);a&&a.forEach(u=>u())}(On.create({providers:v,name:h}))}return function(o){const a=yI();if(!a)throw new Error("No platform exists!");if(!a.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(p)}}function yI(){return bo&&!bo.destroyed?bo:null}let vI=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const v=function(o,a){let u;return u="noop"===o?new pP:("zone.js"===o?void 0:o)||new Os({enableLongStackTrace:Iw(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),w=[{provide:Os,useValue:v}];return v.run(()=>{const D=On.create({providers:w,parent:this.injector,name:u.moduleType.name}),I=u.create(D),O=I.injector.get(Sl,null);if(!O)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const P=v.onError.subscribe({next:U=>{O.handleError(U)}});I.onDestroy(()=>{Sw(this._modules,I),P.unsubscribe()})}),function(o,a,u){try{const h=u();return qv(h)?h.catch(p=>{throw a.runOutsideAngular(()=>o.handleError(p)),p}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(O,v,()=>{const P=I.injector.get(jd);return P.runInitializers(),P.donePromise.then(()=>(ox(I.injector.get(l_,Fm)||Fm),this._moduleDoBootstrap(I),I))})})}bootstrapModule(u,h=[]){const p=Ua({},h);return function(o,a,u){const h=new sw(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(u){const h=u.injector.get(sp);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${V(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Jn(On))},o.\u0275prov=Ft({token:o,factory:o.\u0275fac}),o})();function Ua(o,a){return Array.isArray(a)?a.reduce(Ua,o):Object.assign(Object.assign({},o),a)}let sp=(()=>{class o{constructor(u,h,p,m,y){this._zone=u,this._injector=h,this._exceptionHandler=p,this._componentFactoryResolver=m,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new c.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),w=new c.y(D=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Os.assertNotInAngularZone(),Ew(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Os.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{I.unsubscribe(),O.unsubscribe()}});this.isStable=function(...o){let a=Number.POSITIVE_INFINITY,u=null,h=o[o.length-1];return(0,ne.K)(h)?(u=o.pop(),o.length>1&&"number"==typeof o[o.length-1]&&(a=o.pop())):"number"==typeof h&&(a=o.pop()),null===u&&1===o.length&&o[0]instanceof c.y?o[0]:(0,J.J)(a)((0,se.n)(o,u))}(v,w.pipe((0,Ee.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let p;p=u instanceof kR?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(p.componentType);const m=function(o){return o.isBoundToModule}(p)?void 0:this._injector.get(ai),v=p.create(On.NULL,[],h||p.selector,m),w=v.location.nativeElement,D=v.injector.get(Dw,null),I=D&&v.injector.get(dI);return D&&I&&I.registerApplication(w,D),v.onDestroy(()=>{this.detachView(v.hostView),Sw(this.components,v),I&&I.unregisterApplication(w)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Sw(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(sI,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(Jn(Os),Jn(On),Jn(Sl),Jn(Ms),Jn(jd))},o.\u0275prov=Ft({token:o,factory:o.\u0275fac}),o})();function Sw(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}class AP{}class kP{}const RP={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let OP=(()=>{class o{constructor(u,h){this._compiler=u,this._config=h||RP}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[h,p]=u.split("#");return void 0===p&&(p="default"),L(8255)(h).then(m=>m[p]).then(m=>EI(m,h,p)).then(m=>this._compiler.compileModuleAsync(m))}loadFactory(u){let[h,p]=u.split("#"),m="NgFactory";return void 0===p&&(p="default",m=""),L(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(y=>y[p+m]).then(y=>EI(y,h,p))}}return o.\u0275fac=function(u){return new(u||o)(Jn(rp),Jn(kP,8))},o.\u0275prov=Ft({token:o,factory:o.\u0275fac}),o})();function EI(o,a,u){if(!o)throw new Error(`Cannot find '${u}' in '${a}'`);return o}const AI=function(o){return null},zP=_I(null,"core",[{provide:rI,useValue:"unknown"},{provide:vI,deps:[On]},{provide:dI,deps:[]},{provide:oI,deps:[]}]),WP=[{provide:sp,useClass:sp,deps:[Os,On,Sl,Ms,jd]},{provide:l4,deps:[Os],useFactory:function(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(u){a.push(u)}}},{provide:jd,useClass:jd,deps:[[new Hs,bw]]},{provide:rp,useClass:rp,deps:[]},XO,{provide:zf,useFactory:function(){return Px},deps:[]},{provide:jf,useFactory:function(){return Lb},deps:[]},{provide:l_,useFactory:function(o){return ox(o=o||"undefined"!=typeof $localize&&$localize.locale||Fm),o},deps:[[new pi(l_),new Hs,new co]]},{provide:aI,useValue:"USD"}];let h6=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Jn(sp))},o.\u0275mod=tn({type:o}),o.\u0275inj=Ei({providers:WP}),o})()},7745:(He,ve,L)=>{"use strict";L.d(ve,{hO:()=>fn});var c=L(8186),ne=L(3854),J=L(3910),se=L(158),ae=L(5422);class ie{constructor(ht,vt){this._delegate=ht,this.firebase=vt,(0,se._addComponent)(ht,new J.wA("app-compat",()=>this,"PUBLIC")),this.container=ht.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ht){this._delegate.automaticDataCollectionEnabled=ht}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ht=>{this._delegate.checkDestroyed(),ht()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,se.deleteApp)(this._delegate)))}_getService(ht,vt=se._DEFAULT_ENTRY_NAME){var dn;this._delegate.checkDestroyed();const En=this._delegate.container.getProvider(ht);return!En.isInitialized()&&"EXPLICIT"===(null===(dn=En.getComponent())||void 0===dn?void 0:dn.instantiationMode)&&En.initialize(),En.getImmediate({identifier:vt})}_removeServiceInstance(ht,vt=se._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ht).clearInstance(vt)}_addComponent(ht){(0,se._addComponent)(this._delegate,ht)}_addOrOverwriteComponent(ht){(0,se._addOrOverwriteComponent)(this._delegate,ht)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new ne.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function N(){const dt=function(dt){const ht={},vt={__esModule:!0,initializeApp:function(Pt,Jt={}){const Ft=se.initializeApp(Pt,Jt);if((0,ne.r3)(ht,Ft.name))return ht[Ft.name];const ui=new dt(Ft,vt);return ht[Ft.name]=ui,ui},app:En,registerVersion:se.registerVersion,setLogLevel:se.setLogLevel,onLog:se.onLog,apps:null,SDK_VERSION:se.SDK_VERSION,INTERNAL:{registerComponent:function(Pt){const Jt=Pt.name,Ft=Jt.replace("-compat","");if(se._registerComponent(Pt)&&"PUBLIC"===Pt.type){const ui=(Ei=En())=>{if("function"!=typeof Ei[Ft])throw Ee.create("invalid-app-argument",{appName:Jt});return Ei[Ft]()};void 0!==Pt.serviceProps&&(0,ne.ZB)(ui,Pt.serviceProps),vt[Ft]=ui,dt.prototype[Ft]=function(...Ei){return this._getService.bind(this,Jt).apply(this,Pt.multipleInstances?Ei:[])}}return"PUBLIC"===Pt.type?vt[Ft]:null},removeApp:function(Pt){delete ht[Pt]},useAsService:function(Pt,Jt){return"serverAuth"===Jt?null:Jt},modularAPIs:se}};function En(Pt){if(!(0,ne.r3)(ht,Pt=Pt||se._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:Pt});return ht[Pt]}return vt.default=vt,Object.defineProperty(vt,"apps",{get:function(){return Object.keys(ht).map(Pt=>ht[Pt])}}),En.App=dt,vt}(ie);return dt.INTERNAL=Object.assign(Object.assign({},dt.INTERNAL),{createFirebaseNamespace:N,extendNamespace:function(vt){(0,ne.ZB)(dt,vt)},createSubscribe:ne.ne,ErrorFactory:ne.LL,deepExtend:ne.ZB}),dt}(),j=new ae.Yd("@firebase/app-compat");if((0,ne.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const dt=self.firebase.SDK_VERSION;dt&&dt.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const De=V;(0,se.registerVersion)("@firebase/app-compat","0.2.12",undefined),De.registerVersion("firebase","9.22.2","app-compat");var pt=L(1394);He=L.hmd(He);class gr{constructor(ht){return ht}}const Rr=new c.OlP("angularfire2.app.options"),mr=new c.OlP("angularfire2.app.name"),mn={provide:gr,useFactory:function(dt,ht,vt){const En="object"==typeof vt&&vt||{};En.name=En.name||"string"==typeof vt&&vt||"[DEFAULT]";const Qt=De.apps.filter(ct=>ct&&ct.name===En.name)[0]||ht.runOutsideAngular(()=>De.initializeApp(dt,En));try{JSON.stringify(dt)!==JSON.stringify(Qt.options)&&((dt,...ht)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[dt](...ht)})("error",`${Qt.name} Firebase App already initialized with different options${He.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ct){}return new gr(Qt)},deps:[Rr,c.R0b,[new c.FiY,mr]]};let fn=(()=>{class dt{constructor(vt){De.registerVersion("angularfire",pt.q4.full,"core"),De.registerVersion("angularfire",pt.q4.full,"app-compat"),De.registerVersion("angular",c.q4F.full,vt.toString())}static initializeApp(vt,dn){return{ngModule:dt,providers:[{provide:Rr,useValue:vt},{provide:mr,useValue:dn}]}}}return dt.\u0275fac=function(vt){return new(vt||dt)(c.LFG(c.Lbi))},dt.\u0275mod=c.oAB({type:dt}),dt.\u0275inj=c.cJS({providers:[mn]}),dt})();globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1394:(He,ve,L)=>{"use strict";L.d(ve,{q4:()=>Pg,HU:()=>Rc,vb:()=>Fg,JM:()=>Vy,u3:()=>Vg});var c=L(8186),ne=L(8213),J=L(8239),se=L(158),ae=L(3854),ie=L(3910),ge=L(5422);let W,N;const re=new WeakMap,ye=new WeakMap,ue=new WeakMap,De=new WeakMap,st=new WeakMap;let gn={get(C,T,S){if(C instanceof IDBTransaction){if("done"===T)return ye.get(C);if("objectStoreNames"===T)return C.objectStoreNames||ue.get(C);if("store"===T)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return Rr(C[T])},set:(C,T,S)=>(C[T]=S,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function gr(C){return"function"==typeof C?function(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(N||(N=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(C)?function(...T){return C.apply(mr(this),T),Rr(re.get(this))}:function(...T){return Rr(C.apply(mr(this),T))}:function(T,...S){const F=C.call(mr(this),T,...S);return ue.set(F,T.sort?T.sort():[T]),Rr(F)}}(C):(C instanceof IDBTransaction&&function(C){if(ye.has(C))return;const T=new Promise((S,F)=>{const $=()=>{C.removeEventListener("complete",Y),C.removeEventListener("error",pe),C.removeEventListener("abort",pe)},Y=()=>{S(),$()},pe=()=>{F(C.error||new DOMException("AbortError","AbortError")),$()};C.addEventListener("complete",Y),C.addEventListener("error",pe),C.addEventListener("abort",pe)});ye.set(C,T)}(C),((C,T)=>T.some(S=>C instanceof S))(C,W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(C,gn):C)}function Rr(C){if(C instanceof IDBRequest)return function(C){const T=new Promise((S,F)=>{const $=()=>{C.removeEventListener("success",Y),C.removeEventListener("error",pe)},Y=()=>{S(Rr(C.result)),$()},pe=()=>{F(C.error),$()};C.addEventListener("success",Y),C.addEventListener("error",pe)});return T.then(S=>{S instanceof IDBCursor&&re.set(S,C)}).catch(()=>{}),st.set(T,C),T}(C);if(De.has(C))return De.get(C);const T=gr(C);return T!==C&&(De.set(C,T),st.set(T,C)),T}const mr=C=>st.get(C),mn=["get","getKey","getAll","getAllKeys","count"],fn=["put","add","delete","clear"],Ct=new Map;function Ot(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(Ct.get(T))return Ct.get(T);const S=T.replace(/FromIndex$/,""),F=T!==S,$=fn.includes(S);if(!(S in(F?IDBIndex:IDBObjectStore).prototype)||!$&&!mn.includes(S))return;const Y=function(){var pe=(0,J.Z)(function*(Fe,...Oe){const Ke=this.transaction(Fe,$?"readwrite":"readonly");let tt=Ke.store;return F&&(tt=tt.index(Oe.shift())),(yield Promise.all([tt[S](...Oe),$&&Ke.done]))[0]});return function(Oe){return pe.apply(this,arguments)}}();return Ct.set(T,Y),Y}var C;gn=ng(tg({},C=gn),{get:(T,S,F)=>Ot(T,S)||C.get(T,S,F),has:(T,S)=>!!Ot(T,S)||C.has(T,S)});const Qe="@firebase/installations",ht="w:0.6.4",vt="FIS_v2",Dn=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Pt(C){return C instanceof ae.ZR&&C.code.includes("request-failed")}function Jt({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ft(C){return{token:C.token,requestStatus:2,expiresIn:uc(C.expiresIn),creationTime:Date.now()}}function ui(C,T){return Ei.apply(this,arguments)}function Ei(){return Ei=(0,J.Z)(function*(C,T){const F=(yield T.json()).error;return Dn.create("request-failed",{requestName:C,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})}),Ei.apply(this,arguments)}function Pr({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Ya(C,{refreshToken:T}){const S=Pr(C);return S.append("Authorization",function(C){return`${vt} ${C}`}(T)),S}function Za(C){return Io.apply(this,arguments)}function Io(){return Io=(0,J.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T}),Io.apply(this,arguments)}function uc(C){return Number(C.replace("s","000"))}function dc(C,T){return Wn.apply(this,arguments)}function Wn(){return Wn=(0,J.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:S}){const F=Jt(C),$=Pr(C),Y=T.getImmediate({optional:!0});if(Y){const Ke=yield Y.getHeartbeatsHeader();Ke&&$.append("x-firebase-client",Ke)}const Fe={method:"POST",headers:$,body:JSON.stringify({fid:S,authVersion:vt,appId:C.appId,sdkVersion:ht})},Oe=yield Za(()=>fetch(F,Fe));if(Oe.ok){const Ke=yield Oe.json();return{fid:Ke.fid||S,registrationStatus:2,refreshToken:Ke.refreshToken,authToken:Ft(Ke.authToken)}}throw yield ui("Create Installation",Oe)}),Wn.apply(this,arguments)}function io(C){return new Promise(T=>{setTimeout(T,C)})}const sa=/^[cdef][\w-]{21}$/;function ws(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const S=function(C){return function(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return sa.test(S)?S:""}catch(C){return""}}function Fr(C){return`${C.appName}!${C.appId}`}const Ht=new Map;function qe(C,T){const S=Fr(C);yn(S,T),function(C,T){const S=(!Nr&&"BroadcastChannel"in self&&(Nr=new BroadcastChannel("[Firebase] FID Change"),Nr.onmessage=C=>{yn(C.data.key,C.data.fid)}),Nr);S&&S.postMessage({key:C,fid:T}),0===Ht.size&&Nr&&(Nr.close(),Nr=null)}(S,T)}function yn(C,T){const S=Ht.get(C);if(S)for(const F of S)F(T)}let Nr=null;const Wt="firebase-installations-store";let Xr=null;function Ut(){return Xr||(Xr=function(C,T,{blocked:S,upgrade:F,blocking:$,terminated:Y}={}){const pe=indexedDB.open(C,T),Fe=Rr(pe);return F&&pe.addEventListener("upgradeneeded",Oe=>{F(Rr(pe.result),Oe.oldVersion,Oe.newVersion,Rr(pe.transaction))}),S&&pe.addEventListener("blocked",()=>S()),Fe.then(Oe=>{Y&&Oe.addEventListener("close",()=>Y()),$&&Oe.addEventListener("versionchange",()=>$())}).catch(()=>{}),Fe}("firebase-installations-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(Wt)}})),Xr}function Lr(C,T){return sr.apply(this,arguments)}function sr(){return sr=(0,J.Z)(function*(C,T){const S=Fr(C),$=(yield Ut()).transaction(Wt,"readwrite"),Y=$.objectStore(Wt),pe=yield Y.get(S);return yield Y.put(T,S),yield $.done,(!pe||pe.fid!==T.fid)&&qe(C,T.fid),T}),sr.apply(this,arguments)}function ro(C){return So.apply(this,arguments)}function So(){return So=(0,J.Z)(function*(C){const T=Fr(C),F=(yield Ut()).transaction(Wt,"readwrite");yield F.objectStore(Wt).delete(T),yield F.done}),So.apply(this,arguments)}function Cs(C,T){return di.apply(this,arguments)}function di(){return di=(0,J.Z)(function*(C,T){const S=Fr(C),$=(yield Ut()).transaction(Wt,"readwrite"),Y=$.objectStore(Wt),pe=yield Y.get(S),Fe=T(pe);return void 0===Fe?yield Y.delete(S):yield Y.put(Fe,S),yield $.done,Fe&&(!pe||pe.fid!==Fe.fid)&&qe(C,Fe.fid),Fe}),di.apply(this,arguments)}function z(C){return H.apply(this,arguments)}function H(){return H=(0,J.Z)(function*(C){let T;const S=yield Cs(C.appConfig,F=>{const $=K(F),Y=Te(C,$);return T=Y.registrationPromise,Y.installationEntry});return""===S.fid?{installationEntry:yield T}:{installationEntry:S,registrationPromise:T}}),H.apply(this,arguments)}function K(C){return qn(C||{fid:ws(),registrationStatus:0})}function Te(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Dn.create("app-offline"))};const S={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},F=function(C,T){return Ge.apply(this,arguments)}(C,S);return{installationEntry:S,registrationPromise:F}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:bt(C)}:{installationEntry:T}}function Ge(){return Ge=(0,J.Z)(function*(C,T){try{const S=yield dc(C,T);return Lr(C.appConfig,S)}catch(S){throw Pt(S)&&409===S.customData.serverCode?yield ro(C.appConfig):yield Lr(C.appConfig,{fid:T.fid,registrationStatus:0}),S}}),Ge.apply(this,arguments)}function bt(C){return tn.apply(this,arguments)}function tn(){return tn=(0,J.Z)(function*(C){let T=yield Ti(C.appConfig);for(;1===T.registrationStatus;)yield io(100),T=yield Ti(C.appConfig);if(0===T.registrationStatus){const{installationEntry:S,registrationPromise:F}=yield z(C);return F||S}return T}),tn.apply(this,arguments)}function Ti(C){return Cs(C,T=>{if(!T)throw Dn.create("installation-not-found");return qn(T)})}function qn(C){return function(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Nt(C,T){return on.apply(this,arguments)}function on(){return on=(0,J.Z)(function*({appConfig:C,heartbeatServiceProvider:T},S){const F=or(C,S),$=Ya(C,S),Y=T.getImmediate({optional:!0});if(Y){const Ke=yield Y.getHeartbeatsHeader();Ke&&$.append("x-firebase-client",Ke)}const Fe={method:"POST",headers:$,body:JSON.stringify({installation:{sdkVersion:ht,appId:C.appId}})},Oe=yield Za(()=>fetch(F,Fe));if(Oe.ok)return Ft(yield Oe.json());throw yield ui("Generate Auth Token",Oe)}),on.apply(this,arguments)}function or(C,{fid:T}){return`${Jt(C)}/${T}/authTokens:generate`}function Hi(C){return xi.apply(this,arguments)}function xi(){return xi=(0,J.Z)(function*(C,T=!1){let S;const F=yield Cs(C.appConfig,Y=>{if(!lt(Y))throw Dn.create("not-registered");const pe=Y.authToken;if(!T&&qt(pe))return Y;if(1===pe.requestStatus)return S=_e(C,T),Y;{if(!navigator.onLine)throw Dn.create("app-offline");const Fe=vn(Y);return S=ke(C,Fe),Fe}});return S?yield S:F.authToken}),xi.apply(this,arguments)}function _e(C,T){return X.apply(this,arguments)}function X(){return X=(0,J.Z)(function*(C,T){let S=yield ee(C.appConfig);for(;1===S.authToken.requestStatus;)yield io(100),S=yield ee(C.appConfig);const F=S.authToken;return 0===F.requestStatus?Hi(C,T):F}),X.apply(this,arguments)}function ee(C){return Cs(C,T=>{if(!lt(T))throw Dn.create("not-registered");return function(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function ke(C,T){return $e.apply(this,arguments)}function $e(){return $e=(0,J.Z)(function*(C,T){try{const S=yield Nt(C,T),F=Object.assign(Object.assign({},T),{authToken:S});return yield Lr(C.appConfig,F),S}catch(S){if(!Pt(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const F=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Lr(C.appConfig,F)}else yield ro(C.appConfig);throw S}}),$e.apply(this,arguments)}function lt(C){return void 0!==C&&2===C.registrationStatus}function qt(C){return 2===C.requestStatus&&!function(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+36e5}(C)}function vn(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}function so(){return so=(0,J.Z)(function*(C){const T=C,{installationEntry:S,registrationPromise:F}=yield z(T);return F?F.catch(console.error):Hi(T).catch(console.error),S.fid}),so.apply(this,arguments)}function Qa(){return Qa=(0,J.Z)(function*(C,T=!1){const S=C;return yield aa(S),(yield Hi(S,T)).token}),Qa.apply(this,arguments)}function aa(C){return hi.apply(this,arguments)}function hi(){return hi=(0,J.Z)(function*(C){const{registrationPromise:T}=yield z(C);T&&(yield T)}),hi.apply(this,arguments)}function Ao(C){return Dn.create("missing-app-config-values",{valueName:C})}const el="installations";(0,se._registerComponent)(new ie.wA(el,C=>{const T=C.getProvider("app").getImmediate(),S=function(C){if(!C||!C.options)throw Ao("App Configuration");if(!C.name)throw Ao("App Name");const T=["projectId","apiKey","appId"];for(const S of T)if(!C.options[S])throw Ao(S);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:S,heartbeatServiceProvider:(0,se._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,se._registerComponent)(new ie.wA("installations-internal",C=>{const T=C.getProvider("app").getImmediate(),S=(0,se._getProvider)(T,el).getImmediate();return{getId:()=>function(C){return so.apply(this,arguments)}(S),getToken:$=>function(C){return Qa.apply(this,arguments)}(S,$)}},"PRIVATE")),(0,se.registerVersion)(Qe,"0.6.4"),(0,se.registerVersion)(Qe,"0.6.4","esm2017");const Eh="@firebase/remote-config",Si=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vu{constructor(T,S,F,$){this.client=T,this.storage=S,this.storageCache=F,this.logger=$}isCachedDataFresh(T,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-S,$=F<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${$}.`),$}fetch(T){var S=this;return(0,J.Z)(function*(){const[F,$]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if($&&S.isCachedDataFresh(T.cacheMaxAgeMillis,F))return $;T.eTag=$&&$.eTag;const Y=yield S.client.fetch(T),pe=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Y.status&&pe.push(S.storage.setLastSuccessfulFetchResponse(Y)),yield Promise.all(pe),Y})()}}function fc(C=navigator){return C.languages&&C.languages[0]||C.language}class UC{constructor(T,S,F,$,Y,pe){this.firebaseInstallations=T,this.sdkVersion=S,this.namespace=F,this.projectId=$,this.apiKey=Y,this.appId=pe}fetch(T){var S=this;return(0,J.Z)(function*(){const[F,$]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Fe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Oe={sdk_version:S.sdkVersion,app_instance_id:F,app_instance_id_token:$,app_id:S.appId,language_code:fc()},Ke={method:"POST",headers:Fe,body:JSON.stringify(Oe)},tt=fetch(pe,Ke),ft=new Promise((cr,ss)=>{T.signal.addEventListener(()=>{const hd=new Error("The operation was aborted.");hd.name="AbortError",ss(hd)})});let jr;try{yield Promise.race([tt,ft]),jr=yield tt}catch(cr){let ss="fetch-client-network";throw"AbortError"===(null==cr?void 0:cr.name)&&(ss="fetch-timeout"),Si.create(ss,{originalErrorMessage:null==cr?void 0:cr.message})}let Xn=jr.status;const Dl=jr.headers.get("ETag")||void 0;let Uo,xa;if(200===jr.status){let cr;try{cr=yield jr.json()}catch(ss){throw Si.create("fetch-client-parse",{originalErrorMessage:null==ss?void 0:ss.message})}Uo=cr.entries,xa=cr.state}if("INSTANCE_STATE_UNSPECIFIED"===xa?Xn=500:"NO_CHANGE"===xa?Xn=304:("NO_TEMPLATE"===xa||"EMPTY_CONFIG"===xa)&&(Uo={}),304!==Xn&&200!==Xn)throw Si.create("fetch-status",{httpStatus:Xn});return{status:Xn,eTag:Dl,config:Uo}})()}}class Mo{constructor(T,S){this.client=T,this.storage=S}fetch(T){var S=this;return(0,J.Z)(function*(){const F=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(T,F)})()}attemptFetch(T,{throttleEndTimeMillis:S,backoffCount:F}){var $=this;return(0,J.Z)(function*(){yield function(C,T){return new Promise((S,F)=>{const $=Math.max(T-Date.now(),0),Y=setTimeout(S,$);C.addEventListener(()=>{clearTimeout(Y),F(Si.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,S);try{const Y=yield $.client.fetch(T);return yield $.storage.deleteThrottleMetadata(),Y}catch(Y){if(!function(C){if(!(C instanceof ae.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(Y))throw Y;const pe={throttleEndTimeMillis:Date.now()+(0,ae.$s)(F),backoffCount:F+1};return yield $.storage.setThrottleMetadata(pe),$.attemptFetch(T,pe)}})()}}class lg{constructor(T,S,F,$,Y){this.app=T,this._client=S,this._storageCache=F,this._storage=$,this._logger=Y,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Bu(C,T){const S=C.target.error||void 0;return Si.create(T,{originalErrorMessage:S&&(null==S?void 0:S.message)})}const nl="app_namespace_store";class Uu{constructor(T,S,F,$=function(){return new Promise((C,T)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=F=>{T(Bu(F,"storage-open"))},S.onsuccess=F=>{C(F.target.result)},S.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(nl,{keyPath:"compositeKey"})}}catch(S){T(Si.create("storage-open",{originalErrorMessage:null==S?void 0:S.message}))}})}()){this.appId=T,this.appName=S,this.namespace=F,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var S=this;return(0,J.Z)(function*(){const F=yield S.openDbPromise;return new Promise(($,Y)=>{const Fe=F.transaction([nl],"readonly").objectStore(nl),Oe=S.createCompositeKey(T);try{const Ke=Fe.get(Oe);Ke.onerror=tt=>{Y(Bu(tt,"storage-get"))},Ke.onsuccess=tt=>{const ft=tt.target.result;$(ft?ft.value:void 0)}}catch(Ke){Y(Si.create("storage-get",{originalErrorMessage:null==Ke?void 0:Ke.message}))}})})()}set(T,S){var F=this;return(0,J.Z)(function*(){const $=yield F.openDbPromise;return new Promise((Y,pe)=>{const Oe=$.transaction([nl],"readwrite").objectStore(nl),Ke=F.createCompositeKey(T);try{const tt=Oe.put({compositeKey:Ke,value:S});tt.onerror=ft=>{pe(Bu(ft,"storage-set"))},tt.onsuccess=()=>{Y()}}catch(tt){pe(Si.create("storage-set",{originalErrorMessage:null==tt?void 0:tt.message}))}})})()}delete(T){var S=this;return(0,J.Z)(function*(){const F=yield S.openDbPromise;return new Promise(($,Y)=>{const Fe=F.transaction([nl],"readwrite").objectStore(nl),Oe=S.createCompositeKey(T);try{const Ke=Fe.delete(Oe);Ke.onerror=tt=>{Y(Bu(tt,"storage-delete"))},Ke.onsuccess=()=>{$()}}catch(Ke){Y(Si.create("storage-delete",{originalErrorMessage:null==Ke?void 0:Ke.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class vy{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,J.Z)(function*(){const S=T.storage.getLastFetchStatus(),F=T.storage.getLastSuccessfulFetchTimestampMillis(),$=T.storage.getActiveConfig(),Y=yield S;Y&&(T.lastFetchStatus=Y);const pe=yield F;pe&&(T.lastSuccessfulFetchTimestampMillis=pe);const Fe=yield $;Fe&&(T.activeConfig=Fe)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Hu(){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,J.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(C){return!1}})).apply(this,arguments)}let gc,An;(0,se._registerComponent)(new ie.wA("remote-config",function(T,{instanceIdentifier:S}){const F=T.getProvider("app").getImmediate(),$=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Si.create("registration-window");if(!(0,ae.hl)())throw Si.create("indexed-db-unavailable");const{projectId:Y,apiKey:pe,appId:Fe}=F.options;if(!Y)throw Si.create("registration-project-id");if(!pe)throw Si.create("registration-api-key");if(!Fe)throw Si.create("registration-app-id");const Oe=new Uu(Fe,F.name,S=S||"firebase"),Ke=new vy(Oe),tt=new ge.Yd(Eh);tt.logLevel=ge.in.ERROR;const ft=new UC($,se.SDK_VERSION,S,Y,pe,Fe),jr=new Mo(ft,Oe),Xn=new Vu(jr,Oe,Ke,tt),Dl=new lg(F,Xn,Ke,Oe,tt);return function(C){const T=(0,ae.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Dl),Dl},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Eh,"0.4.4"),(0,se.registerVersion)(Eh,"0.4.4","esm2017");const Mh=new WeakMap,kn=new WeakMap,ug=new WeakMap,zu=new WeakMap,il=new WeakMap;let ju={get(C,T,S){if(C instanceof IDBTransaction){if("done"===T)return kn.get(C);if("objectStoreNames"===T)return C.objectStoreNames||ug.get(C);if("store"===T)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return xs(C[T])},set:(C,T,S)=>(C[T]=S,!0),has:(C,T)=>C instanceof IDBTransaction&&("done"===T||"store"===T)||T in C};function Cy(C){return"function"==typeof C?function(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(An||(An=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(C)?function(...T){return C.apply(kh(this),T),xs(Mh.get(this))}:function(...T){return xs(C.apply(kh(this),T))}:function(T,...S){const F=C.call(kh(this),T,...S);return ug.set(F,T.sort?T.sort():[T]),xs(F)}}(C):(C instanceof IDBTransaction&&function(C){if(kn.has(C))return;const T=new Promise((S,F)=>{const $=()=>{C.removeEventListener("complete",Y),C.removeEventListener("error",pe),C.removeEventListener("abort",pe)},Y=()=>{S(),$()},pe=()=>{F(C.error||new DOMException("AbortError","AbortError")),$()};C.addEventListener("complete",Y),C.addEventListener("error",pe),C.addEventListener("abort",pe)});kn.set(C,T)}(C),((C,T)=>T.some(S=>C instanceof S))(C,gc||(gc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(C,ju):C)}function xs(C){if(C instanceof IDBRequest)return function(C){const T=new Promise((S,F)=>{const $=()=>{C.removeEventListener("success",Y),C.removeEventListener("error",pe)},Y=()=>{S(xs(C.result)),$()},pe=()=>{F(C.error),$()};C.addEventListener("success",Y),C.addEventListener("error",pe)});return T.then(S=>{S instanceof IDBCursor&&Mh.set(S,C)}).catch(()=>{}),il.set(T,C),T}(C);if(zu.has(C))return zu.get(C);const T=Cy(C);return T!==C&&(zu.set(C,T),il.set(T,C)),T}const kh=C=>il.get(C);function oo(C,T,{blocked:S,upgrade:F,blocking:$,terminated:Y}={}){const pe=indexedDB.open(C,T),Fe=xs(pe);return F&&pe.addEventListener("upgradeneeded",Oe=>{F(xs(pe.result),Oe.oldVersion,Oe.newVersion,xs(pe.transaction))}),S&&pe.addEventListener("blocked",()=>S()),Fe.then(Oe=>{Y&&Oe.addEventListener("close",()=>Y()),$&&Oe.addEventListener("versionchange",()=>$())}).catch(()=>{}),Fe}function _c(C,{blocked:T}={}){const S=indexedDB.deleteDatabase(C);return T&&S.addEventListener("blocked",()=>T()),xs(S).then(()=>{})}const Rh=["get","getKey","getAll","getAllKeys","count"],mt=["put","add","delete","clear"],dg=new Map;function Ey(C,T){if(!(C instanceof IDBDatabase)||T in C||"string"!=typeof T)return;if(dg.get(T))return dg.get(T);const S=T.replace(/FromIndex$/,""),F=T!==S,$=mt.includes(S);if(!(S in(F?IDBIndex:IDBObjectStore).prototype)||!$&&!Rh.includes(S))return;const Y=function(){var pe=(0,J.Z)(function*(Fe,...Oe){const Ke=this.transaction(Fe,$?"readwrite":"readonly");let tt=Ke.store;return F&&(tt=tt.index(Oe.shift())),(yield Promise.all([tt[S](...Oe),$&&Ke.done]))[0]});return function(Oe){return pe.apply(this,arguments)}}();return dg.set(T,Y),Y}ju=(C=>ng(tg({},C),{get:(T,S,F)=>Ey(T,S)||C.get(T,S,F),has:(T,S)=>!!Ey(T,S)||C.has(T,S)}))(ju);const Ty="/firebase-messaging-sw.js",yc="/firebase-cloud-messaging-push-scope",rl="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ph="google.c.a.c_id",Ie="google.c.a.c_l",Gt="google.c.a.ts",$u="google.c.a.e";var ko=(()=>(function(C){C.PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked"}(ko||(ko={})),ko))();function yr(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vs(C){const S=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(S),$=new Uint8Array(F.length);for(let Y=0;Y<F.length;++Y)$[Y]=F.charCodeAt(Y);return $}const vc="fcm_token_details_db",xy="fcm_token_object_Store";function Gu(C){return la.apply(this,arguments)}function la(){return la=(0,J.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Y=>Y.name).includes(vc))return null;let T=null;return(yield oo(vc,5,{upgrade:(F=(0,J.Z)(function*($,Y,pe,Fe){var Oe;if(Y<2||!$.objectStoreNames.contains(xy))return;const Ke=Fe.objectStore(xy),tt=yield Ke.index("fcmSenderId").get(C);if(yield Ke.clear(),tt)if(2===Y){const ft=tt;if(!ft.auth||!ft.p256dh||!ft.endpoint)return;T={token:ft.fcmToken,createTime:null!==(Oe=ft.createTime)&&void 0!==Oe?Oe:Date.now(),subscriptionOptions:{auth:ft.auth,p256dh:ft.p256dh,endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:"string"==typeof ft.vapidKey?ft.vapidKey:yr(ft.vapidKey)}}}else if(3===Y){const ft=tt;T={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:yr(ft.auth),p256dh:yr(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:yr(ft.vapidKey)}}}else if(4===Y){const ft=tt;T={token:ft.fcmToken,createTime:ft.createTime,subscriptionOptions:{auth:yr(ft.auth),p256dh:yr(ft.p256dh),endpoint:ft.endpoint,swScope:ft.swScope,vapidKey:yr(ft.vapidKey)}}}}),function(Y,pe,Fe,Oe){return F.apply(this,arguments)})})).close(),yield _c(vc),yield _c("fcm_vapid_details_db"),yield _c("undefined"),Nh(T)?T:null;var F}),la.apply(this,arguments)}function Nh(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const ca="firebase-messaging-store";let Ro=null;function ns(){return Ro||(Ro=oo("firebase-messaging-database",1,{upgrade:(C,T)=>{0===T&&C.createObjectStore(ca)}})),Ro}function hg(C){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,J.Z)(function*(C){const T=qu(C),F=yield(yield ns()).transaction(ca).objectStore(ca).get(T);if(F)return F;{const $=yield Gu(C.appConfig.senderId);if($)return yield Lh(C,$),$}}),Wu.apply(this,arguments)}function Lh(C,T){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,J.Z)(function*(C,T){const S=qu(C),$=(yield ns()).transaction(ca,"readwrite");return yield $.objectStore(ca).put(T,S),yield $.done,T}),Vh.apply(this,arguments)}function bc(C){return sl.apply(this,arguments)}function sl(){return sl=(0,J.Z)(function*(C){const T=qu(C),F=(yield ns()).transaction(ca,"readwrite");yield F.objectStore(ca).delete(T),yield F.done}),sl.apply(this,arguments)}function qu({appConfig:C}){return C.appId}const Ai=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Dy(C,T){return ol.apply(this,arguments)}function ol(){return ol=(0,J.Z)(function*(C,T){const S=yield fg(C),F=ar(T),$={method:"POST",headers:S,body:JSON.stringify(F)};let Y;try{Y=yield(yield fetch(ua(C.appConfig),$)).json()}catch(pe){throw Ai.create("token-subscribe-failed",{errorInfo:null==pe?void 0:pe.toString()})}if(Y.error)throw Ai.create("token-subscribe-failed",{errorInfo:Y.error.message});if(!Y.token)throw Ai.create("token-subscribe-no-token");return Y.token}),ol.apply(this,arguments)}function Iy(C,T){return wc.apply(this,arguments)}function wc(){return wc=(0,J.Z)(function*(C,T){const S=yield fg(C),F=ar(T.subscriptionOptions),$={method:"PATCH",headers:S,body:JSON.stringify(F)};let Y;try{Y=yield(yield fetch(`${ua(C.appConfig)}/${T.token}`,$)).json()}catch(pe){throw Ai.create("token-update-failed",{errorInfo:null==pe?void 0:pe.toString()})}if(Y.error)throw Ai.create("token-update-failed",{errorInfo:Y.error.message});if(!Y.token)throw Ai.create("token-update-no-token");return Y.token}),wc.apply(this,arguments)}function Uh(C,T){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,J.Z)(function*(C,T){const F={method:"DELETE",headers:yield fg(C)};try{const Y=yield(yield fetch(`${ua(C.appConfig)}/${T}`,F)).json();if(Y.error)throw Ai.create("token-unsubscribe-failed",{errorInfo:Y.error.message})}catch($){throw Ai.create("token-unsubscribe-failed",{errorInfo:null==$?void 0:$.toString()})}}),Ku.apply(this,arguments)}function ua({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function fg(C){return pg.apply(this,arguments)}function pg(){return pg=(0,J.Z)(function*({appConfig:C,installations:T}){const S=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})}),pg.apply(this,arguments)}function ar({p256dh:C,auth:T,endpoint:S,vapidKey:F}){const $={web:{endpoint:S,auth:T,p256dh:C}};return F!==rl&&($.web.applicationPubKey=F),$}const da=6048e5;function Mn(C){return Hh.apply(this,arguments)}function Hh(){return Hh=(0,J.Z)(function*(C){const T=yield Yu(C.swRegistration,C.vapidKey),S={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:yr(T.getKey("auth")),p256dh:yr(T.getKey("p256dh"))},F=yield hg(C.firebaseDependencies);if(F){if(zh(F.subscriptionOptions,S))return Date.now()>=F.createTime+da?Sy(C,{token:F.token,createTime:Date.now(),subscriptionOptions:S}):F.token;try{yield Uh(C.firebaseDependencies,F.token)}catch($){console.warn($)}return mg(C.firebaseDependencies,S)}return mg(C.firebaseDependencies,S)}),Hh.apply(this,arguments)}function gg(C){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,J.Z)(function*(C){const T=yield hg(C.firebaseDependencies);T&&(yield Uh(C.firebaseDependencies,T.token),yield bc(C.firebaseDependencies));const S=yield C.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),Oo.apply(this,arguments)}function Sy(C,T){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,J.Z)(function*(C,T){try{const S=yield Iy(C.firebaseDependencies,T),F=Object.assign(Object.assign({},T),{token:S,createTime:Date.now()});return yield Lh(C.firebaseDependencies,F),S}catch(S){throw yield gg(C),S}}),Cc.apply(this,arguments)}function mg(C,T){return al.apply(this,arguments)}function al(){return al=(0,J.Z)(function*(C,T){const F={token:yield Dy(C,T),createTime:Date.now(),subscriptionOptions:T};return yield Lh(C,F),F.token}),al.apply(this,arguments)}function Yu(C,T){return ll.apply(this,arguments)}function ll(){return ll=(0,J.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vs(T)})}),ll.apply(this,arguments)}function zh(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}function _g(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function(C,T){if(!T.notification)return;C.notification={};const S=T.notification.title;S&&(C.notification.title=S);const F=T.notification.body;F&&(C.notification.body=F);const $=T.notification.image;$&&(C.notification.image=$);const Y=T.notification.icon;Y&&(C.notification.icon=Y)}(T,C),function(C,T){!T.data||(C.data=T.data)}(T,C),function(C,T){var S,F,$,Y,pe;if(!T.fcmOptions&&!(null===(S=T.notification)||void 0===S?void 0:S.click_action))return;C.fcmOptions={};const Fe=null!==($=null===(F=T.fcmOptions)||void 0===F?void 0:F.link)&&void 0!==$?$:null===(Y=T.notification)||void 0===Y?void 0:Y.click_action;Fe&&(C.fcmOptions.link=Fe);const Oe=null===(pe=T.fcmOptions)||void 0===pe?void 0:pe.analytics_label;Oe&&(C.fcmOptions.analyticsLabel=Oe)}(T,C),T}function Ay(C){return"object"==typeof C&&!!C&&Ph in C}function Zu(C,T){const S=[];for(let F=0;F<C.length;F++)S.push(C.charAt(F)),F<T.length&&S.push(T.charAt(F));return S.join("")}function Tc(C){return Ai.create("missing-app-config-values",{valueName:C})}Zu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Zu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jC{constructor(T,S,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $=function(C){if(!C||!C.options)throw Tc("App Configuration Object");if(!C.name)throw Tc("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:S}=C;for(const F of T)if(!S[F])throw Tc(F);return{appName:C.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:$,installations:S,analyticsProvider:F}}_delete(){return Promise.resolve()}}function My(C){return yg.apply(this,arguments)}function yg(){return yg=(0,J.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Ty,{scope:yc}),C.swRegistration.update().catch(()=>{})}catch(T){throw Ai.create("failed-service-worker-registration",{browserErrorMessage:null==T?void 0:T.message})}}),yg.apply(this,arguments)}function ha(C,T){return cl.apply(this,arguments)}function cl(){return cl=(0,J.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield My(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Ai.create("invalid-sw-registration");C.swRegistration=T}}),cl.apply(this,arguments)}function vg(C,T){return fa.apply(this,arguments)}function fa(){return fa=(0,J.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=rl)}),fa.apply(this,arguments)}function jh(){return jh=(0,J.Z)(function*(C,T){if(!navigator)throw Ai.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ai.create("permission-blocked");return yield vg(C,null==T?void 0:T.vapidKey),yield ha(C,null==T?void 0:T.serviceWorkerRegistration),Mn(C)}),jh.apply(this,arguments)}function ky(C,T,S){return pa.apply(this,arguments)}function pa(){return pa=(0,J.Z)(function*(C,T,S){const F=Ry(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:S[Ph],message_name:S[Ie],message_time:S[Gt],message_device_time:Math.floor(Date.now()/1e3)})}),pa.apply(this,arguments)}function Ry(C){switch(C){case ko.NOTIFICATION_CLICKED:return"notification_open";case ko.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Dc(){return Dc=(0,J.Z)(function*(C,T){const S=T.data;if(!S.isFirebaseMessaging)return;C.onMessageHandler&&S.messageType===ko.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(_g(S)):C.onMessageHandler.next(_g(S)));const F=S.data;Ay(F)&&"1"===F[$u]&&(yield ky(C,S.messageType,F))}),Dc.apply(this,arguments)}const Ju="@firebase/messaging";function Mi(){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,J.Z)(function*(){try{yield(0,ae.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,se._registerComponent)(new ie.wA("messaging",C=>{const T=new jC(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function(C,T){return Dc.apply(this,arguments)}(T,S)),T},"PUBLIC")),(0,se._registerComponent)(new ie.wA("messaging-internal",C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:F=>function(C,T){return jh.apply(this,arguments)}(T,F)}},"PRIVATE")),(0,se.registerVersion)(Ju,"0.12.4"),(0,se.registerVersion)(Ju,"0.12.4","esm2017");const Ic="analytics",ki="firebase_id",fl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gh="https://www.googletagmanager.com/gtag/js",ri=new ge.Yd("@firebase/analytics"),si=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Sc(C){if(!C.startsWith(Gh)){const T=si.create("invalid-gtag-resource",{gtagURL:C});return ri.warn(T.message),""}return C}function ga(C){return Promise.all(C.map(T=>T.catch(S=>S)))}function Fo(C,T){const S=function(C,T){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy("firebase-js-sdk-policy",T)),S}(0,{createScriptURL:Sc}),F=document.createElement("script"),$=`${Gh}?l=${C}&id=${T}`;F.src=S?null==S?void 0:S.createScriptURL($):$,F.async=!0,document.head.appendChild(F)}function ma(C,T,S,F,$,Y){return _a.apply(this,arguments)}function _a(){return _a=(0,J.Z)(function*(C,T,S,F,$,Y){const pe=F[$];try{if(pe)yield T[pe];else{const Oe=(yield ga(S)).find(Ke=>Ke.measurementId===$);Oe&&(yield T[Oe.appId])}}catch(Fe){ri.error(Fe)}C("config",$,Y)}),_a.apply(this,arguments)}function Mt(C,T,S,F,$){return Zn.apply(this,arguments)}function Zn(){return Zn=(0,J.Z)(function*(C,T,S,F,$){try{let Y=[];if($&&$.send_to){let pe=$.send_to;Array.isArray(pe)||(pe=[pe]);const Fe=yield ga(S);for(const Oe of pe){const Ke=Fe.find(ft=>ft.measurementId===Oe),tt=Ke&&T[Ke.appId];if(!tt){Y=[];break}Y.push(tt)}}0===Y.length&&(Y=Object.values(T)),yield Promise.all(Y),C("event",F,$||{})}catch(Y){ri.error(Y)}}),Zn.apply(this,arguments)}function Ly(C){const T=window.document.getElementsByTagName("script");for(const S of Object.values(T))if(S.src&&S.src.includes(Gh)&&S.src.includes(C))return S;return null}const Eg=new class{constructor(T={},S=1e3){this.throttleMetadata=T,this.intervalMillis=S}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,S){this.throttleMetadata[T]=S}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Tg(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function xg(C){return qh.apply(this,arguments)}function qh(){return qh=(0,J.Z)(function*(C){var T;const{appId:S,apiKey:F}=C,$={method:"GET",headers:Tg(F)},Y=fl.replace("{app-id}",S),pe=yield fetch(Y,$);if(200!==pe.status&&304!==pe.status){let Fe="";try{const Oe=yield pe.json();(null===(T=Oe.error)||void 0===T?void 0:T.message)&&(Fe=Oe.error.message)}catch(Oe){}throw si.create("config-fetch-failed",{httpStatus:pe.status,responseMessage:Fe})}return pe.json()}),qh.apply(this,arguments)}function qC(C){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,J.Z)(function*(C,T=Eg,S){const{appId:F,apiKey:$,measurementId:Y}=C.options;if(!F)throw si.create("no-app-id");if(!$){if(Y)return{measurementId:Y,appId:F};throw si.create("no-api-key")}const pe=T.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Fe=new YC;return setTimeout((0,J.Z)(function*(){Fe.abort()}),void 0!==S?S:6e4),Lo({appId:F,apiKey:$,measurementId:Y},pe,Fe,T)}),Dg.apply(this,arguments)}function Lo(C,T,S){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,J.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:S},F,$=Eg){var Y;const{appId:pe,measurementId:Fe}=C;try{yield KC(F,T)}catch(Oe){if(Fe)return ri.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${null==Oe?void 0:Oe.message}]`),{appId:pe,measurementId:Fe};throw Oe}try{const Oe=yield xg(C);return $.deleteThrottleMetadata(pe),Oe}catch(Oe){const Ke=Oe;if(!ya(Ke)){if($.deleteThrottleMetadata(pe),Fe)return ri.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Fe} provided in the "measurementId" field in the local Firebase config. [${null==Ke?void 0:Ke.message}]`),{appId:pe,measurementId:Fe};throw Oe}const tt=503===Number(null===(Y=null==Ke?void 0:Ke.customData)||void 0===Y?void 0:Y.httpStatus)?(0,ae.$s)(S,$.intervalMillis,30):(0,ae.$s)(S,$.intervalMillis),ft={throttleEndTimeMillis:Date.now()+tt,backoffCount:S+1};return $.setThrottleMetadata(pe,ft),ri.debug(`Calling attemptFetch again in ${tt} millis`),Lo(C,ft,F,$)}}),Ig.apply(this,arguments)}function KC(C,T){return new Promise((S,F)=>{const $=Math.max(T-Date.now(),0),Y=setTimeout(S,$);C.addEventListener(()=>{clearTimeout(Y),F(si.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function ya(C){if(!(C instanceof ae.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}class YC{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let va,id;function _n(){return _n=(0,J.Z)(function*(C,T,S,F,$){if($&&$.global)C("event",S,F);else{const Y=yield T;C("event",S,Object.assign(Object.assign({},F),{send_to:Y}))}}),_n.apply(this,arguments)}function Sg(C){id=C}function ml(C){va=C}function lr(){return rd.apply(this,arguments)}function rd(){return rd=(0,J.Z)(function*(){if(!(0,ae.hl)())return ri.warn(si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(C){return ri.warn(si.create("indexeddb-unavailable",{errorInfo:null==C?void 0:C.toString()}).message),!1}return!0}),rd.apply(this,arguments)}function _l(){return _l=(0,J.Z)(function*(C,T,S,F,$,Y,pe){var Fe;const Oe=qC(C);Oe.then(Xn=>{S[Xn.measurementId]=Xn.appId,C.options.measurementId&&Xn.measurementId!==C.options.measurementId&&ri.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xn=>ri.error(Xn)),T.push(Oe);const Ke=lr().then(Xn=>{if(Xn)return F.getId()}),[tt,ft]=yield Promise.all([Oe,Ke]);Ly(Y)||Fo(Y,tt.measurementId),id&&($("consent","default",id),Sg(void 0)),$("js",new Date);const jr=null!==(Fe=null==pe?void 0:pe.config)&&void 0!==Fe?Fe:{};return jr.origin="firebase",jr.update=!0,null!=ft&&(jr[ki]=ft),$("config",tt.measurementId,jr),va&&($("set",va),ml(void 0)),tt.measurementId}),_l.apply(this,arguments)}class yl{constructor(T){this.app=T}_delete(){return delete ao[this.app.options.appId],Promise.resolve()}}let ao={},Ds=[];const sd={};let Ag,Us,Bo="dataLayer",ba=!1;function QC(C,T,S){!function(){const C=[];if((0,ae.ru)()&&C.push("This is a browser extension environment."),(0,ae.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((F,$)=>`(${$+1}) ${F}`).join(" "),S=si.create("invalid-analytics-context",{errorInfo:T});ri.warn(S.message)}}();const F=C.options.appId;if(!F)throw si.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw si.create("no-api-key");ri.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ao[F])throw si.create("already-exists",{id:F});if(!ba){!function(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(Bo);const{wrappedGtag:Y,gtagCore:pe}=function(C,T,S,F,$){let Y=function(...pe){window[F].push(arguments)};return window[$]&&"function"==typeof window[$]&&(Y=window[$]),window[$]=function(C,T,S,F){function Y(){return(Y=(0,J.Z)(function*(pe,...Fe){try{if("event"===pe){const[Oe,Ke]=Fe;yield Mt(C,T,S,Oe,Ke)}else if("config"===pe){const[Oe,Ke]=Fe;yield ma(C,T,S,F,Oe,Ke)}else if("consent"===pe){const[Oe]=Fe;C("consent","update",Oe)}else if("get"===pe){const[Oe,Ke,tt]=Fe;C("get",Oe,Ke,tt)}else if("set"===pe){const[Oe]=Fe;C("set",Oe)}else C(pe,...Fe)}catch(Oe){ri.error(Oe)}})).apply(this,arguments)}return function(pe){return Y.apply(this,arguments)}}(Y,C,T,S),{gtagCore:Y,wrappedGtag:window[$]}}(ao,Ds,sd,Bo,"gtag");Us=Y,Ag=pe,ba=!0}return ao[F]=function(C,T,S,F,$,Y,pe){return _l.apply(this,arguments)}(C,Ds,sd,T,Ag,Bo,S),new yl(C)}function vl(){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,J.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(C){return!1}})).apply(this,arguments)}const Qh="@firebase/analytics";(0,se._registerComponent)(new ie.wA(Ic,(T,{options:S})=>QC(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,se._registerComponent)(new ie.wA("analytics-internal",function(T){try{const S=T.getProvider(Ic).getImmediate();return{logEvent:(F,$,Y)=>function(C,T,S,F){C=(0,ae.m9)(C),function(C,T,S,F,$){return _n.apply(this,arguments)}(Us,ao[C.app.options.appId],T,S,F).catch($=>ri.error($))}(S,F,$,Y)}}catch(S){throw si.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,se.registerVersion)(Qh,"0.10.0"),(0,se.registerVersion)(Qh,"0.10.0","esm2017");var Cl=L(7771),Og=L(3637),Mc=L(7574),Jh=L(4581),Wi=L(6561);class pi extends Mc.y{constructor(T,S=0,F=Jh.e){super(),this.source=T,this.delayTime=S,this.scheduler=F,(!(0,Wi.k)(S)||S<0)&&(this.delayTime=0),(!F||"function"!=typeof F.schedule)&&(this.scheduler=Jh.e)}static create(T,S=0,F=Jh.e){return new pi(T,S,F)}static dispatch(T){const{source:S,subscriber:F}=T;return this.add(S.subscribe(F))}_subscribe(T){return this.scheduler.schedule(pi.dispatch,this.delayTime,{source:this.source,subscriber:T})}}function Hs(C,T=0){return function(F){return F.lift(new ld(C,T))}}class ld{constructor(T,S){this.scheduler=T,this.delay=S}call(T,S){return new pi(S,this.delay,this.scheduler).subscribe(T)}}var co=L(3342),Xh=L(6136);const Pg=new c.GfV("7.6.1"),El="__angularfire_symbol__analyticsIsSupportedValue",Tl="__angularfire_symbol__analyticsIsSupported",kc="__angularfire_symbol__remoteConfigIsSupportedValue",cd="__angularfire_symbol__remoteConfigIsSupported",xl="__angularfire_symbol__messagingIsSupportedValue",br="__angularfire_symbol__messagingIsSupported";function Vy(C,T,S){if(T){if(1===T.length)return T[0];const Y=T.filter(pe=>pe.app===S);if(1===Y.length)return Y[0]}return S.container.getProvider(C).getImmediate({optional:!0})}globalThis[Tl]||(globalThis[Tl]=vl().then(C=>globalThis[El]=C).catch(()=>globalThis[El]=!1)),globalThis[br]||(globalThis[br]=Mi().then(C=>globalThis[xl]=C).catch(()=>globalThis[xl]=!1)),globalThis[cd]||(globalThis[cd]=Hu().then(C=>globalThis[kc]=C).catch(()=>globalThis[kc]=!1));const Fg=(C,T)=>{const S=T?[T]:(0,ne.C6)(),F=[];return S.forEach($=>{$.container.getProvider(C).instances.forEach(pe=>{F.includes(pe)||F.push(pe)})}),F};function Ca(){}class Ng{constructor(T,S=Cl.N){this.zone=T,this.delegate=S}now(){return this.delegate.now()}schedule(T,S,F){const $=this.zone;return this.delegate.schedule(function(pe){$.runGuarded(()=>{T.apply(this,[pe])})},S,F)}}class dd{constructor(T){this.zone=T,this.task=null}call(T,S){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca)),S.pipe((0,co.b)({next:F,complete:F,error:F})).subscribe(T).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Rc=(()=>{class C{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Ng(Zone.current)),this.insideAngular=S.run(()=>new Ng(Zone.current,Og.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(S){return new(S||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Ea(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function zr(C){return Ea().ngZone.runOutsideAngular(()=>C())}function Ta(C){return Ea().ngZone.run(()=>C())}function Oc(C){return Ea(),function(C){return function(S){return(S=S.lift(new dd(C.ngZone))).pipe(Hs(C.outsideAngular),(0,Xh.QV)(C.insideAngular))}}(Ea())(C)}const tf=(C,T)=>{const S=void 0;return function(){const F=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),Ta(()=>C.apply(S,F))}},Vg=(C,T)=>function(){let S;const F=arguments;for(let Y=0;Y<arguments.length;Y++)"function"==typeof F[Y]&&(T&&(S||(S=Ta(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca)))),F[Y]=tf(F[Y],S));const $=zr(()=>C.apply(this,F));if(!T){if($ instanceof Mc.y){const Y=Ea();return $.pipe(Hs(Y.outsideAngular),(0,Xh.QV)(Y.insideAngular))}return Ta(()=>$)}return $ instanceof Mc.y?$.pipe(Oc):$ instanceof Promise?Ta(()=>new Promise((Y,pe)=>$.then(Fe=>Ta(()=>Y(Fe)),Fe=>Ta(()=>pe(Fe))))):"function"==typeof $&&S?function(){return setTimeout(()=>{S&&"scheduled"===S.state&&S.invoke()},10),$.apply(this,arguments)}:Ta(()=>$)}},3854:(He,ve,L)=>{"use strict";L.d(ve,{BH:()=>gr,LL:()=>ct,ZR:()=>Qt,zI:()=>En,US:()=>ie,tV:()=>N,L:()=>W,$s:()=>ro,r3:()=>Io,Sg:()=>Rr,ne:()=>Fr,vZ:()=>Wn,ZB:()=>j,aH:()=>We,P0:()=>gn,Pz:()=>un,m9:()=>di,z$:()=>mr,jU:()=>mn,ru:()=>fn,hl:()=>vt,uI:()=>bs,b$:()=>Ct,xO:()=>sa,eu:()=>dn});const se=function(z){const H=[];let K=0;for(let Te=0;Te<z.length;Te++){let le=z.charCodeAt(Te);le<128?H[K++]=le:le<2048?(H[K++]=le>>6|192,H[K++]=63&le|128):55296==(64512&le)&&Te+1<z.length&&56320==(64512&z.charCodeAt(Te+1))?(le=65536+((1023&le)<<10)+(1023&z.charCodeAt(++Te)),H[K++]=le>>18|240,H[K++]=le>>12&63|128,H[K++]=le>>6&63|128,H[K++]=63&le|128):(H[K++]=le>>12|224,H[K++]=le>>6&63|128,H[K++]=63&le|128)}return H},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,H){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,Te=[];for(let le=0;le<z.length;le+=3){const Ge=z[le],bt=le+1<z.length,tn=bt?z[le+1]:0,Ti=le+2<z.length,qn=Ti?z[le+2]:0;let on=(15&tn)<<2|qn>>6,or=63&qn;Ti||(or=64,bt||(on=64)),Te.push(K[Ge>>2],K[(3&Ge)<<4|tn>>4],K[on],K[or])}return Te.join("")},encodeString(z,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(z):this.encodeByteArray(se(z),H)},decodeString(z,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(z):function(z){const H=[];let K=0,Te=0;for(;K<z.length;){const le=z[K++];if(le<128)H[Te++]=String.fromCharCode(le);else if(le>191&&le<224){const Ge=z[K++];H[Te++]=String.fromCharCode((31&le)<<6|63&Ge)}else if(le>239&&le<365){const Ti=((7&le)<<18|(63&z[K++])<<12|(63&z[K++])<<6|63&z[K++])-65536;H[Te++]=String.fromCharCode(55296+(Ti>>10)),H[Te++]=String.fromCharCode(56320+(1023&Ti))}else{const Ge=z[K++],bt=z[K++];H[Te++]=String.fromCharCode((15&le)<<12|(63&Ge)<<6|63&bt)}}return H.join("")}(this.decodeStringToByteArray(z,H))},decodeStringToByteArray(z,H){this.init_();const K=H?this.charToByteMapWebSafe_:this.charToByteMap_,Te=[];for(let le=0;le<z.length;){const Ge=K[z.charAt(le++)],tn=le<z.length?K[z.charAt(le)]:0;++le;const qn=le<z.length?K[z.charAt(le)]:64;++le;const Nt=le<z.length?K[z.charAt(le)]:64;if(++le,null==Ge||null==tn||null==qn||null==Nt)throw new ge;Te.push(Ge<<2|tn>>4),64!==qn&&(Te.push(tn<<4&240|qn>>2),64!==Nt&&Te.push(qn<<6&192|Nt))}return Te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W=function(z){return function(z){const H=se(z);return ie.encodeByteArray(H,!0)}(z).replace(/\./g,"")},N=function(z){try{return ie.decodeString(z,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function j(z,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return H}for(const K in H)!H.hasOwnProperty(K)||!re(K)||(z[K]=j(z[K],H[K]));return z}function re(z){return"__proto__"!==z}const it=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if("undefined"==typeof document)return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(K){return}const H=z&&N(z[1]);return H&&JSON.parse(H)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},gn=z=>{const H=(z=>{var H,K;return null===(K=null===(H=it())||void 0===H?void 0:H.emulatorHosts)||void 0===K?void 0:K[z]})(z);if(!H)return;const K=H.lastIndexOf(":");if(K<=0||K+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const Te=parseInt(H.substring(K+1),10);return"["===H[0]?[H.substring(1,K-1),Te]:[H.substring(0,K),Te]},We=()=>{var z;return null===(z=it())||void 0===z?void 0:z.config},un=z=>{var H;return null===(H=it())||void 0===H?void 0:H[`_${z}`]};class gr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,K)=>{this.resolve=H,this.reject=K})}wrapCallback(H){return(K,Te)=>{K?this.reject(K):this.resolve(Te),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(K):H(K,Te))}}}function Rr(z,H){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Te=H||"demo-project",le=z.iat||0,Ge=z.sub||z.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${Te}`,aud:Te,iat:le,exp:le+3600,auth_time:le,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},z);return[W(JSON.stringify({alg:"none",type:"JWT"})),W(JSON.stringify(bt)),""].join(".")}function mr(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bs(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mr())}function mn(){return"object"==typeof self&&self.self===self}function fn(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function Ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function vt(){try{return"object"==typeof indexedDB}catch(z){return!1}}function dn(){return new Promise((z,H)=>{try{let K=!0;const Te="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(Te);le.onsuccess=()=>{le.result.close(),K||self.indexedDB.deleteDatabase(Te),z(!0)},le.onupgradeneeded=()=>{K=!1},le.onerror=()=>{var Ge;H((null===(Ge=le.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(K){H(K)}})}function En(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Qt extends Error{constructor(H,K,Te){super(K),this.code=H,this.customData=Te,this.name="FirebaseError",Object.setPrototypeOf(this,Qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ct.prototype.create)}}class ct{constructor(H,K,Te){this.service=H,this.serviceName=K,this.errors=Te}create(H,...K){const Te=K[0]||{},le=`${this.service}/${H}`,Ge=this.errors[H],bt=Ge?function(z,H){return z.replace(Pt,(K,Te)=>{const le=H[Te];return null!=le?String(le):`<${Te}?>`})}(Ge,Te):"Error";return new Qt(le,`${this.serviceName}: ${bt} (${le}).`,Te)}}const Pt=/\{\$([^}]+)}/g;function Io(z,H){return Object.prototype.hasOwnProperty.call(z,H)}function Wn(z,H){if(z===H)return!0;const K=Object.keys(z),Te=Object.keys(H);for(const le of K){if(!Te.includes(le))return!1;const Ge=z[le],bt=H[le];if(io(Ge)&&io(bt)){if(!Wn(Ge,bt))return!1}else if(Ge!==bt)return!1}for(const le of Te)if(!K.includes(le))return!1;return!0}function io(z){return null!==z&&"object"==typeof z}function sa(z){const H=[];for(const[K,Te]of Object.entries(z))Array.isArray(Te)?Te.forEach(le=>{H.push(encodeURIComponent(K)+"="+encodeURIComponent(le))}):H.push(encodeURIComponent(K)+"="+encodeURIComponent(Te));return H.length?"&"+H.join("&"):""}function Fr(z,H){const K=new Ht(z,H);return K.subscribe.bind(K)}class Ht{constructor(H,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{H(this)}).catch(Te=>{this.error(Te)})}next(H){this.forEachObserver(K=>{K.next(H)})}error(H){this.forEachObserver(K=>{K.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,K,Te){let le;if(void 0===H&&void 0===K&&void 0===Te)throw new Error("Missing Observer.");le=function(z,H){if("object"!=typeof z||null===z)return!1;for(const K of["next","error","complete"])if(K in z&&"function"==typeof z[K])return!0;return!1}(H)?H:{next:H,error:K,complete:Te},void 0===le.next&&(le.next=oa),void 0===le.error&&(le.error=oa),void 0===le.complete&&(le.complete=oa);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch(bt){}}),this.observers.push(le),Ge}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,H)}sendOne(H,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{K(this.observers[H])}catch(Te){"undefined"!=typeof console&&console.error&&console.error(Te)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oa(){}function ro(z,H=1e3,K=2){const Te=H*Math.pow(K,z),le=Math.round(.5*Te*(Math.random()-.5)*2);return Math.min(144e5,Te+le)}function di(z){return z&&z._delegate?z._delegate:z}},7574:(He,ve,L)=>{"use strict";L.d(ve,{y:()=>V});var c=L(7393),J=L(9181),se=L(6490),ie=L(6554),ge=L(4487);var N=L(2494);let V=(()=>{class re{constructor(ue){this._isScalar=!1,ue&&(this._subscribe=ue)}lift(ue){const De=new re;return De.source=this,De.operator=ue,De}subscribe(ue,De,st){const{operator:it}=this,pt=function(re,ye,ue){if(re){if(re instanceof c.L)return re;if(re[J.b])return re[J.b]()}return re||ye||ue?new c.L(re,ye,ue):new c.L(se.c)}(ue,De,st);if(pt.add(it?it.call(pt,this.source):this.source||N.v.useDeprecatedSynchronousErrorHandling&&!pt.syncErrorThrowable?this._subscribe(pt):this._trySubscribe(pt)),N.v.useDeprecatedSynchronousErrorHandling&&pt.syncErrorThrowable&&(pt.syncErrorThrowable=!1,pt.syncErrorThrown))throw pt.syncErrorValue;return pt}_trySubscribe(ue){try{return this._subscribe(ue)}catch(De){N.v.useDeprecatedSynchronousErrorHandling&&(ue.syncErrorThrown=!0,ue.syncErrorValue=De),function(re){for(;re;){const{closed:ye,destination:ue,isStopped:De}=re;if(ye||De)return!1;re=ue&&ue instanceof c.L?ue:null}return!0}(ue)?ue.error(De):console.warn(De)}}forEach(ue,De){return new(De=j(De))((st,it)=>{let pt;pt=this.subscribe(gn=>{try{ue(gn)}catch(We){it(We),pt&&pt.unsubscribe()}},it,st)})}_subscribe(ue){const{source:De}=this;return De&&De.subscribe(ue)}[ie.L](){return this}pipe(...ue){return 0===ue.length?this:function(re){return 0===re.length?ge.y:1===re.length?re[0]:function(ue){return re.reduce((De,st)=>st(De),ue)}}(ue)(this)}toPromise(ue){return new(ue=j(ue))((De,st)=>{let it;this.subscribe(pt=>it=pt,pt=>st(pt),()=>De(it))})}}return re.create=ye=>new re(ye),re})();function j(re){if(re||(re=N.v.Promise||Promise),!re)throw new Error("no Promise impl found");return re}},6490:(He,ve,L)=>{"use strict";L.d(ve,{c:()=>J});var c=L(2494),ne=L(4449);const J={closed:!0,next(se){},error(se){if(c.v.useDeprecatedSynchronousErrorHandling)throw se;(0,ne.z)(se)},complete(){}}},9765:(He,ve,L)=>{"use strict";L.d(ve,{Yc:()=>ge,xQ:()=>Ee});var c=L(7574),ne=L(7393),J=L(5319),se=L(7971),ae=L(8858),ie=L(9181);class ge extends ne.L{constructor(V){super(V),this.destination=V}}let Ee=(()=>{class N extends c.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new ge(this)}lift(j){const re=new W(this,this);return re.operator=j,re}next(j){if(this.closed)throw new se.N;if(!this.isStopped){const{observers:re}=this,ye=re.length,ue=re.slice();for(let De=0;De<ye;De++)ue[De].next(j)}}error(j){if(this.closed)throw new se.N;this.hasError=!0,this.thrownError=j,this.isStopped=!0;const{observers:re}=this,ye=re.length,ue=re.slice();for(let De=0;De<ye;De++)ue[De].error(j);this.observers.length=0}complete(){if(this.closed)throw new se.N;this.isStopped=!0;const{observers:j}=this,re=j.length,ye=j.slice();for(let ue=0;ue<re;ue++)ye[ue].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(j){if(this.closed)throw new se.N;return super._trySubscribe(j)}_subscribe(j){if(this.closed)throw new se.N;return this.hasError?(j.error(this.thrownError),J.w.EMPTY):this.isStopped?(j.complete(),J.w.EMPTY):(this.observers.push(j),new ae.W(this,j))}asObservable(){const j=new c.y;return j.source=this,j}}return N.create=(V,j)=>new W(V,j),N})();class W extends Ee{constructor(V,j){super(),this.destination=V,this.source=j}next(V){const{destination:j}=this;j&&j.next&&j.next(V)}error(V){const{destination:j}=this;j&&j.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:j}=this;return j?this.source.subscribe(V):J.w.EMPTY}}},8858:(He,ve,L)=>{"use strict";L.d(ve,{W:()=>ne});var c=L(5319);class ne extends c.w{constructor(se,ae){super(),this.subject=se,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const se=this.subject,ae=se.observers;if(this.subject=null,!ae||0===ae.length||se.isStopped||se.closed)return;const ie=ae.indexOf(this.subscriber);-1!==ie&&ae.splice(ie,1)}}},7393:(He,ve,L)=>{"use strict";L.d(ve,{L:()=>ge});var c=L(9105),ne=L(6490),J=L(5319),se=L(9181),ae=L(2494),ie=L(4449);class ge extends J.w{constructor(N,V,j){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ne.c;break;case 1:if(!N){this.destination=ne.c;break}if("object"==typeof N){N instanceof ge?(this.syncErrorThrowable=N.syncErrorThrowable,this.destination=N,N.add(this)):(this.syncErrorThrowable=!0,this.destination=new Ee(this,N));break}default:this.syncErrorThrowable=!0,this.destination=new Ee(this,N,V,j)}}[se.b](){return this}static create(N,V,j){const re=new ge(N,V,j);return re.syncErrorThrowable=!1,re}next(N){this.isStopped||this._next(N)}error(N){this.isStopped||(this.isStopped=!0,this._error(N))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(N){this.destination.next(N)}_error(N){this.destination.error(N),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:N}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=N,this}}class Ee extends ge{constructor(N,V,j,re){super(),this._parentSubscriber=N;let ye,ue=this;(0,c.m)(V)?ye=V:V&&(ye=V.next,j=V.error,re=V.complete,V!==ne.c&&(ue=Object.create(V),(0,c.m)(ue.unsubscribe)&&this.add(ue.unsubscribe.bind(ue)),ue.unsubscribe=this.unsubscribe.bind(this))),this._context=ue,this._next=ye,this._error=j,this._complete=re}next(N){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;ae.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,N)&&this.unsubscribe():this.__tryOrUnsub(this._next,N)}}error(N){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:j}=ae.v;if(this._error)j&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,N),this.unsubscribe()):(this.__tryOrUnsub(this._error,N),this.unsubscribe());else if(V.syncErrorThrowable)j?(V.syncErrorValue=N,V.syncErrorThrown=!0):(0,ie.z)(N),this.unsubscribe();else{if(this.unsubscribe(),j)throw N;(0,ie.z)(N)}}}complete(){if(!this.isStopped){const{_parentSubscriber:N}=this;if(this._complete){const V=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&N.syncErrorThrowable?(this.__tryOrSetError(N,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(N,V){try{N.call(this._context,V)}catch(j){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw j;(0,ie.z)(j)}}__tryOrSetError(N,V,j){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,j)}catch(re){return ae.v.useDeprecatedSynchronousErrorHandling?(N.syncErrorValue=re,N.syncErrorThrown=!0,!0):((0,ie.z)(re),!0)}return!1}_unsubscribe(){const{_parentSubscriber:N}=this;this._context=null,this._parentSubscriber=null,N.unsubscribe()}}},5319:(He,ve,L)=>{"use strict";L.d(ve,{w:()=>ie});var c=L(9796),ne=L(1555),J=L(9105);const ae=(()=>{function Ee(W){return Error.call(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((N,V)=>`${V+1}) ${N.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W,this}return Ee.prototype=Object.create(Error.prototype),Ee})();class ie{constructor(W){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,W&&(this._ctorUnsubscribe=!0,this._unsubscribe=W)}unsubscribe(){let W;if(this.closed)return;let{_parentOrParents:N,_ctorUnsubscribe:V,_unsubscribe:j,_subscriptions:re}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,N instanceof ie)N.remove(this);else if(null!==N)for(let ye=0;ye<N.length;++ye)N[ye].remove(this);if((0,J.m)(j)){V&&(this._unsubscribe=void 0);try{j.call(this)}catch(ye){W=ye instanceof ae?ge(ye.errors):[ye]}}if((0,c.k)(re)){let ye=-1,ue=re.length;for(;++ye<ue;){const De=re[ye];if((0,ne.K)(De))try{De.unsubscribe()}catch(st){W=W||[],st instanceof ae?W=W.concat(ge(st.errors)):W.push(st)}}}if(W)throw new ae(W)}add(W){let N=W;if(!W)return ie.EMPTY;switch(typeof W){case"function":N=new ie(W);case"object":if(N===this||N.closed||"function"!=typeof N.unsubscribe)return N;if(this.closed)return N.unsubscribe(),N;if(!(N instanceof ie)){const re=N;N=new ie,N._subscriptions=[re]}break;default:throw new Error("unrecognized teardown "+W+" added to Subscription.")}let{_parentOrParents:V}=N;if(null===V)N._parentOrParents=this;else if(V instanceof ie){if(V===this)return N;N._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return N;V.push(this)}const j=this._subscriptions;return null===j?this._subscriptions=[N]:j.push(N),N}remove(W){const N=this._subscriptions;if(N){const V=N.indexOf(W);-1!==V&&N.splice(V,1)}}}var Ee;function ge(Ee){return Ee.reduce((W,N)=>W.concat(N instanceof ae?N.errors:N),[])}ie.EMPTY=((Ee=new ie).closed=!0,Ee)},2494:(He,ve,L)=>{"use strict";L.d(ve,{v:()=>ne});let c=!1;const ne={Promise:void 0,set useDeprecatedSynchronousErrorHandling(J){if(J){const se=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+se.stack)}else c&&console.log("RxJS: Back to a better error behavior. Thank you. <3");c=J},get useDeprecatedSynchronousErrorHandling(){return c}}},5345:(He,ve,L)=>{"use strict";L.d(ve,{IY:()=>se,Ds:()=>ie,ft:()=>Ee});var c=L(7393),ne=L(7574),J=L(7444);class se extends c.L{constructor(N){super(),this.parent=N}_next(N){this.parent.notifyNext(N)}_error(N){this.parent.notifyError(N),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends c.L{notifyNext(N){this.destination.next(N)}notifyError(N){this.destination.error(N)}notifyComplete(){this.destination.complete()}}function Ee(W,N){if(N.closed)return;if(W instanceof ne.y)return W.subscribe(N);let V;try{V=(0,J.s)(W)(N)}catch(j){N.error(j)}return V}},2441:(He,ve,L)=>{"use strict";L.d(ve,{c:()=>ae,N:()=>ie});var c=L(9765),ne=L(7574),J=L(5319),se=L(1307);class ae extends ne.y{constructor(V,j){super(),this.source=V,this.subjectFactory=j,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new J.w,V.add(this.source.subscribe(new ge(this.getSubject(),this))),V.closed&&(this._connection=null,V=J.w.EMPTY)),V}refCount(){return(0,se.x)()(this)}}const ie=(()=>{const N=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:N._subscribe},_isComplete:{value:N._isComplete,writable:!0},getSubject:{value:N.getSubject},connect:{value:N.connect},refCount:{value:N.refCount}}})();class ge extends c.Yc{constructor(V,j){super(V),this.connectable=j}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const j=V._connection;V._refCount=0,V._subject=null,V._connection=null,j&&j.unsubscribe()}}}},9193:(He,ve,L)=>{"use strict";L.d(ve,{E:()=>ne,c:()=>J});var c=L(7574);const ne=new c.y(ae=>ae.complete());function J(ae){return ae?function(ae){return new c.y(ie=>ae.schedule(()=>ie.complete()))}(ae):ne}},4402:(He,ve,L)=>{"use strict";L.d(ve,{D:()=>ue});var c=L(7574),ne=L(7444),J=L(5319),se=L(6554),ge=L(4087),Ee=L(377),V=L(4072),j=L(9489);function ue(De,st){return st?function(De,st){if(null!=De){if(function(De){return De&&"function"==typeof De[se.L]}(De))return function(De,st){return new c.y(it=>{const pt=new J.w;return pt.add(st.schedule(()=>{const gn=De[se.L]();pt.add(gn.subscribe({next(We){pt.add(st.schedule(()=>it.next(We)))},error(We){pt.add(st.schedule(()=>it.error(We)))},complete(){pt.add(st.schedule(()=>it.complete()))}}))})),pt})}(De,st);if((0,V.t)(De))return function(De,st){return new c.y(it=>{const pt=new J.w;return pt.add(st.schedule(()=>De.then(gn=>{pt.add(st.schedule(()=>{it.next(gn),pt.add(st.schedule(()=>it.complete()))}))},gn=>{pt.add(st.schedule(()=>it.error(gn)))}))),pt})}(De,st);if((0,j.z)(De))return(0,ge.r)(De,st);if(function(De){return De&&"function"==typeof De[Ee.hZ]}(De)||"string"==typeof De)return function(De,st){if(!De)throw new Error("Iterable cannot be null");return new c.y(it=>{const pt=new J.w;let gn;return pt.add(()=>{gn&&"function"==typeof gn.return&&gn.return()}),pt.add(st.schedule(()=>{gn=De[Ee.hZ](),pt.add(st.schedule(function(){if(it.closed)return;let We,un;try{const gr=gn.next();We=gr.value,un=gr.done}catch(gr){return void it.error(gr)}un?it.complete():(it.next(We),this.schedule())}))})),pt})}(De,st)}throw new TypeError((null!==De&&typeof De||De)+" is not observable")}(De,st):De instanceof c.y?De:new c.y((0,ne.s)(De))}},6693:(He,ve,L)=>{"use strict";L.d(ve,{n:()=>se});var c=L(7574),ne=L(5015),J=L(4087);function se(ae,ie){return ie?(0,J.r)(ae,ie):new c.y((0,ne.V)(ae))}},5917:(He,ve,L)=>{"use strict";L.d(ve,{of:()=>se});var c=L(4869),ne=L(6693),J=L(4087);function se(...ae){let ie=ae[ae.length-1];return(0,c.K)(ie)?(ae.pop(),(0,J.r)(ae,ie)):(0,ne.n)(ae)}},205:(He,ve,L)=>{"use strict";L.d(ve,{_:()=>ne});var c=L(7574);function ne(se,ae){return new c.y(ae?ie=>ae.schedule(J,0,{error:se,subscriber:ie}):ie=>ie.error(se))}function J({error:se,subscriber:ae}){ae.error(se)}},8002:(He,ve,L)=>{"use strict";L.d(ve,{U:()=>ne});var c=L(7393);function ne(ae,ie){return function(Ee){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Ee.lift(new J(ae,ie))}}class J{constructor(ie,ge){this.project=ie,this.thisArg=ge}call(ie,ge){return ge.subscribe(new se(ie,this.project,this.thisArg))}}class se extends c.L{constructor(ie,ge,Ee){super(ie),this.project=ge,this.count=0,this.thisArg=Ee||this}_next(ie){let ge;try{ge=this.project.call(this.thisArg,ie,this.count++)}catch(Ee){return void this.destination.error(Ee)}this.destination.next(ge)}}},3282:(He,ve,L)=>{"use strict";L.d(ve,{J:()=>J});var c=L(9773),ne=L(4487);function J(se=Number.POSITIVE_INFINITY){return(0,c.zg)(ne.y,se)}},9773:(He,ve,L)=>{"use strict";L.d(ve,{zg:()=>se});var c=L(8002),ne=L(4402),J=L(5345);function se(Ee,W,N=Number.POSITIVE_INFINITY){return"function"==typeof W?V=>V.pipe(se((j,re)=>(0,ne.D)(Ee(j,re)).pipe((0,c.U)((ye,ue)=>W(j,ye,re,ue))),N)):("number"==typeof W&&(N=W),V=>V.lift(new ae(Ee,N)))}class ae{constructor(W,N=Number.POSITIVE_INFINITY){this.project=W,this.concurrent=N}call(W,N){return N.subscribe(new ie(W,this.project,this.concurrent))}}class ie extends J.Ds{constructor(W,N,V=Number.POSITIVE_INFINITY){super(W),this.project=N,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(W){this.active<this.concurrent?this._tryNext(W):this.buffer.push(W)}_tryNext(W){let N;const V=this.index++;try{N=this.project(W,V)}catch(j){return void this.destination.error(j)}this.active++,this._innerSub(N)}_innerSub(W){const N=new J.IY(this),V=this.destination;V.add(N);const j=(0,J.ft)(W,N);j!==N&&V.add(j)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(W){this.destination.next(W)}notifyComplete(){const W=this.buffer;this.active--,W.length>0?this._next(W.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(He,ve,L)=>{"use strict";L.d(ve,{ht:()=>W,QV:()=>ge});var c=L(7393),ne=L(9193),J=L(5917),se=L(205);class ie{constructor(j,re,ye){this.kind=j,this.value=re,this.error=ye,this.hasValue="N"===j}observe(j){switch(this.kind){case"N":return j.next&&j.next(this.value);case"E":return j.error&&j.error(this.error);case"C":return j.complete&&j.complete()}}do(j,re,ye){switch(this.kind){case"N":return j&&j(this.value);case"E":return re&&re(this.error);case"C":return ye&&ye()}}accept(j,re,ye){return j&&"function"==typeof j.next?this.observe(j):this.do(j,re,ye)}toObservable(){switch(this.kind){case"N":return(0,J.of)(this.value);case"E":return(0,se._)(this.error);case"C":return(0,ne.c)()}throw new Error("unexpected notification kind value")}static createNext(j){return void 0!==j?new ie("N",j):ie.undefinedValueNotification}static createError(j){return new ie("E",void 0,j)}static createComplete(){return ie.completeNotification}}function ge(V,j=0){return function(ye){return ye.lift(new Ee(V,j))}}ie.completeNotification=new ie("C"),ie.undefinedValueNotification=new ie("N",void 0);class Ee{constructor(j,re=0){this.scheduler=j,this.delay=re}call(j,re){return re.subscribe(new W(j,this.scheduler,this.delay))}}class W extends c.L{constructor(j,re,ye=0){super(j),this.scheduler=re,this.delay=ye}static dispatch(j){const{notification:re,destination:ye}=j;re.observe(ye),this.unsubscribe()}scheduleMessage(j){this.destination.add(this.scheduler.schedule(W.dispatch,this.delay,new N(j,this.destination)))}_next(j){this.scheduleMessage(ie.createNext(j))}_error(j){this.scheduleMessage(ie.createError(j)),this.unsubscribe()}_complete(){this.scheduleMessage(ie.createComplete()),this.unsubscribe()}}class N{constructor(j,re){this.notification=j,this.destination=re}}},1307:(He,ve,L)=>{"use strict";L.d(ve,{x:()=>ne});var c=L(7393);function ne(){return function(ie){return ie.lift(new J(ie))}}class J{constructor(ie){this.connectable=ie}call(ie,ge){const{connectable:Ee}=this;Ee._refCount++;const W=new se(ie,Ee),N=ge.subscribe(W);return W.closed||(W.connection=Ee.connect()),N}}class se extends c.L{constructor(ie,ge){super(ie),this.connectable=ge}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const ge=ie._refCount;if(ge<=0)return void(this.connection=null);if(ie._refCount=ge-1,ge>1)return void(this.connection=null);const{connection:Ee}=this,W=ie._connection;this.connection=null,W&&(!Ee||W===Ee)&&W.unsubscribe()}}},8819:(He,ve,L)=>{"use strict";L.d(ve,{B:()=>ge});var c=L(2441);var se=L(1307),ae=L(9765);function ie(){return new ae.xQ}function ge(){return Ee=>(0,se.x)()(function(Ee,W){return function(V){let j;j="function"==typeof Ee?Ee:function(){return Ee};const re=Object.create(V,c.N);return re.source=V,re.subjectFactory=j,re}}(ie)(Ee))}},3342:(He,ve,L)=>{"use strict";L.d(ve,{b:()=>se});var c=L(7393);function ne(){}var J=L(9105);function se(ge,Ee,W){return function(V){return V.lift(new ae(ge,Ee,W))}}class ae{constructor(Ee,W,N){this.nextOrObserver=Ee,this.error=W,this.complete=N}call(Ee,W){return W.subscribe(new ie(Ee,this.nextOrObserver,this.error,this.complete))}}class ie extends c.L{constructor(Ee,W,N,V){super(Ee),this._tapNext=ne,this._tapError=ne,this._tapComplete=ne,this._tapError=N||ne,this._tapComplete=V||ne,(0,J.m)(W)?(this._context=this,this._tapNext=W):W&&(this._context=W,this._tapNext=W.next||ne,this._tapError=W.error||ne,this._tapComplete=W.complete||ne)}_next(Ee){try{this._tapNext.call(this._context,Ee)}catch(W){return void this.destination.error(W)}this.destination.next(Ee)}_error(Ee){try{this._tapError.call(this._context,Ee)}catch(W){return void this.destination.error(W)}this.destination.error(Ee)}_complete(){try{this._tapComplete.call(this._context)}catch(Ee){return void this.destination.error(Ee)}return this.destination.complete()}}},4087:(He,ve,L)=>{"use strict";L.d(ve,{r:()=>J});var c=L(7574),ne=L(5319);function J(se,ae){return new c.y(ie=>{const ge=new ne.w;let Ee=0;return ge.add(ae.schedule(function(){Ee!==se.length?(ie.next(se[Ee++]),ie.closed||ge.add(this.schedule())):ie.complete()})),ge})}},6465:(He,ve,L)=>{"use strict";L.d(ve,{o:()=>J});var c=L(5319);class ne extends c.w{constructor(ae,ie){super()}schedule(ae,ie=0){return this}}class J extends ne{constructor(ae,ie){super(ae,ie),this.scheduler=ae,this.work=ie,this.pending=!1}schedule(ae,ie=0){if(this.closed)return this;this.state=ae;const ge=this.id,Ee=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(Ee,ge,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(Ee,this.id,ie),this}requestAsyncId(ae,ie,ge=0){return setInterval(ae.flush.bind(ae,this),ge)}recycleAsyncId(ae,ie,ge=0){if(null!==ge&&this.delay===ge&&!1===this.pending)return ie;clearInterval(ie)}execute(ae,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ae,ie);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,ie){let Ee,ge=!1;try{this.work(ae)}catch(W){ge=!0,Ee=!!W&&W||new Error(W)}if(ge)return this.unsubscribe(),Ee}_unsubscribe(){const ae=this.id,ie=this.scheduler,ge=ie.actions,Ee=ge.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Ee&&ge.splice(Ee,1),null!=ae&&(this.id=this.recycleAsyncId(ie,ae,null)),this.delay=null}}},6102:(He,ve,L)=>{"use strict";L.d(ve,{v:()=>ne});let c=(()=>{class J{constructor(ae,ie=J.now){this.SchedulerAction=ae,this.now=ie}schedule(ae,ie=0,ge){return new this.SchedulerAction(this,ae).schedule(ge,ie)}}return J.now=()=>Date.now(),J})();class ne extends c{constructor(se,ae=c.now){super(se,()=>ne.delegate&&ne.delegate!==this?ne.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(se,ae=0,ie){return ne.delegate&&ne.delegate!==this?ne.delegate.schedule(se,ae,ie):super.schedule(se,ae,ie)}flush(se){const{actions:ae}=this;if(this.active)return void ae.push(se);let ie;this.active=!0;do{if(ie=se.execute(se.state,se.delay))break}while(se=ae.shift());if(this.active=!1,ie){for(;se=ae.shift();)se.unsubscribe();throw ie}}}},4581:(He,ve,L)=>{"use strict";L.d(ve,{e:()=>j,E:()=>V});let c=1;const ne=Promise.resolve(),J={};function se(re){return re in J&&(delete J[re],!0)}const ae={setImmediate(re){const ye=c++;return J[ye]=!0,ne.then(()=>se(ye)&&re()),ye},clearImmediate(re){se(re)}};var ge=L(6465),W=L(6102);const V=new class extends W.v{flush(ye){this.active=!0,this.scheduled=void 0;const{actions:ue}=this;let De,st=-1,it=ue.length;ye=ye||ue.shift();do{if(De=ye.execute(ye.state,ye.delay))break}while(++st<it&&(ye=ue.shift()));if(this.active=!1,De){for(;++st<it&&(ye=ue.shift());)ye.unsubscribe();throw De}}}(class extends ge.o{constructor(ye,ue){super(ye,ue),this.scheduler=ye,this.work=ue}requestAsyncId(ye,ue,De=0){return null!==De&&De>0?super.requestAsyncId(ye,ue,De):(ye.actions.push(this),ye.scheduled||(ye.scheduled=ae.setImmediate(ye.flush.bind(ye,null))))}recycleAsyncId(ye,ue,De=0){if(null!==De&&De>0||null===De&&this.delay>0)return super.recycleAsyncId(ye,ue,De);0===ye.actions.length&&(ae.clearImmediate(ue),ye.scheduled=void 0)}}),j=V},3637:(He,ve,L)=>{"use strict";L.d(ve,{z:()=>J,P:()=>se});var c=L(6465);const J=new(L(6102).v)(c.o),se=J},7771:(He,ve,L)=>{"use strict";L.d(ve,{c:()=>ie,N:()=>ae});var c=L(6465),J=L(6102);const ae=new class extends J.v{}(class extends c.o{constructor(Ee,W){super(Ee,W),this.scheduler=Ee,this.work=W}schedule(Ee,W=0){return W>0?super.schedule(Ee,W):(this.delay=W,this.state=Ee,this.scheduler.flush(this),this)}execute(Ee,W){return W>0||this.closed?super.execute(Ee,W):this._execute(Ee,W)}requestAsyncId(Ee,W,N=0){return null!==N&&N>0||null===N&&this.delay>0?super.requestAsyncId(Ee,W,N):Ee.flush(this)}}),ie=ae},377:(He,ve,L)=>{"use strict";L.d(ve,{hZ:()=>ne});const ne="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(He,ve,L)=>{"use strict";L.d(ve,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(He,ve,L)=>{"use strict";L.d(ve,{b:()=>c});const c="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(He,ve,L)=>{"use strict";L.d(ve,{N:()=>ne});const ne=(()=>{function J(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return J.prototype=Object.create(Error.prototype),J})()},4449:(He,ve,L)=>{"use strict";function c(ne){setTimeout(()=>{throw ne},0)}L.d(ve,{z:()=>c})},4487:(He,ve,L)=>{"use strict";function c(ne){return ne}L.d(ve,{y:()=>c})},9796:(He,ve,L)=>{"use strict";L.d(ve,{k:()=>c});const c=Array.isArray||(ne=>ne&&"number"==typeof ne.length)},9489:(He,ve,L)=>{"use strict";L.d(ve,{z:()=>c});const c=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},9105:(He,ve,L)=>{"use strict";function c(ne){return"function"==typeof ne}L.d(ve,{m:()=>c})},6561:(He,ve,L)=>{"use strict";L.d(ve,{k:()=>ne});var c=L(9796);function ne(J){return!(0,c.k)(J)&&J-parseFloat(J)+1>=0}},1555:(He,ve,L)=>{"use strict";function c(ne){return null!==ne&&"object"==typeof ne}L.d(ve,{K:()=>c})},4072:(He,ve,L)=>{"use strict";function c(ne){return!!ne&&"function"!=typeof ne.subscribe&&"function"==typeof ne.then}L.d(ve,{t:()=>c})},4869:(He,ve,L)=>{"use strict";function c(ne){return ne&&"function"==typeof ne.schedule}L.d(ve,{K:()=>c})},7444:(He,ve,L)=>{"use strict";L.d(ve,{s:()=>V});var c=L(5015),ne=L(4449),se=L(377),ie=L(6554),Ee=L(9489),W=L(4072),N=L(1555);const V=j=>{if(j&&"function"==typeof j[ie.L])return(j=>re=>{const ye=j[ie.L]();if("function"!=typeof ye.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ye.subscribe(re)})(j);if((0,Ee.z)(j))return(0,c.V)(j);if((0,W.t)(j))return(j=>re=>(j.then(ye=>{re.closed||(re.next(ye),re.complete())},ye=>re.error(ye)).then(null,ne.z),re))(j);if(j&&"function"==typeof j[se.hZ])return(j=>re=>{const ye=j[se.hZ]();for(;;){let ue;try{ue=ye.next()}catch(De){return re.error(De),re}if(ue.done){re.complete();break}if(re.next(ue.value),re.closed)break}return"function"==typeof ye.return&&re.add(()=>{ye.return&&ye.return()}),re})(j);{const ye=`You provided ${(0,N.K)(j)?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ye)}}},5015:(He,ve,L)=>{"use strict";L.d(ve,{V:()=>c});const c=ne=>J=>{for(let se=0,ae=ne.length;se<ae&&!J.closed;se++)J.next(ne[se]);J.complete()}},5697:(He,ve,L)=>{"use strict";var c=L(8186);let ne=null;function J(){return ne}const ge=new c.OlP("DocumentToken");let Ee=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,c.Yz7)({factory:W,token:n,providedIn:"platform"}),n})();function W(){return(0,c.LFG)(V)}const N=new c.OlP("Location Initialized");let V=(()=>{class n extends Ee{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(e){const i=J().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=J().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){j()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){j()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ge))},n.\u0275prov=(0,c.Yz7)({factory:re,token:n,providedIn:"platform"}),n})();function j(){return!!window.history.pushState}function re(){return new V((0,c.LFG)(ge))}function ye(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ue(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function De(n){return n&&"?"!==n[0]?"?"+n:n}let st=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,c.Yz7)({factory:it,token:n,providedIn:"root"}),n})();function it(n){const t=(0,c.LFG)(ge).location;return new gn((0,c.LFG)(Ee),t&&t.origin||"")}const pt=new c.OlP("appBaseHref");let gn=(()=>{class n extends st{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ye(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+De(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const l=this.prepareExternalUrl(r+De(s));this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,s){const l=this.prepareExternalUrl(r+De(s));this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ee),c.LFG(pt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),We=(()=>{class n extends st{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ye(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let l=this.prepareExternalUrl(r+De(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,s){let l=this.prepareExternalUrl(r+De(s));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ee),c.LFG(pt,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),un=(()=>{class n{constructor(e,i){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=ue(mr(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+De(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,mr(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+De(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+De(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(st),c.LFG(Ee))},n.normalizeQueryParams=De,n.joinWithSlash=ye,n.stripTrailingSlash=ue,n.\u0275prov=(0,c.Yz7)({factory:gr,token:n,providedIn:"root"}),n})();function gr(){return new un((0,c.LFG)(st),(0,c.LFG)(Ee))}function mr(n){return n.replace(/\/index.html$/,"")}var mn=(()=>((mn=mn||{})[mn.Zero=0]="Zero",mn[mn.One=1]="One",mn[mn.Two=2]="Two",mn[mn.Few=3]="Few",mn[mn.Many=4]="Many",mn[mn.Other=5]="Other",mn))();const Za=c.kL8;class es{}let xt=(()=>{class n extends es{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Za(i||this.locale)(e)){case mn.Zero:return"zero";case mn.One:return"one";case mn.Two:return"two";case mn.Few:return"few";case mn.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.soG))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();let hi=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Di{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Es=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=[];e.forEachOperation((r,s,l)=>{if(null==r.previousIndex){const d=this._viewContainer.createEmbeddedView(this._template,new Di(null,this._ngForOf,-1,-1),null===l?void 0:l),f=new Xa(r,d);i.push(f)}else if(null==l)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const d=this._viewContainer.get(s);this._viewContainer.move(d,l);const f=new Xa(r,d);i.push(f)}});for(let r=0;r<i.length;r++)this._perViewChange(i[r].view,i[r].record);for(let r=0,s=this._viewContainer.length;r<s;r++){const l=this._viewContainer.get(r);l.context.index=r,l.context.count=s,l.context.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{this._viewContainer.get(r.currentIndex).context.$implicit=r.item})}_perViewChange(e,i){e.context.$implicit=i.item}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Xa{constructor(t,e){this.record=t,this.view=e}}let At=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new OC,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ig("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ig("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class OC{constructor(){this.$implicit=null,this.ngIf=null}}function ig(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}let Sn=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),Kn=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[c.TTD]}),n})();class Si{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Ts{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const gy=new Ts,PC=new Si;let Lu=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,c.QGY)(e))return gy;if((0,c.F4k)(e))return PC;throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,c.AaK)(n)}'`)}(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),ii=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[{provide:es,useClass:xt}]}),n})();let Uu=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new vy((0,c.LFG)(ge),window)}),n})();class vy{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Br(this.window.history)||Br(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Br(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class pc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new pc,ne||(ne=n)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(gc=gc||document.querySelector("base"),gc?gc.getAttribute("href"):null);return null==e?null:function(n){Ah=Ah||document.createElement("a"),Ah.setAttribute("href",n);const t=Ah.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){gc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Ah,gc=null;const Mh=new c.OlP("TRANSITION_ID"),ug=[{provide:c.ip1,useFactory:function(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const i=J(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Mh,ge,c.zs3],multi:!0}];class zu{static init(){(0,c.VLi)(new zu)}addToWindow(t){c.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const d=function(f){l=l||f,s--,0==s&&i(l)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?J().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let il=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const yc=new c.OlP("EventManagerPlugins");let rl=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const l=r[s];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(yc),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Oh{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=J().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Ph=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends Ph{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,r.push(i.appendChild(l))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Gt),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Gt))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ge))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Gt(n){J().remove(n)}const $u={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Yn=/%COMP%/g;function Gu(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Gu(n,r,e):(r=r.replace(Yn,n),e.push(r))}return e}function la(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let fi=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ts(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new hg(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case c.ifc.ShadowDom:return new Wu(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Gu(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(rl),c.LFG(Ie),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ts{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS($u[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=$u[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=$u[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,r&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,la(i)):this.eventManager.addEventListener(t,e,la(i))}}class hg extends ts{constructor(t,e,i,r){super(t),this.component=i;const s=Gu(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(Yn,r+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Yn,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Wu extends ts{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Gu(r.id,r.styles,[]);for(let l=0;l<s.length;l++){const d=document.createElement("style");d.textContent=s[l],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Lh=(()=>{class n extends Oh{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ge))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const wc=["alt","control","meta","shift"],Ku={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ua={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Mn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Hh=(()=>{class n extends Oh{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>J().onAndCancel(e,s.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let l="";if(wc.forEach(f=>{const g=i.indexOf(f);g>-1&&(i.splice(g,1),l+=f+".")}),l+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=l,d}static getEventFullKey(e){let i="",r=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&ua.hasOwnProperty(t)&&(t=ua[t]))}return Ku[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),wc.forEach(s=>{s!=r&&Mn[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ge))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ec=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function(){pc.makeCurrent(),zu.init()},multi:!0},{provide:ge,useFactory:function(){return(0,c.RDi)(document),document},deps:[]}]),Ay=[[],{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function(){return new c.qLn},deps:[]},{provide:yc,useClass:Lh,multi:!0,deps:[ge,c.R0b,c.Lbi]},{provide:yc,useClass:Hh,multi:!0,deps:[ge]},[],{provide:fi,useClass:fi,deps:[rl,Ie,c.AFp]},{provide:c.FYo,useExisting:fi},{provide:Ph,useExisting:Ie},{provide:Ie,useClass:Ie,deps:[ge]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:rl,useClass:rl,deps:[yc,c.R0b]},{provide:class{},useClass:il,deps:[]},[]];let Zu=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:Mh,useExisting:c.AFp},ug]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ay,imports:[ii,c.hGG]}),n})();"undefined"!=typeof window&&window;var Mi=L(4402),Ze=L(5917),zt=L(9765),dl=L(7971);class ji extends zt.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new dl.N;return this._value}next(t){super.next(this._value=t)}}var hl=L(4869),$h=L(9796),$i=L(7393);class Py extends $i.L{notifyNext(t,e,i,r,s){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Fy extends $i.L{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ic=L(7444),ki=L(7574);function Ny(n,t,e,i,r=new Fy(n,e,i)){if(!r.closed)return t instanceof ki.y?t.subscribe(r):(0,Ic.s)(t)(r)}var Xu=L(6693);const fl={};class ri{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new wg(t,this.resultSelector))}}class wg extends Py{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(fl),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(Ny(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const r=this.values,l=this.toRespond?r[i]===fl?--this.toRespond:this.toRespond:0;r[i]=e,0===l&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Sc=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var ga=L(3282);function Fo(...n){return(0,ga.J)(1)((0,Ze.of)(...n))}var Hr=L(9193);function ma(n){return new ki.y(t=>{let e;try{e=n()}catch(r){return void t.error(r)}return(e?(0,Mi.D)(e):(0,Hr.c)()).subscribe(t)})}var _a=L(2441),Mt=L(8002),Zn=L(5345);function No(n,t){return"function"==typeof t?e=>e.pipe(No((i,r)=>(0,Mi.D)(n(i,r)).pipe((0,Mt.U)((s,l)=>t(i,s,r,l))))):e=>e.lift(new WC(n))}class WC{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ly(t,this.project))}}class Ly extends Zn.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Zn.IY(this),r=this.destination;r.add(i),this.innerSubscription=(0,Zn.ft)(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Cg=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function hn(n){return t=>0===n?(0,Hr.c)():t.lift(new Eg(n))}class Eg{constructor(t){if(this.total=t,this.total<0)throw new Cg}call(t,e){return e.subscribe(new Tg(t,this.total))}}class Tg extends $i.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function xg(...n){const t=n[n.length-1];return(0,hl.K)(t)?(n.pop(),e=>Fo(n,e,t)):e=>Fo(n,e)}function qh(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new qC(n,t,e))}}class qC{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new Dg(t,this.accumulator,this.seed,this.hasSeed))}}class Dg extends $i.L{constructor(t,e,i,r){super(t),this.accumulator=e,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function Lo(n,t){return function(i){return i.lift(new Ig(n,t))}}class Ig{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new KC(t,this.predicate,this.thisArg))}}class KC extends $i.L{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function ya(n){return function(e){const i=new YC(n),r=e.lift(i);return i.caught=r}}class YC{constructor(t){this.selector=t}call(t,e){return e.subscribe(new va(t,this.selector,this.caught))}}class va extends Zn.Ds{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const i=new Zn.IY(this);this.add(i);const r=(0,Zn.ft)(e,i);r!==i&&this.add(r)}}}var vr=L(9773);function _n(n,t){return(0,vr.zg)(n,t,1)}function pl(n){return function(e){return 0===n?(0,Hr.c)():e.lift(new gl(n))}}class gl{constructor(t){if(this.total=t,this.total<0)throw new Cg}call(t,e){return e.subscribe(new ZC(t,this.total))}}class ZC extends $i.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,r=this.count++;e.length<i?e.push(t):e[r%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<i;s++){const l=e++%i;t.next(r[l])}}t.complete()}}function ed(n=td){return t=>t.lift(new is(n))}class is{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new rs(t,this.errorFactory))}}class rs extends $i.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function td(){return new Sc}function Bs(n=null){return t=>t.lift(new Vo(n))}class Vo{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new nd(t,this.defaultValue))}}class nd extends $i.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var id=L(4487);function ml(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Lo((r,s)=>n(r,s,i)):id.y,hn(1),e?Bs(t):ed(()=>new Sc))}var lr=L(3342),rd=L(1307),Qn=L(5319);class yl{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ao(t,this.callback))}}class ao extends $i.L{constructor(t,e){super(t),this.add(new Qn.w(e))}}class Ds{constructor(t,e){this.id=t,this.url=e}}class sd extends Ds{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bo extends Ds{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kh extends Ds{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ag extends Ds{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Us extends Ds{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ba extends Ds{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mg extends Ds{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class od extends Ds{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QC extends Ds{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ac{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ad{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vl{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yh{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JC{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XC{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bl{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const jt="primary";class kg{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function lo(n){return new kg(n)}const wl="ngNavigationCancelingError";function Zh(n){const t=Error("NavigationCancelingError: "+n);return t[wl]=!0,t}function Qh(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],d=n[s];if(l.startsWith(":"))r[l.substring(1)]=d;else if(l!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Gi(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Cl(n[r],t[r]))return!1;return!0}function Cl(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Og(n){return Array.prototype.concat.apply([],n)}function Mc(n){return n.length>0?n[n.length-1]:null}function Wi(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function pi(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Mi.D)(Promise.resolve(n)):(0,Ze.of)(n)}const ld={exact:function El(n,t,e){if(!wa(n.segments,t.segments)||!xl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!El(n.children[i],t.children[i],e))return!1;return!0},subset:kc},co={exact:function(n,t){return Gi(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Cl(n[e],t[e]))},ignored:()=>!0};function Xh(n,t,e){return ld[e.paths](n.root,t.root,e.matrixParams)&&co[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function kc(n,t,e){return cd(n,t,t.segments,e)}function cd(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!wa(r,e)||t.hasChildren()||!xl(r,e,i))}if(n.segments.length===e.length){if(!wa(n.segments,e)||!xl(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!kc(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(wa(n.segments,r)&&xl(n.segments,r,i)&&n.children[jt])&&cd(n.children[jt],t,s,i)}}function xl(n,t,e){return t.every((i,r)=>co[e](n[r].parameters,i.parameters))}class br{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lo(this.queryParams)),this._queryParamMap}toString(){return Ng.serialize(this)}}class Dt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Wi(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dd(this)}}class ud{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=lo(this.parameters)),this._parameterMap}toString(){return qi(this)}}function wa(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Fg{}class Ca{parse(t){const e=new pe(t);return new br(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Rc(t.root,!0)}`,i=function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${zr(e)}=${zr(r)}`).join("&"):`${zr(e)}=${zr(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);var n;return`${e}${i}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const Ng=new Ca;function dd(n){return n.segments.map(t=>qi(t)).join("/")}function Rc(n,t){if(!n.hasChildren())return dd(n);if(t){const e=n.children[jt]?Rc(n.children[jt],!1):"",i=[];return Wi(n.children,(r,s)=>{s!==jt&&i.push(`${s}:${Rc(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return Wi(n.children,(i,r)=>{r===jt&&(e=e.concat(t(i,r)))}),Wi(n.children,(i,r)=>{r!==jt&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===jt?[Rc(n.children[jt],!1)]:[`${r}:${Rc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[jt]?`${dd(n)}/${e[0]}`:`${dd(n)}/(${e.join("//")})`}}function Ea(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zr(n){return Ea(n).replace(/%3B/gi,";")}function Lg(n){return Ea(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ef(n){return decodeURIComponent(n)}function Oc(n){return ef(n.replace(/\+/g,"%20"))}function qi(n){return`${Lg(n.path)}${function(n){return Object.keys(n).map(t=>`;${Lg(t)}=${Lg(n[t])}`).join("")}(n.parameters)}`}const C=/^[^\/()?;=#]+/;function T(n){const t=n.match(C);return t?t[0]:""}const S=/^[^=?&#]+/,$=/^[^?&#]+/;class pe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[jt]=new Dt(t,e)),i}parseSegment(){const t=T(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ud(ef(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=T(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=T(this.remaining);r&&(i=r,this.capture(i))}t[ef(e)]=ef(i)}parseQueryParam(t){const e=function(n){const t=n.match(S);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const l=function(n){const t=n.match($);return t?t[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=Oc(e),s=Oc(i);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=T(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=jt);const l=this.parseChildren();e[s]=1===Object.keys(l).length?l[jt]:new Dt([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Fe{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Oe(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Oe(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ke(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ke(t,this._root).map(e=>e.value)}}function Oe(n,t){if(n===t.value)return t;for(const e of t.children){const i=Oe(n,e);if(i)return i}return null}function Ke(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Ke(n,e);if(i.length)return i.unshift(t),i}return[]}class tt{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ft(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class jr extends Fe{constructor(t,e){super(t),this.snapshot=e,nf(this,t)}toString(){return this.snapshot.toString()}}function Xn(n,t){const e=function(n,t){const l=new ss([],{},{},"",{},jt,t,null,n.root,-1,{});return new hd("",new tt(l,[]))}(n,t),i=new ji([new ud("",{})]),r=new ji({}),s=new ji({}),l=new ji({}),d=new ji(""),f=new Uo(i,r,l,d,s,jt,t,e.root);return f.snapshot=e.root,new jr(new tt(f,[]),e)}class Uo{constructor(t,e,i,r,s,l,d,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=d,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mt.U)(t=>lo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mt.U)(t=>lo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xa(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class ss{constructor(t,e,i,r,s,l,d,f,g,_,b){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=d,this.routeConfig=f,this._urlSegment=g,this._lastPathIndex=_,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hd extends Fe{constructor(t,e){super(e),this.url=t,nf(this,e)}toString(){return Bg(this._root)}}function nf(n,t){t.value._routerState=n,t.children.forEach(e=>nf(n,e))}function Bg(n){const t=n.children.length>0?` { ${n.children.map(Bg).join(", ")} } `:"";return`${n.value}${t}`}function Ug(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Gi(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Gi(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Gi(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Gi(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function eE(n,t){const e=Gi(n.params,t.params)&&function(n,t){return wa(n,t)&&n.every((e,i)=>Gi(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||eE(n.parent,t.parent))}function pd(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return pd(n,i,r);return pd(n,i)})}(n,t,e);return new tt(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const l=s.route;return By(t,l),l}}const i=function(n){return new Uo(new ji(n.url),new ji(n.params),new ji(n.queryParams),new ji(n.fragment),new ji(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>pd(n,s));return new tt(i,r)}}function By(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)By(n.children[e],t.children[e])}function Hg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function rf(n){return"object"==typeof n&&null!=n&&n.outlets}function Hy(n,t,e,i,r){let s={};return i&&Wi(i,(l,d)=>{s[d]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`}),new br(e.root===n?t:tE(e.root,n,t),s,r)}function tE(n,t,e){const i={};return Wi(n.children,(r,s)=>{i[s]=r===t?e:tE(r,t,e)}),new Dt(n.segments,i)}class nE{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Hg(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(rf);if(r&&r!==Mc(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sf{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function sE(n,t,e){if(n||(n=new Dt([],{})),0===n.segments.length&&n.hasChildren())return of(n,t,e);const i=function(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const l=n.segments[r],d=e[i];if(rf(d))break;const f=`${d}`,g=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&g&&"object"==typeof g&&void 0===g.outlets){if(!lE(f,g,l))return s;i+=2}else{if(!lE(f,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Dt(n.segments.slice(0,i.pathIndex),{});return s.children[jt]=new Dt(n.segments.slice(i.pathIndex),n.children),of(s,0,r)}return i.match&&0===r.length?new Dt(n.segments,{}):i.match&&!n.hasChildren()?Da(n,t,e):i.match?of(n,0,r):Da(n,t,e)}function of(n,t,e){if(0===e.length)return new Dt(n.segments,{});{const i=function(n){return rf(n[0])?n[0].outlets:{[jt]:n}}(e),r={};return Wi(i,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[l]=sE(n.children[l],t,s))}),Wi(n.children,(s,l)=>{void 0===i[l]&&(r[l]=s)}),new Dt(n.segments,r)}}function Da(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(rf(s)){const f=aE(s.outlets);return new Dt(i,f)}if(0===r&&Hg(e[0])){i.push(new ud(n.segments[t].path,jy(e[0]))),r++;continue}const l=rf(s)?s.outlets[jt]:`${s}`,d=r<e.length-1?e[r+1]:null;l&&d&&Hg(d)?(i.push(new ud(l,jy(d))),r+=2):(i.push(new ud(l,{})),r++)}return new Dt(i,{})}function aE(n){const t={};return Wi(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Da(new Dt([],{}),0,e))}),t}function jy(n){const t={};return Wi(n,(e,i)=>t[i]=`${e}`),t}function lE(n,t,e){return n==e.path&&Gi(t,e.parameters)}class zA{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Ug(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=ft(e);t.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Wi(r,(s,l)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet);if(i&&i.outlet){const r=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=ft(t);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=ft(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new XC(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Yh(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(Ug(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(d.contexts),l.attachRef=d.componentRef,l.route=d.route.value,l.outlet&&l.outlet.attach(d.componentRef,d.route.value),$y(d.route)}else{const d=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),f=d?d.module.componentFactoryResolver:null;l.attachRef=null,l.route=r,l.resolver=f,l.outlet&&l.outlet.activateWith(r,f),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,i)}}function $y(n){Ug(n.value),n.children.forEach($y)}class jg{constructor(t,e){this.routes=t,this.module=e}}function Ho(n){return"function"==typeof n}function zo(n){return n instanceof br}const Pc=Symbol("INITIAL_VALUE");function Ia(){return No(n=>function(...n){let t,e;return(0,hl.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,$h.k)(n[0])&&(n=n[0]),(0,Xu.n)(n,e).lift(new ri(t))}(n.map(t=>t.pipe(hn(1),xg(Pc)))).pipe(qh((t,e)=>{let i=!1;return e.reduce((r,s,l)=>r!==Pc?r:(s===Pc&&(i=!0),i||!1!==s&&l!==e.length-1&&!zo(s)?r:s),t)},Pc),Lo(t=>t!==Pc),(0,Mt.U)(t=>zo(t)?t:!0===t),hn(1)))}let hE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},directives:function(){return[Sl]},encapsulation:2}),n})();function qy(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];jA(i,$A(t,i))}}function jA(n,t){n.children&&qy(n.children,t)}function $A(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Gg(n){const t=n.children&&n.children.map(Gg),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==jt&&(e.component=hE),e}function os(n){return n.outlet||jt}function af(n,t){const e=n.filter(i=>os(i)===t);return e.push(...n.filter(i=>os(i)!==t)),e}const Wg={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function jo(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Wg):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(t.matcher||Qh)(e,n,t);if(!s)return Object.assign({},Wg);const l={};Wi(s.posParams,(f,g)=>{l[g]=f.path});const d=s.consumed.length>0?Object.assign(Object.assign({},l),s.consumed[s.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:d,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function qg(n,t,e,i,r="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>gd(n,t,i)&&os(i)!==jt)}(n,e,i)){const l=new Dt(t,function(n,t,e,i){const r={};r[jt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&os(s)!==jt){const l=new Dt([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,r[os(s)]=l}return r}(n,t,i,new Dt(e,n.children)));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>gd(n,t,i))}(n,e,i)){const l=new Dt(n.segments,function(n,t,e,i,r,s){const l={};for(const d of i)if(gd(n,e,d)&&!r[os(d)]){const f=new Dt([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===s?n.segments.length:t.length,l[os(d)]=f}return Object.assign(Object.assign({},r),l)}(n,t,e,i,n.children,r));return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}const s=new Dt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function gd(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Ky(n,t,e,i){return!!(os(n)===i||i!==jt&&gd(t,e,n))&&("**"===n.path||jo(t,n,e).matched)}function Yy(n,t,e){return 0===t.length&&!n.children[e]}class md{constructor(t){this.segmentGroup=t||null}}class Il{constructor(t){this.urlTree=t}}function Yg(n){return new ki.y(t=>t.error(new md(n)))}function fE(n){return new ki.y(t=>t.error(new Il(n)))}function qA(n){return new ki.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Sa{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(c.h0i)}apply(){const t=qg(this.urlTree.root,[],[],this.config).segmentGroup,e=new Dt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,jt).pipe((0,Mt.U)(s=>this.createUrlTree(Zg(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ya(s=>{if(s instanceof Il)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof md?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,jt).pipe((0,Mt.U)(r=>this.createUrlTree(Zg(r),t.queryParams,t.fragment))).pipe(ya(r=>{throw r instanceof md?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Dt([],{[jt]:t}):t;return new br(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Mt.U)(s=>new Dt([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Mi.D)(r).pipe(_n(s=>{const l=i.children[s],d=af(e,s);return this.expandSegmentGroup(t,d,l,s).pipe((0,Mt.U)(f=>({segment:f,outlet:s})))}),qh((s,l)=>(s[l.outlet]=l.segment,s),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Lo((r,s)=>n(r,s,i)):id.y,pl(1),e?Bs(t):ed(()=>new Sc))}())}expandSegment(t,e,i,r,s,l){return(0,Mi.D)(i).pipe(_n(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,l).pipe(ya(g=>{if(g instanceof md)return(0,Ze.of)(null);throw g}))),ml(d=>!!d),ya((d,f)=>{if(d instanceof Sc||"EmptyError"===d.name){if(Yy(e,r,s))return(0,Ze.of)(new Dt([],{}));throw new md(e)}throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,l,d){return Ky(r,e,s,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,l):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l):Yg(e):Yg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?fE(s):this.lineralizeSegments(i,s).pipe((0,vr.zg)(l=>{const d=new Dt(l,{});return this.expandSegment(t,d,e,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,l){const{matched:d,consumedSegments:f,lastChild:g,positionalParamSegments:_}=jo(e,r,s);if(!d)return Yg(e);const b=this.applyRedirectCommands(f,r.redirectTo,_);return r.redirectTo.startsWith("/")?fE(b):this.lineralizeSegments(r,b).pipe((0,vr.zg)(E=>this.expandSegment(t,e,i,E.concat(s.slice(g)),l,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?(0,Ze.of)(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,Mt.U)(E=>(i._loadedConfig=E,new Dt(r,{})))):(0,Ze.of)(new Dt(r,{}));const{matched:l,consumedSegments:d,lastChild:f}=jo(e,i,r);if(!l)return Yg(e);const g=r.slice(f);return this.getChildConfig(t,i,r).pipe((0,vr.zg)(b=>{const E=b.module,x=b.routes,{segmentGroup:M,slicedSegments:k}=qg(e,d,g,x),R=new Dt(M.segments,M.children);if(0===k.length&&R.hasChildren())return this.expandChildren(E,x,R).pipe((0,Mt.U)(ce=>new Dt(d,ce)));if(0===x.length&&0===k.length)return(0,Ze.of)(new Dt(d,{}));const B=os(i)===s;return this.expandSegment(E,R,x,k,B?jt:s,!0).pipe((0,Mt.U)(Q=>new Dt(d.concat(Q.segments),Q.children)))}))}getChildConfig(t,e,i){return e.children?(0,Ze.of)(new jg(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Ze.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,vr.zg)(r=>{return r?this.configLoader.load(t.injector,e).pipe((0,Mt.U)(s=>(e._loadedConfig=s,s))):(n=e,new ki.y(t=>t.error(Zh(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Ze.of)(new jg([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return(0,Ze.of)(!0);const s=r.map(l=>{const d=t.get(l);let f;if((n=d)&&Ho(n.canLoad))f=d.canLoad(e,i);else{if(!Ho(d))throw new Error("Invalid CanLoad guard");f=d(e,i)}var n;return pi(f)});return(0,Ze.of)(s).pipe(Ia(),(0,lr.b)(l=>{if(!zo(l))return;const d=Zh(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw d.url=l,d}),(0,Mt.U)(l=>!0===l))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,Ze.of)(i);if(r.numberOfChildren>1||!r.children[jt])return qA(t.redirectTo);r=r.children[jt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new br(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Wi(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let l={};return Wi(e.children,(d,f)=>{l[f]=this.createSegmentGroup(t,d,i,r)}),new Dt(s,l)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Zg(n){const t={};for(const i of Object.keys(n.children)){const s=Zg(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function(n){if(1===n.numberOfChildren&&n.children[jt]){const t=n.children[jt];return new Dt(n.segments.concat(t.segments),t.children)}return n}(new Dt(n.segments,t))}class pE{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Qg{constructor(t,e){this.component=t,this.route=e}}function QA(n,t,e){const i=n._root;return cf(i,t?t._root:null,e,[i.value])}function lf(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function cf(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=ft(t);return n.children.forEach(l=>{(function(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const f=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!wa(n.url,t.url);case"pathParamsOrQueryParamsChange":return!wa(n.url,t.url)||!Gi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eE(n,t)||!Gi(n.queryParams,t.queryParams);default:return!eE(n,t)}}(l,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new pE(i)):(s.data=l.data,s._resolvedData=l._resolvedData),cf(n,t,s.component?d?d.children:null:e,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Qg(d.outlet.component,l))}else l&&Jg(t,d,r),r.canActivateChecks.push(new pE(i)),cf(n,null,s.component?d?d.children:null:e,i,r)})(l,s[l.value.outlet],e,i.concat([l.value]),r),delete s[l.value.outlet]}),Wi(s,(l,d)=>Jg(l,e.getContext(d),r)),r}function Jg(n,t,e){const i=ft(n),r=n.value;Wi(i,(s,l)=>{Jg(s,r.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new Qg(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class cU{}function iM(n){return new ki.y(t=>t.error(n))}class Zy{constructor(t,e,i,r,s,l){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=l}recognize(){const t=qg(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,jt);if(null===e)return null;const i=new ss([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new tt(i,e),s=new hd(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=xa(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const l=e.children[s],d=af(t,s),f=this.processSegmentGroup(d,l,s);if(null===f)return null;i.push(...f)}const r=rM(i);return r.sort((t,e)=>t.value.outlet===jt?-1:e.value.outlet===jt?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,i,r){for(const s of t){const l=this.processSegmentAgainstRoute(s,e,i,r);if(null!==l)return l}return Yy(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Ky(t,e,i,r))return null;let s,l=[],d=[];if("**"===t.path){const x=i.length>0?Mc(i).parameters:{};s=new ss(i,x,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wE(t),os(t),t.component,t,vE(e),bE(e)+i.length,CE(t))}else{const x=jo(e,t,i);if(!x.matched)return null;l=x.consumedSegments,d=i.slice(x.lastChild),s=new ss(l,x.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,wE(t),os(t),t.component,t,vE(e),bE(e)+l.length,CE(t))}const f=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:g,slicedSegments:_}=qg(e,l,d,f.filter(x=>void 0===x.redirectTo),this.relativeLinkResolution);var n;if(0===_.length&&g.hasChildren()){const x=this.processChildren(f,g);return null===x?null:[new tt(s,x)]}if(0===f.length&&0===_.length)return[new tt(s,[])];const b=os(t)===r,E=this.processSegment(f,g,_,b?jt:r);return null===E?null:[new tt(s,E)]}}function dU(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function rM(n){const t=[],e=new Set;for(const i of n){if(!dU(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=rM(i.children);t.push(new tt(i.value,r))}return t.filter(i=>!e.has(i))}function vE(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function bE(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function wE(n){return n.data||{}}function CE(n){return n.resolve||{}}function Rn(n){return No(t=>{const e=n(t);return e?(0,Mi.D)(e).pipe((0,Mt.U)(()=>t)):(0,Ze.of)(t)})}class ev extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const em=new c.OlP("ROUTES");class xE{constructor(t,e,i,r){this.loader=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,Mt.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const l=s.create(t);return new jg(Og(l.injector.get(em,void 0,c.XFs.Self|c.XFs.Optional)).map(Gg),l)}),ya(s=>{throw e._loader$=void 0,s}));return e._loader$=new _a.c(r,()=>new zt.xQ).pipe((0,rd.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Mi.D)(this.loader.load(t)):pi(t()).pipe((0,vr.zg)(e=>e instanceof c.YKP?(0,Ze.of)(e):(0,Mi.D)(this.compiler.compileModuleAsync(e))))}}class cM{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new yd,this.attachRef=null}}class yd{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new cM,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class dM{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function hU(n){throw n}function fU(n,t,e){return t.parse("/")}function vd(n,t){return(0,Ze.of)(null)}const hM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ri=(()=>{class n{constructor(e,i,r,s,l,d,f,g){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new zt.xQ,this.errorHandler=hU,this.malformedUriErrorHandler=fU,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vd,afterPreactivation:vd},this.urlHandlingStrategy=new dM,this.routeReuseStrategy=new ev,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(c.h0i),this.console=l.get(c.c2e);const E=l.get(c.R0b);this.isNgZoneEnabled=E instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=new br(new Dt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new xE(d,f,x=>this.triggerEvent(new Ac(x)),x=>this.triggerEvent(new ad(x))),this.routerState=Xn(this.currentUrlTree,this.rootComponentType),this.transitions=new ji({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Lo(r=>0!==r.id),(0,Mt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),No(r=>{let s=!1,l=!1;return(0,Ze.of)(r).pipe((0,lr.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),No(d=>{const f=this.browserUrlTree.toString(),g=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||g)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return tm(d.source)&&(this.browserUrlTree=d.extractedUrl),(0,Ze.of)(d).pipe(No(b=>{const E=this.transitions.getValue();return i.next(new sd(b.id,this.serializeUrl(b.extractedUrl),b.source,b.restoredState)),E!==this.transitions.getValue()?Hr.E:Promise.resolve(b)}),function(n,t,e,i){return No(r=>function(n,t,e,i,r){return new Sa(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Mt.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,lr.b)(b=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:b.urlAfterRedirects})}),function(n,t,e,i,r){return(0,vr.zg)(s=>function(n,t,e,i,r="emptyOnly",s="legacy"){try{const l=new Zy(n,t,e,i,r,s).recognize();return null===l?iM(new cU):(0,Ze.of)(l)}catch(l){return iM(l)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,Mt.U)(l=>Object.assign(Object.assign({},s),{targetSnapshot:l}))))}(this.rootComponentType,this.config,b=>this.serializeUrl(b),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,lr.b)(b=>{"eager"===this.urlUpdateStrategy&&(b.extras.skipLocationChange||this.setBrowserUrl(b.urlAfterRedirects,b),this.browserUrlTree=b.urlAfterRedirects);const E=new Us(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);i.next(E)}));if(g&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:E,extractedUrl:x,source:M,restoredState:k,extras:R}=d,B=new sd(E,this.serializeUrl(x),M,k);i.next(B);const G=Xn(x,this.rootComponentType).snapshot;return(0,Ze.of)(Object.assign(Object.assign({},d),{targetSnapshot:G,urlAfterRedirects:x,extras:Object.assign(Object.assign({},R),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,this.browserUrlTree=d.urlAfterRedirects,d.resolve(null),Hr.E}),Rn(d=>{const{targetSnapshot:f,id:g,extractedUrl:_,rawUrl:b,extras:{skipLocationChange:E,replaceUrl:x}}=d;return this.hooks.beforePreactivation(f,{navigationId:g,appliedUrlTree:_,rawUrlTree:b,skipLocationChange:!!E,replaceUrl:!!x})}),(0,lr.b)(d=>{const f=new ba(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,Mt.U)(d=>Object.assign(Object.assign({},d),{guards:QA(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function(n,t){return(0,vr.zg)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=e;return 0===l.length&&0===s.length?(0,Ze.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return(0,Mi.D)(n).pipe((0,vr.zg)(r=>function(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,Ze.of)(!0);const l=s.map(d=>{const f=lf(d,t,r);let g;if(function(n){return n&&Ho(n.canDeactivate)}(f))g=pi(f.canDeactivate(n,t,e,i));else{if(!Ho(f))throw new Error("Invalid CanDeactivate guard");g=pi(f(n,t,e,i))}return g.pipe(ml())});return(0,Ze.of)(l).pipe(Ia())}(r.component,r.route,e,t,i)),ml(r=>!0!==r,!0))}(l,i,r,n).pipe((0,vr.zg)(d=>d&&function(n){return"boolean"==typeof n}(d)?function(n,t,e,i){return(0,Mi.D)(t).pipe(_n(r=>Fo(function(n,t){return null!==n&&t&&t(new vl(n)),(0,Ze.of)(!0)}(r.route.parent,i),function(n,t){return null!==n&&t&&t(new JC(n)),(0,Ze.of)(!0)}(r.route,i),function(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(l=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>ma(()=>{const d=l.guards.map(f=>{const g=lf(f,l.node,e);let _;if(function(n){return n&&Ho(n.canActivateChild)}(g))_=pi(g.canActivateChild(i,n));else{if(!Ho(g))throw new Error("Invalid CanActivateChild guard");_=pi(g(i,n))}return _.pipe(ml())});return(0,Ze.of)(d).pipe(Ia())}));return(0,Ze.of)(s).pipe(Ia())}(n,r.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Ze.of)(!0);const r=i.map(s=>ma(()=>{const l=lf(s,t,e);let d;if(function(n){return n&&Ho(n.canActivate)}(l))d=pi(l.canActivate(t,n));else{if(!Ho(l))throw new Error("Invalid CanActivate guard");d=pi(l(t,n))}return d.pipe(ml())}));return(0,Ze.of)(r).pipe(Ia())}(n,r.route,e))),ml(r=>!0!==r,!0))}(i,s,n,t):(0,Ze.of)(d)),(0,Mt.U)(d=>Object.assign(Object.assign({},e),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,lr.b)(d=>{if(zo(d.guardsResult)){const g=Zh(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw g.url=d.guardsResult,g}const f=new Mg(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),Lo(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),Rn(d=>{if(d.guards.canActivateChecks.length)return(0,Ze.of)(d).pipe((0,lr.b)(f=>{const g=new od(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),No(f=>{let g=!1;return(0,Ze.of)(f).pipe(function(n,t){return(0,vr.zg)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return(0,Ze.of)(e);let s=0;return(0,Mi.D)(r).pipe(_n(l=>function(n,t,e,i){return function(n,t,e,i){const r=Object.keys(n);if(0===r.length)return(0,Ze.of)({});const s={};return(0,Mi.D)(r).pipe((0,vr.zg)(l=>function(n,t,e,i){const r=lf(n,t,i);return pi(r.resolve?r.resolve(t,e):r(t,e))}(n[l],t,e,i).pipe((0,lr.b)(d=>{s[l]=d}))),pl(1),(0,vr.zg)(()=>Object.keys(s).length===r.length?(0,Ze.of)(s):Hr.E))}(n._resolve,n,t,i).pipe((0,Mt.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),xa(n,e).resolve),null)))}(l.route,i,n,t)),(0,lr.b)(()=>s++),pl(1),(0,vr.zg)(l=>s===r.length?(0,Ze.of)(e):Hr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,lr.b)({next:()=>g=!0,complete:()=>{g||(this.restoreHistory(f),this.cancelNavigationTransition(f,"At least one route resolver didn't emit any value."))}}))}),(0,lr.b)(f=>{const g=new QC(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}))}),Rn(d=>{const{targetSnapshot:f,id:g,extractedUrl:_,rawUrl:b,extras:{skipLocationChange:E,replaceUrl:x}}=d;return this.hooks.afterPreactivation(f,{navigationId:g,appliedUrlTree:_,rawUrlTree:b,skipLocationChange:!!E,replaceUrl:!!x})}),(0,Mt.U)(d=>{const f=function(n,t,e){const i=pd(n,t._root,e?e._root:void 0);return new jr(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:f})}),(0,lr.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,Mt.U)(i=>(new zA(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,lr.b)({next(){s=!0},complete(){s=!0}}),function(n){return t=>t.lift(new yl(n))}(()=>{var d;if(!s&&!l){const f=`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(r),this.cancelNavigationTransition(r,f)):this.cancelNavigationTransition(r,f)}(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===r.id&&(this.currentNavigation=null)}),ya(d=>{if(l=!0,function(n){return n&&n[wl]}(d)){const f=zo(d.url);f||(this.navigated=!0,this.restoreHistory(r,!0));const g=new Kh(r.id,this.serializeUrl(r.extractedUrl),d.message);i.next(g),f?setTimeout(()=>{const _=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tm(r.source)};this.scheduleNavigation(_,"imperative",null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new Ag(r.id,this.serializeUrl(r.extractedUrl),d);i.next(f);try{r.resolve(this.errorHandler(d))}catch(g){r.reject(g)}}return Hr.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,i)&&setTimeout(()=>{const{source:r,state:s,urlTree:l}=i,d={replaceUrl:!0};if(s){const f=Object.assign({},s);delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(d.state=f)}this.scheduleNavigation(l,r,s,d)},0),this.lastLocationChangeInfo=i}))}extractLocationChangeInfoFromEvent(e){var i;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(i=e.state)||void 0===i?void 0:i.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,i){if(!e)return!0;const r=i.urlTree.toString()===e.urlTree.toString();return i.transitionId!==e.transitionId||!r||!("hashchange"===i.source&&"popstate"===e.source||"popstate"===i.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){qy(e),this.config=e.map(Gg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:l,queryParamsHandling:d,preserveFragment:f}=i,g=r||this.routerState.root,_=f?this.currentUrlTree.fragment:l;let b=null;switch(d){case"merge":b=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}return null!==b&&(b=this.removeEmptyProps(b)),function(n,t,e,i,r){if(0===e.length)return Hy(t.root,t.root,t,i,r);const s=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new nE(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Wi(s.outlets,(f,g)=>{d[g]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new nE(e,t,i)}(e);if(s.toRoot())return Hy(t.root,new Dt([],{}),t,i,r);const l=function(n,t,e){if(n.isAbsolute)return new sf(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new sf(s,s===t.root,0)}const i=Hg(n.commands[0])?0:1;return function(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new sf(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),d=l.processChildren?of(l.segmentGroup,l.index,s.commands):sE(l.segmentGroup,l.index,s.commands);return Hy(l.segmentGroup,d,t,i,r)}(g,this.currentUrlTree,e,b,null!=_?_:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=zo(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},hM):!1===i?Object.assign({},DE):i,zo(e))return Xh(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Xh(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Bo(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,l){var d,f;if(this.disposed)return Promise.resolve(!1);const g=this.getTransition(),_=tm(i)&&g&&!tm(g.source),x=(this.lastSuccessfulId===g.id||this.currentNavigation?g.rawUrl:g.urlAfterRedirects).toString()===e.toString();if(_&&x)return Promise.resolve(!0);let M,k,R;l?(M=l.resolve,k=l.reject,R=l.promise):R=new Promise((Q,ce)=>{M=Q,k=ce});const B=++this.navigationId;let G;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),G=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(d=this.browserPageId)&&void 0!==d?d:0:(null!==(f=this.browserPageId)&&void 0!==f?f:0)+1):G=0,this.setTransition({id:B,targetPageId:G,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:M,reject:k,promise:R,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),R.catch(Q=>Promise.reject(Q))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===l?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===l&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Kh(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.DyG),c.LFG(Fg),c.LFG(yd),c.LFG(un),c.LFG(c.zs3),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(void 0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function tm(n){return"imperative"!==n}let hf=(()=>{class n{constructor(e,i,r,s,l){this.router=e,this.route=i,this.commands=[],this.onChanges=new zt.xQ,null==r&&s.setAttribute(l.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Aa(this.skipLocationChange),replaceUrl:Aa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Aa(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ri),c.Y36(Uo),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&c.NdJ("click",function(){return i.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),n})();function Aa(n){return""===n||!!n}let Sl=(()=>{class n{constructor(e,i,r,s,l){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.name=s||jt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const l=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,f=new gM(e,d,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,f),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(yd),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class gM{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Uo?this.route:t===yd?this.childContexts:this.parent.get(t,e)}}class SE{}class tv{preload(t,e){return(0,Ze.of)(null)}}let AE=(()=>{class n{constructor(e,i,r,s,l){this.router=e,this.injector=s,this.preloadingStrategy=l,this.loader=new xE(i,r,g=>e.triggerEvent(new Ac(g)),g=>e.triggerEvent(new ad(g)))}setUpPreloading(){this.subscription=this.router.events.pipe(Lo(e=>e instanceof Bo),_n(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(c.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const l=s._loadedConfig;r.push(this.processRoutes(l.module,l.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,Mi.D)(r).pipe((0,ga.J)(),(0,Mt.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?(0,Ze.of)(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,vr.zg)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ri),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(SE))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),nv=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof sd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Bo&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof bl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new bl(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ri),c.LFG(Uu),c.LFG(void 0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const bd=new c.OlP("ROUTER_CONFIGURATION"),iv=new c.OlP("ROUTER_FORROOT_GUARD"),yM=[un,{provide:Fg,useClass:Ca},{provide:Ri,useFactory:function(n,t,e,i,r,s,l,d={},f,g){const _=new Ri(null,n,t,e,i,r,s,Og(l));return f&&(_.urlHandlingStrategy=f),g&&(_.routeReuseStrategy=g),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(d,_),d.enableTracing&&_.events.subscribe(b=>{var E,x;null===(E=console.group)||void 0===E||E.call(console,`Router Event: ${b.constructor.name}`),console.log(b.toString()),console.log(b),null===(x=console.groupEnd)||void 0===x||x.call(console)}),_},deps:[Fg,yd,un,c.zs3,c.v3s,c.Sil,em,bd,[class{},new c.FiY],[class{},new c.FiY]]},yd,{provide:Uo,useFactory:function(n){return n.routerState.root},deps:[Ri]},{provide:c.v3s,useClass:c.EAV},AE,tv,class{preload(t,e){return e().pipe(ya(()=>(0,Ze.of)(null)))}},{provide:bd,useValue:{enableTracing:!1}}];function vM(){return new c.PXZ("Router",Ri)}let Go=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[yM,rv(e),{provide:iv,useFactory:gU,deps:[[Ri,new c.FiY,new c.tp0]]},{provide:bd,useValue:i||{}},{provide:st,useFactory:pU,deps:[Ee,[new c.tBr(pt),new c.FiY],bd]},{provide:nv,useFactory:Wo,deps:[Ri,Uu,bd]},{provide:SE,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:tv},{provide:c.PXZ,multi:!0,useFactory:vM},[im,{provide:c.ip1,multi:!0,useFactory:bM,deps:[im]},{provide:RE,useFactory:kE,deps:[im]},{provide:c.tb,multi:!0,useExisting:RE}]]}}static forChild(e){return{ngModule:n,providers:[rv(e)]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(iv,8),c.LFG(Ri,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Wo(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new nv(n,t,e)}function pU(n,t,e={}){return e.useHash?new We(n,t):new gn(n,t)}function gU(n){return"guarded"}function rv(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:em,multi:!0,useValue:n}]}let im=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new zt.xQ}appInitializer(){return this.injector.get(N,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(d=>i=d),s=this.injector.get(Ri),l=this.injector.get(bd);return"disabled"===l.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?(0,Ze.of)(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(bd),r=this.injector.get(AE),s=this.injector.get(nv),l=this.injector.get(Ri),d=this.injector.get(c.z2F);e===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&l.initialNavigation(),r.setUpPreloading(),s.init(),l.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function bM(n){return n.appInitializer.bind(n)}function kE(n){return n.bootstrapListener.bind(n)}const RE=new c.OlP("Router Initializer");class XM{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new uv(t,this.compare,this.keySelector))}}class uv extends $i.L{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}function wd(n){return t=>t.lift(new ZE(n))}class ZE{constructor(t){this.notifier=t}call(t,e){const i=new ek(t),r=(0,Zn.ft)(this.notifier,new Zn.IY(i));return r&&!i.seenValue?(i.add(r),e.subscribe(i)):i}}class ek extends Zn.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Lc(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}let lm;try{lm="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){lm=!1}let Ol,uo,wr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return"browser"===n}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!lm)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(c.Lbi))},token:n,providedIn:"root"}),n})(),$s=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Vc(){if("object"!=typeof document||!document)return 0;if(null==Ol){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Ol=0,0===n.scrollLeft&&(n.scrollLeft=1,Ol=0===n.scrollLeft?1:2),n.parentNode.removeChild(n)}return Ol}var dv=L(3637);"undefined"!=typeof Element&&Element;const hT="cdk-high-contrast-black-on-white",fT="cdk-high-contrast-white-on-black",Cv="cdk-high-contrast-active";let _f=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Cv),e.remove(hT),e.remove(fT),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Cv),e.add(hT)):2===i&&(e.add(Cv),e.add(fT))}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(wr),c.LFG(ge))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(wr),c.LFG(ge))},token:n,providedIn:"root"}),n})();const Ev=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,c.f3M)(ge)}});let zc=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new c.vpe,e){const r=e.documentElement?e.documentElement.dir:null,s=(e.body?e.body.dir:null)||r;this.value="ltr"===s||"rtl"===s?s:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ev,8))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(Ev,8))},token:n,providedIn:"root"}),n})(),pm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const gm=new c.GfV("12.2.13");class fo{}const Pn="*";function po(n,t){return{type:7,name:n,definitions:t,options:{}}}function Is(n,t=null){return{type:4,styles:t,timings:n}}function mm(n,t=null){return{type:2,steps:n,options:t}}function oi(n){return{type:6,styles:n,offset:null}}function jc(n,t,e){return{type:0,name:n,styles:t,options:e}}function Cr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function $c(n,t=null){return{type:8,animation:n,options:t}}function Td(n=null){return{type:9,options:n}}function Gc(n,t=null){return{type:10,animation:n,options:t}}function xd(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Tv(n){Promise.resolve(null).then(n)}class Wc{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Tv(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class xv{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?Tv(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,d)=>Math.max(l,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function Dv(){return"undefined"!=typeof window&&void 0!==window.document}function ym(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ra(n){switch(n.length){case 0:return new Wc;case 1:return n[0];default:return new xv(n)}}function Iv(n,t,e,i,r={},s={}){const l=[],d=[];let f=-1,g=null;if(i.forEach(_=>{const b=_.offset,E=b==f,x=E&&g||{};Object.keys(_).forEach(M=>{let k=M,R=_[M];if("offset"!==M)switch(k=t.normalizePropertyName(k,l),R){case"!":R=r[M];break;case Pn:R=s[M];break;default:R=t.normalizeStyleValue(M,k,R,l)}x[k]=R}),E||d.push(x),g=x,f=b}),l.length){const _="\n - ";throw new Error(`Unable to animate due to the following errors:${_}${l.join(_)}`)}return d}function vm(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Sv(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Sv(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Sv(e,"destroy",n)))}}function Sv(n,t,e){const i=e.totalTime,s=bm(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),l=n._data;return null!=l&&(s._data=l),s}function bm(n,t,e,i,r="",s=0,l){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function Ss(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Av(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let wm=(n,t)=>!1,pT=(n,t)=>!1,Mv=(n,t,e)=>[];const kv=ym();(kv||"undefined"!=typeof Element)&&(wm=Dv()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),pT=(()=>{if(kv||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):pT}})(),Mv=(n,t,e)=>{let i=[];if(e){const r=n.querySelectorAll(t);for(let s=0;s<r.length;s++)i.push(r[s])}else{const r=n.querySelector(t);r&&i.push(r)}return i});let qc=null,xk=!1;function Rv(n){qc||(qc=("undefined"!=typeof document?document.body:null)||{},xk=!!qc.style&&"WebkitAppearance"in qc.style);let t=!0;return qc.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in qc.style,!t&&xk&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in qc.style)),t}const mT=pT,_T=wm,yT=Mv;function vT(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let Dk=(()=>{class n{validateStyleProperty(e){return Rv(e)}matchesElement(e,i){return mT(e,i)}containsElement(e,i){return _T(e,i)}query(e,i,r){return yT(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,l,d=[],f){return new Wc(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ov=(()=>{class n{}return n.NOOP=new Dk,n})();const Fv="ng-enter",Nv="ng-leave",Em="ng-trigger",Cf=".ng-trigger",Sk="ng-animating",Lv=".ng-animating";function Ws(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Vv(parseFloat(t[1]),t[2])}function Vv(n,t){return"s"===t?1e3*n:n}function Ef(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let r,s=0,l="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};r=Vv(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(s=Vv(parseFloat(f),d[4]));const g=d[5];g&&(l=g)}else r=n;if(!e){let d=!1,f=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),d=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),d=!0),d&&t.splice(f,0,`The provided timing value "${n}" is invalid.`)}return{duration:r,delay:s,easing:l}}(n,t,e)}function Kc(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Fl(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Kc(n,e);return e}function Bv(n,t,e){return e?t+":"+e+";":""}function bT(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Bv(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Bv(0,Hv(e),n.style[e]));n.setAttribute("style",t)}function Yo(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=CT(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),ym()&&bT(n))}function Yc(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=CT(e);n.style[i]=""}),ym()&&bT(n))}function xf(n){return Array.isArray(n)?1==n.length?n[0]:mm(n):n}const Tm=new RegExp("{{\\s*(.+?)\\s*}}","g");function wT(n){let t=[];if("string"==typeof n){let e;for(;e=Tm.exec(n);)t.push(e[1]);Tm.lastIndex=0}return t}function Df(n,t,e){const i=n.toString(),r=i.replace(Tm,(s,l)=>{let d=t[l];return t.hasOwnProperty(l)||(e.push(`Please provide a value for the animation param ${l}`),d=""),d.toString()});return r==i?n:r}function If(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Uv=/-+([a-z0-9])/g;function CT(n){return n.replace(Uv,(...t)=>t[1].toUpperCase())}function Hv(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ET(n,t){return 0===n||0===t}function kk(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],l=[];if(i.forEach(d=>{s.hasOwnProperty(d)||l.push(d),s[d]=e[d]}),l.length)for(var r=1;r<t.length;r++){let d=t[r];l.forEach(function(f){d[f]=zv(n,f)})}}return t}function ur(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function zv(n,t){return window.getComputedStyle(n)[t]}function jv(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function(n,t,e){if(":"==n[0]){const f=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof f)return void t.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const r=i[1],s=i[2],l=i[3];t.push(Ok(r,l));"<"==s[0]&&!("*"==r&&"*"==l)&&t.push(Ok(l,r))}(i,e,t)):e.push(n),e}const Id=new Set(["true","1"]),Sf=new Set(["false","0"]);function Ok(n,t){const e=Id.has(n)||Sf.has(n),i=Id.has(t)||Sf.has(t);return(r,s)=>{let l="*"==n||n==r,d="*"==t||t==s;return!l&&e&&"boolean"==typeof r&&(l=r?Id.has(n):Sf.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?Id.has(t):Sf.has(t)),l&&d}}const Gv=new RegExp("s*:selfs*,?","g");function Af(n,t,e){return new xT(n).build(t,e)}class xT{constructor(t){this._driver=t}build(t,e){const i=new Kv(e);return this._resetContextStyleTimingState(i),ur(this,xf(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const f=d,g=f.name;g.toString().split(/\s*,\s*/).forEach(_=>{f.name=_,s.push(this.visitState(f,e))}),f.name=g}else if(1==d.type){const f=this.visitTransition(d,e);i+=f.queryCount,r+=f.depCount,l.push(f)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};if(i.styles.forEach(d=>{if(Mf(d)){const f=d;Object.keys(f).forEach(g=>{wT(f[g]).forEach(_=>{l.hasOwnProperty(_)||s.add(_)})})}}),s.size){const d=If(s.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${d.join(", ")}`)}}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ur(this,xf(t.animation),e);return{type:1,matchers:jv(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Nl(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ur(this,i,e)),options:Nl(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(l=>{e.currentTime=i;const d=ur(this,l,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:Nl(t.options)}}visitAnimate(t,e){const i=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return xm(Ef(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=xm(0,0,"");return s.dynamic=!0,s.strValue=i,s}return e=e||Ef(i,t),xm(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:oi({});if(5==s.type)r=this.visitKeyframes(s,e);else{let l=t.styles,d=!1;if(!l){d=!0;const g={};i.easing&&(g.easing=i.easing),l=oi(g)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(l,e);f.isEmptyStep=d,r=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(l=>{"string"==typeof l?l==Pn?i.push(l):e.errors.push(`The provided style string value ${l} is not allowed.`):i.push(l)}):i.push(t.styles);let r=!1,s=null;return i.forEach(l=>{if(Mf(l)){const d=l,f=d.easing;if(f&&(s=f,delete d.easing),!r)for(let g in d)if(d[g].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(l=>{"string"!=typeof l&&Object.keys(l).forEach(d=>{if(!this._driver.validateStyleProperty(d))return void e.errors.push(`The provided animation property "${d}" is not a supported CSS property for animations`);const f=e.collectedStyles[e.currentQuerySelector],g=f[d];let _=!0;g&&(s!=r&&s>=g.startTime&&r<=g.endTime&&(e.errors.push(`The CSS property "${d}" that exists between the times of "${g.startTime}ms" and "${g.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${r}ms"`),_=!1),s=g.startTime),_&&(f[d]={startTime:s,endTime:r}),e.options&&function(n,t,e){const i=t.params||{},r=wT(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(`Unable to resolve the local animation param ${s} in the given list of values`)})}(l[d],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let s=0;const l=[];let d=!1,f=!1,g=0;const _=t.steps.map(B=>{const G=this._makeStyleAst(B,e);let Q=null!=G.offset?G.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Mf(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Mf(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(G.styles),ce=0;return null!=Q&&(s++,ce=G.offset=Q),f=f||ce<0||ce>1,d=d||ce<g,g=ce,l.push(ce),G});f&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),d&&e.errors.push("Please ensure that all keyframe offsets are in order");const b=t.steps.length;let E=0;s>0&&s<b?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(E=1/(b-1));const x=b-1,M=e.currentTime,k=e.currentAnimateTimings,R=k.duration;return _.forEach((B,G)=>{const Q=E>0?G==x?1:E*G:l[G],ce=Q*R;e.currentTime=M+k.delay+ce,k.duration=ce,this._validateStyleAst(B,e),B.offset=Q,i.styles.push(B)}),i}visitReference(t,e){return{type:8,animation:ur(this,xf(t.animation),e),options:Nl(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Nl(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Nl(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,l]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Gv,"")),n=n.replace(/@\*/g,Cf).replace(/@\w+/g,e=>Cf+"-"+e.substr(1)).replace(/:animating/g,Lv),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Ss(e.collectedStyles,e.currentQuerySelector,{});const d=ur(this,xf(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:d,originalSelector:t.selector,options:Nl(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ef(t.timings,e.errors,!0);return{type:12,animation:ur(this,xf(t.animation),e),timings:i,options:null}}}class Kv{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Mf(n){return!Array.isArray(n)&&"object"==typeof n}function Nl(n){return n?(n=Kc(n)).params&&(n.params=function(n){return n?Kc(n):null}(n.params)):n={},n}function xm(n,t,e){return{duration:n,delay:t,easing:e}}function kf(n,t,e,i,r,s,l=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:d}}class Rf{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ST=new RegExp(":enter","g"),Zv=new RegExp(":leave","g");function Dm(n,t,e,i,r,s={},l={},d,f,g=[]){return(new MT).buildKeyframes(n,t,e,i,r,s,l,d,f,g)}class MT{buildKeyframes(t,e,i,r,s,l,d,f,g,_=[]){g=g||new Rf;const b=new Im(t,e,g,r,s,_,[]);b.options=f,b.currentTimeline.setStyles([l],null,b.errors,f),ur(this,i,b);const E=b.timelines.filter(x=>x.containsAnimation());if(E.length&&Object.keys(d).length){const x=E[E.length-1];x.allowOnlyTimelineStyles()||x.setStyles([d],null,b.errors,f)}return E.length?E.map(x=>x.buildKeyframes()):[kf(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.consume(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const l=null!=i.duration?Ws(i.duration):null,d=null!=i.delay?Ws(i.delay):null;return 0!==l&&t.forEach(f=>{const g=e.appendInstructionToTimeline(f,l,d);s=Math.max(s,g.duration+g.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),ur(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Of);const l=Ws(s.delay);r.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>ur(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Ws(t.options.delay):0;t.steps.forEach(l=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),ur(this,l,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Ef(e.params?Df(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(f=>{d.forwardTime((f.offset||0)*s),d.setStyles(f.styles,f.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Ws(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Of);let l=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let f=null;d.forEach((g,_)=>{e.currentQueryIndex=_;const b=e.createSubContext(t.options,g);s&&b.delayNextStep(s),g===e.element&&(f=b.currentTimeline),ur(this,t.animation,b),b.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,b.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,l=Math.abs(s.duration),d=l*(e.currentQueryTotal-1);let f=l*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=d-f;break;case"full":f=i.currentStaggerTime}const _=e.currentTimeline;f&&_.delayNextStep(f);const b=_.currentTime;ur(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-b+(r.startTime-i.currentTimeline.startTime)}}const Of={};class Im{constructor(t,e,i,r,s,l,d,f){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Of,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new Pf(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Ws(i.duration)),null!=i.delay&&(r.delay=Ws(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!l.hasOwnProperty(d))&&(l[d]=Df(s[d],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new Im(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Of,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},s=new kT(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,l){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(ST,"."+this._enterClassName)).replace(Zv,"."+this._leaveClassName);let g=this._driver.query(this.element,t,1!=i);0!==i&&(g=i<0?g.slice(g.length+i,g.length):g.slice(0,i)),d.push(...g)}return!s&&0==d.length&&l.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),d}}class Pf{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Pf(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Pn,this._currentKeyframe[e]=Pn}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},l=function(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=Pn})):Fl(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(l).forEach(d=>{const f=Df(l[d],s,i);this._pendingStyles[d]=f,this._localTimelineStyles.hasOwnProperty(d)||(this._backFill[d]=this._globalTimelineStyles.hasOwnProperty(d)?this._globalTimelineStyles[d]:Pn),this._updateStyle(d,f)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,f)=>{const g=Fl(d,!0);Object.keys(g).forEach(_=>{const b=g[_];"!"==b?t.add(_):b==Pn&&e.add(_)}),i||(g.offset=f/this.duration),r.push(g)});const s=t.size?If(t.values()):[],l=e.size?If(e.values()):[];if(i){const d=r[0],f=Kc(d);d.offset=0,f.offset=1,r=[d,f]}return kf(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class kT extends Pf{constructor(t,e,i,r,s,l,d=!1){super(t,e,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],l=i+e,d=e/l,f=Fl(t[0],!1);f.offset=0,s.push(f);const g=Fl(t[0],!1);g.offset=Qv(d),s.push(g);const _=t.length-1;for(let b=1;b<=_;b++){let E=Fl(t[b],!1);E.offset=Qv((e+E.offset*i)/l),s.push(E)}i=l,e=0,r="",t=s}return kf(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Qv(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Jv{}class OT extends Jv{normalizePropertyName(t,e){return CT(t)}normalizeStyleValue(t,e,i,r){let s="";const l=i.toString().trim();if(Oi[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(`Please provide a CSS unit value for ${t}:${i}`)}return l+s}}const Oi=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function FT(n,t,e,i,r,s,l,d,f,g,_,b,E){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:l,timelines:d,queriedElements:f,preStyleProps:g,postStyleProps:_,totalTime:b,errors:E}}const Xv={};class eb{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],l=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):l}build(t,e,i,r,s,l,d,f,g,_){const b=[],E=this.ast.options&&this.ast.options.params||Xv,M=this.buildStyles(i,d&&d.params||Xv,b),k=f&&f.params||Xv,R=this.buildStyles(r,k,b),B=new Set,G=new Map,Q=new Map,ce="void"===r,de={params:Object.assign(Object.assign({},E),k)},Ce=_?[]:Dm(t,e,this.ast.animation,s,l,M,R,de,g,b);let xe=0;if(Ce.forEach(Le=>{xe=Math.max(Le.duration+Le.delay,xe)}),b.length)return FT(e,this._triggerName,i,r,ce,M,R,[],[],G,Q,xe,b);Ce.forEach(Le=>{const ot=Le.element,Bt=Ss(G,ot,{});Le.preStyleProps.forEach($n=>Bt[$n]=!0);const $t=Ss(Q,ot,{});Le.postStyleProps.forEach($n=>$t[$n]=!0),ot!==e&&B.add(ot)});const Ae=If(B.values());return FT(e,this._triggerName,i,r,ce,M,R,Ce,Ae,G,Q,xe)}}class NT{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Kc(this.defaultParams);return Object.keys(t).forEach(s=>{const l=t[s];null!=l&&(r[s]=l)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const l=s;Object.keys(l).forEach(d=>{let f=l[d];f.length>1&&(f=Df(f,r,e));const g=this.normalizer.normalizePropertyName(d,e);f=this.normalizer.normalizeStyleValue(d,g,f,e),i[g]=f})}}),i}}class Sd{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new NT(r.style,r.options&&r.options.params||{},i)}),VT(this.states,"true","1"),VT(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new eb(t,r,this.states))}),this.fallbackTransition=function(n,t,e){return new eb(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(l=>l.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function VT(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const BT=new Rf;class Vk{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=Af(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,s=Iv(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let l;const d=new Map;if(s?(l=Dm(this._driver,e,s,Fv,Nv,{},{},i,BT,r),l.forEach(_=>{const b=Ss(d,_.element,{});_.postStyleProps.forEach(E=>b[E]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),l=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);d.forEach((_,b)=>{Object.keys(_).forEach(E=>{_[E]=this._driver.computeStyle(b,E,Pn)})});const g=Ra(l.map(_=>{const b=d.get(_.element);return this._buildPlayer(_,{},b)}));return this._playersById[t]=g,g.onDestroy(()=>this.destroy(t)),this.players.push(g),g}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,r){const s=bm(e,"","","");return vm(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const tb="ng-animate-queued",Sm="ng-animate-disabled",Am=".ng-animate-disabled",UT=[],mo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_o={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ei="__ng_removed";class Mm{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=null!=(n=i?t.value:t)?n:null,i){const s=Kc(t);delete s.value,this.options=s}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Ad="void",nb=new Mm(Ad);class Uk{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,As(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(n=i)&&"done"!=n)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);var n;const s=Ss(this._elementListeners,t,[]),l={name:e,phase:i,callback:r};s.push(l);const d=Ss(this._engine.statesByElement,t,{});return d.hasOwnProperty(e)||(As(t,Em),As(t,Em+"-"+e),d[e]=nb),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(l);f>=0&&s.splice(f,1),this._triggers[e]||delete d[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),l=new ib(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(As(t,Em),As(t,Em+"-"+e),this._engine.statesByElement.set(t,d={}));let f=d[e];const g=new Mm(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&g.absorbOptions(f.options),d[e]=g,f||(f=nb),g.value!==Ad&&f.value===g.value){if(!function(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(f.params,g.params)){const k=[],R=s.matchStyles(f.value,f.params,k),B=s.matchStyles(g.value,g.params,k);k.length?this._engine.reportError(k):this._engine.afterFlush(()=>{Yc(t,R),Yo(t,B)})}return}const E=Ss(this._engine.playersByElement,t,[]);E.forEach(k=>{k.namespaceId==this.id&&k.triggerName==e&&k.queued&&k.destroy()});let x=s.matchTransition(f.value,g.value,t,g.params),M=!1;if(!x){if(!r)return;x=s.fallbackTransition,M=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:x,fromState:f,toState:g,player:l,isFallbackTransition:M}),M||(As(t,tb),l.onStart(()=>{Qc(t,tb)})),l.onDone(()=>{let k=this.players.indexOf(l);k>=0&&this.players.splice(k,1);const R=this._engine.playersByElement.get(t);if(R){let B=R.indexOf(l);B>=0&&R.splice(B,1)}}),this.players.push(l),E.push(l),l}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Cf,!0);i.forEach(r=>{if(r[ei])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t);if(s){const l=[];if(Object.keys(s).forEach(d=>{if(this._triggers[d]){const f=this.trigger(t,d,Ad,r);f&&l.push(f)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),i&&Ra(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const f=this._triggers[l].fallbackTransition,g=i[l]||nb,_=new Mm(Ad),b=new ib(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:f,fromState:g,toState:_,player:b,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let l=t;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[ei];(!s||s===mo)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){As(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(d=>{if(d.name==i.triggerName){const f=bm(s,i.triggerName,i.fromState.value,i.toState.value);f._data=t,vm(i.player,d.phase,f,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Hk{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Uk(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let r=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,e)){this._namespaceList.splice(s+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const l=i[r[s]].namespaceId;if(l){const d=this._fetchNamespace(l);d&&e.add(d)}}}return e}trigger(t,e,i,r){if(km(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!km(e))return;const s=e[ei];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),As(t,Sm)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Qc(t,Sm))}removeNode(t,e,i,r){if(km(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r){this.collectedLeaveElements.push(e),e[ei]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1}}listen(t,e,i,r,s){return km(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Cf,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Lv,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ra(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ei];if(e&&e.setForRemoval){if(t[ei]=mo,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Am)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Am,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)As(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ra(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new Rf,r=[],s=new Map,l=[],d=new Map,f=new Map,g=new Map,_=new Set;this.disabledNodes.forEach(Pe=>{_.add(Pe);const je=this.driver.query(Pe,".ng-animate-queued",!0);for(let at=0;at<je.length;at++)_.add(je[at])});const b=this.bodyNode,E=Array.from(this.statesByElement.keys()),x=ob(E,this.collectedEnterElements),M=new Map;let k=0;x.forEach((Pe,je)=>{const at=Fv+k++;M.set(je,at),Pe.forEach(yt=>As(yt,at))});const R=[],B=new Set,G=new Set;for(let Pe=0;Pe<this.collectedLeaveElements.length;Pe++){const je=this.collectedLeaveElements[Pe],at=je[ei];at&&at.setForRemoval&&(R.push(je),B.add(je),at.hasAnimation?this.driver.query(je,".ng-star-inserted",!0).forEach(yt=>B.add(yt)):G.add(je))}const Q=new Map,ce=ob(E,Array.from(B));ce.forEach((Pe,je)=>{const at=Nv+k++;Q.set(je,at),Pe.forEach(yt=>As(yt,at))}),t.push(()=>{x.forEach((Pe,je)=>{const at=M.get(je);Pe.forEach(yt=>Qc(yt,at))}),ce.forEach((Pe,je)=>{const at=Q.get(je);Pe.forEach(yt=>Qc(yt,at))}),R.forEach(Pe=>{this.processLeaveNode(Pe)})});const de=[],Ce=[];for(let Pe=this._namespaceList.length-1;Pe>=0;Pe--)this._namespaceList[Pe].drainQueuedTransitions(e).forEach(at=>{const yt=at.player,Gn=at.element;if(de.push(yt),this.collectedEnterElements.length){const vs=Gn[ei];if(vs&&vs.setForMove)return void yt.destroy()}const Ns=!b||!this.driver.containsElement(b,Gn),ir=Q.get(Gn),no=M.get(Gn),xn=this._buildInstruction(at,i,no,ir,Ns);if(xn.errors&&xn.errors.length)Ce.push(xn);else{if(Ns)return yt.onStart(()=>Yc(Gn,xn.fromStyles)),yt.onDestroy(()=>Yo(Gn,xn.toStyles)),void r.push(yt);if(at.isFallbackTransition)return yt.onStart(()=>Yc(Gn,xn.fromStyles)),yt.onDestroy(()=>Yo(Gn,xn.toStyles)),void r.push(yt);xn.timelines.forEach(vs=>vs.stretchStartingKeyframe=!0),i.append(Gn,xn.timelines),l.push({instruction:xn,player:yt,element:Gn}),xn.queriedElements.forEach(vs=>Ss(d,vs,[]).push(yt)),xn.preStyleProps.forEach((vs,RC)=>{const MA=Object.keys(vs);if(MA.length){let eg=f.get(RC);eg||f.set(RC,eg=new Set),MA.forEach(oU=>eg.add(oU))}}),xn.postStyleProps.forEach((vs,RC)=>{const MA=Object.keys(vs);let eg=g.get(RC);eg||g.set(RC,eg=new Set),MA.forEach(oU=>eg.add(oU))})}});if(Ce.length){const Pe=[];Ce.forEach(je=>{Pe.push(`@${je.triggerName} has failed due to:\n`),je.errors.forEach(at=>Pe.push(`- ${at}\n`))}),de.forEach(je=>je.destroy()),this.reportError(Pe)}const xe=new Map,Ae=new Map;l.forEach(Pe=>{const je=Pe.element;i.has(je)&&(Ae.set(je,je),this._beforeAnimationBuild(Pe.player.namespaceId,Pe.instruction,xe))}),r.forEach(Pe=>{const je=Pe.element;this._getPreviousPlayers(je,!1,Pe.namespaceId,Pe.triggerName,null).forEach(yt=>{Ss(xe,je,[]).push(yt),yt.destroy()})});const Le=R.filter(Pe=>cb(Pe,f,g)),ot=new Map;sb(ot,this.driver,G,g,Pn).forEach(Pe=>{cb(Pe,f,g)&&Le.push(Pe)});const $t=new Map;x.forEach((Pe,je)=>{sb($t,this.driver,new Set(Pe),f,"!")}),Le.forEach(Pe=>{const je=ot.get(Pe),at=$t.get(Pe);ot.set(Pe,Object.assign(Object.assign({},je),at))});const $n=[],ys=[],pn={};l.forEach(Pe=>{const{element:je,player:at,instruction:yt}=Pe;if(i.has(je)){if(_.has(je))return at.onDestroy(()=>Yo(je,yt.toStyles)),at.disabled=!0,at.overrideTotalTime(yt.totalTime),void r.push(at);let Gn=pn;if(Ae.size>1){let ir=je;const no=[];for(;ir=ir.parentNode;){const xn=Ae.get(ir);if(xn){Gn=xn;break}no.push(ir)}no.forEach(xn=>Ae.set(xn,Gn))}const Ns=this._buildAnimation(at.namespaceId,yt,xe,s,$t,ot);if(at.setRealPlayer(Ns),Gn===pn)$n.push(at);else{const ir=this.playersByElement.get(Gn);ir&&ir.length&&(at.parentPlayer=Ra(ir)),r.push(at)}}else Yc(je,yt.fromStyles),at.onDestroy(()=>Yo(je,yt.toStyles)),ys.push(at),_.has(je)&&r.push(at)}),ys.forEach(Pe=>{const je=s.get(Pe.element);if(je&&je.length){const at=Ra(je);Pe.setRealPlayer(at)}}),r.forEach(Pe=>{Pe.parentPlayer?Pe.syncPlayerEvents(Pe.parentPlayer):Pe.destroy()});for(let Pe=0;Pe<R.length;Pe++){const je=R[Pe],at=je[ei];if(Qc(je,Nv),at&&at.hasAnimation)continue;let yt=[];if(d.size){let Ns=d.get(je);Ns&&Ns.length&&yt.push(...Ns);let ir=this.driver.query(je,Lv,!0);for(let no=0;no<ir.length;no++){let xn=d.get(ir[no]);xn&&xn.length&&yt.push(...xn)}}const Gn=yt.filter(Ns=>!Ns.destroyed);Gn.length?ab(this,je,Gn):this.processLeaveNode(je)}return R.length=0,$n.forEach(Pe=>{this.players.push(Pe),Pe.onDone(()=>{Pe.destroy();const je=this.players.indexOf(Pe);this.players.splice(je,1)}),Pe.play()}),$n}elementContainsData(t,e){let i=!1;const r=e[ei];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let l=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(l=d)}else{const d=this.playersByElement.get(t);if(d){const f=!s||s==Ad;d.forEach(g=>{g.queued||!f&&g.triggerName!=r||l.push(g)})}}return(i||r)&&(l=l.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),l}_beforeAnimationBuild(t,e,i){const s=e.element,l=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const g=f.element,_=g!==s,b=Ss(i,g,[]);this._getPreviousPlayers(g,_,l,d,e.toState).forEach(x=>{const M=x.getRealPlayer();M.beforeDestroy&&M.beforeDestroy(),x.destroy(),b.push(x)})}Yc(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,l){const d=e.triggerName,f=e.element,g=[],_=new Set,b=new Set,E=e.timelines.map(M=>{const k=M.element;_.add(k);const R=k[ei];if(R&&R.removedBeforeQueried)return new Wc(M.duration,M.delay);const B=k!==f,G=function(n){const t=[];return lb(n,t),t}((i.get(k)||UT).map(xe=>xe.getRealPlayer())).filter(xe=>!!xe.element&&xe.element===k),Q=s.get(k),ce=l.get(k),de=Iv(0,this._normalizer,0,M.keyframes,Q,ce),Ce=this._buildPlayer(M,de,G);if(M.subTimeline&&r&&b.add(k),B){const xe=new ib(t,d,k);xe.setRealPlayer(Ce),g.push(xe)}return Ce});g.forEach(M=>{Ss(this.playersByQueriedElement,M.element,[]).push(M),M.onDone(()=>function(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,M.element,M))}),_.forEach(M=>As(M,Sk));const x=Ra(E);return x.onDestroy(()=>{_.forEach(M=>Qc(M,Sk)),Yo(f,e.toStyles)}),b.forEach(M=>{Ss(r,M,[]).push(x)}),x}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Wc(t.duration,t.delay)}}class ib{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Wc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>vm(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ss(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function km(n){return n&&1===n.nodeType}function zT(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function sb(n,t,e,i,r){const s=[];e.forEach(f=>s.push(zT(f)));const l=[];i.forEach((f,g)=>{const _={};f.forEach(b=>{const E=_[b]=t.computeStyle(g,b,r);(!E||0==E.length)&&(g[ei]=_o,l.push(g))}),n.set(g,_)});let d=0;return e.forEach(f=>zT(f,s[d++])),l}function ob(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function l(d){if(!d)return 1;let f=s.get(d);if(f)return f;const g=d.parentNode;return f=e.has(g)?g:r.has(g)?1:l(g),s.set(d,f),f}return t.forEach(d=>{const f=l(d);1!==f&&e.get(f).push(d)}),e}const Zc="$$classes";function As(n,t){if(n.classList)n.classList.add(t);else{let e=n[Zc];e||(e=n[Zc]={}),e[t]=!0}}function Qc(n,t){if(n.classList)n.classList.remove(t);else{let e=n[Zc];e&&delete e[t]}}function ab(n,t,e){Ra(e).onDone(()=>n.processLeaveNode(t))}function lb(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof xv?lb(i.players,t):t.push(i)}}function cb(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Nf{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Hk(t,e,i),this._timelineEngine=new Vk(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const l=t+"-"+r;let d=this._triggerCache[l];if(!d){const f=[],g=Af(this._driver,s,f);if(f.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${f.join("\n - ")}`);d=function(n,t,e){return new Sd(n,t,e)}(r,g,this._normalizer),this._triggerCache[l]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,l]=Av(i);this._timelineEngine.command(s,e,l,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[l,d]=Av(i);return this._timelineEngine.listen(l,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ub(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Om(t[0]),t.length>1&&(i=Om(t[t.length-1]))):t&&(e=Om(t)),e||i?new $T(n,e,i):null}let $T=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Yo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yo(this._element,this._initialStyles),this._endStyles&&(Yo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Yc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yc(this._element,this._endStyles),this._endStyles=null),Yo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Om(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];GT(r)&&(t=t||{},t[r]=n[r])}return t}function GT(n){return"display"===n||"position"===n}const WT="animation",qT="animationend";class $k{constructor(t,e,i,r,s,l,d){this._element=t,this._name=e,this._duration=i,this._delay=r,this._easing=s,this._fillMode=l,this._onDoneFn=d,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=f=>this._handleCallback(f)}apply(){(function(n,t){const e=hb(n,"").trim();let i=0;e.length&&(function(n,t){let e=0;for(let i=0;i<n.length;i++)","===n.charAt(i)&&e++;return e}(e)+1,t=`${e}, ${t}`),Pm(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),ZT(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){KT(this._element,this._name,"paused")}resume(){KT(this._element,this._name,"running")}setPosition(t){const e=YT(this._element,this._name);this._position=t*this._duration,Pm(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),ZT(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const i=hb(n,"").split(","),r=db(i,t);r>=0&&(i.splice(r,1),Pm(n,"",i.join(",")))}(this._element,this._name))}}function KT(n,t,e){Pm(n,"PlayState",e,YT(n,t))}function YT(n,t){const e=hb(n,"");return e.indexOf(",")>0?db(e.split(","),t):db([e],t)}function db(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function ZT(n,t,e){e?n.removeEventListener(qT,t):n.addEventListener(qT,t)}function Pm(n,t,e,i){const r=WT+t;if(null!=i){const s=n.style[r];if(s.length){const l=s.split(",");l[i]=e,e=l.join(",")}}n.style[r]=e}function hb(n,t){return n.style[WT+t]||""}class QT{constructor(t,e,i,r,s,l,d,f){this.element=t,this.keyframes=e,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=d,this._specialStyles=f,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=l||"linear",this.totalTime=r+s,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new $k(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:zv(this.element,i))})}this.currentSnapshot=t}}class Zk extends Wc{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=vT(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class pb{constructor(){this._count=0}validateStyleProperty(t){return Rv(t)}matchesElement(t,e){return mT(t,e)}containsElement(t,e){return _T(t,e)}query(t,e,i){return yT(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(d=>vT(d));let r=`@keyframes ${e} {\n`,s="";i.forEach(d=>{s=" ";const f=parseFloat(d.offset);r+=`${s}${100*f}% {\n`,s+=" ",Object.keys(d).forEach(g=>{const _=d[g];switch(g){case"offset":return;case"easing":return void(_&&(r+=`${s}animation-timing-function: ${_};\n`));default:return void(r+=`${s}${g}: ${_};\n`)}}),r+=`${s}}\n`}),r+="}\n";const l=document.createElement("style");return l.textContent=r,l}animate(t,e,i,r,s,l=[],d){const f=l.filter(R=>R instanceof QT),g={};ET(i,r)&&f.forEach(R=>{let B=R.currentSnapshot;Object.keys(B).forEach(G=>g[G]=B[G])});const _=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(r=>{"offset"==r||"easing"==r||(t[r]=i[r])})}),t}(e=kk(t,e,g));if(0==i)return new Zk(t,_);const b="gen_css_kf_"+this._count++,E=this.buildKeyframeElement(t,b,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(E);const M=ub(t,e),k=new QT(t,e,b,i,r,s,_,M);return k.onDestroy(()=>{var n;(n=E).parentNode.removeChild(n)}),k}}class mb{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:zv(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class _b{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ll().toString()),this._cssKeyframesDriver=new pb}validateStyleProperty(t){return Rv(t)}matchesElement(t,e){return mT(t,e)}containsElement(t,e){return _T(t,e)}query(t,e,i){return yT(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,r,s,l=[],d){if(!d&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,r,s,l);const _={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(_.easing=s);const b={},E=l.filter(M=>M instanceof mb);ET(i,r)&&E.forEach(M=>{let k=M.currentSnapshot;Object.keys(k).forEach(R=>b[R]=k[R])});const x=ub(t,e=kk(t,e=e.map(M=>Fl(M,!1)),b));return new mb(t,e,_,x)}}function Ll(){return Dv()&&Element.prototype.animate||{}}let Jk=(()=>{class n extends fo{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?mm(e):e;return ix(this._renderer,null,i,"register",[r]),new Xk(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(ge))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Xk extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Md(this._id,t,e||{},this._renderer)}}class Md{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ix(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function ix(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const eR="@.disabled";let rx=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,l)=>{l&&l.parentNode(s)&&l.removeChild(s.parentNode,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let _=this._rendererCache.get(s);return _||(_=new yb("",s,this.engine),this._rendererCache.set(s,_)),_}const l=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const f=_=>{Array.isArray(_)?_.forEach(f):this.engine.registerTrigger(l,d,e,_.name,_)};return i.data.animation.forEach(f),new EH(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,d]=s;l(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(Nf),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class yb{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==eR?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class EH extends yb{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==eR?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),l="";return"@"!=s.charAt(0)&&([s,l]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let nR=(()=>{class n extends Nf{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ge),c.LFG(Ov),c.LFG(Jv))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Oa=new c.OlP("AnimationModuleType"),Lf=[{provide:fo,useClass:Jk},{provide:Jv,useFactory:function(){return new OT}},{provide:Nf,useClass:nR},{provide:c.FYo,useFactory:function(n,t,e){return new rx(n,t,e)},deps:[fi,Nf,c.R0b]}],Ln=[{provide:Ov,useFactory:function(){return"function"==typeof Ll()?new _b:new pb}},{provide:Oa,useValue:"BrowserAnimations"},...Lf],sR=[{provide:Ov,useClass:Dk},{provide:Oa,useValue:"NoopAnimations"},...Lf];let sx=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?sR:Ln}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ln,imports:[Zu]}),n})();const Rd=new c.GfV("12.2.13"),lR=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Vl,qs=(()=>{class n{constructor(e,i,r){this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,c.X6Q)()||"undefined"!=typeof __karma__&&__karma__||"undefined"!=typeof jasmine&&jasmine||"undefined"!=typeof jest&&jest||"undefined"!=typeof Mocha&&Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const i=getComputedStyle(e);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&Rd.full!==gm.full&&console.warn("The Angular Material version ("+Rd.full+") does not match the Angular CDK version ("+gm.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(_f),c.LFG(lR,8),c.LFG(ge))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[pm],pm]}),n})();function Nm(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}try{Vl="undefined"!=typeof Intl}catch(n){Vl=!1}let Cb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qs,$s],qs]}),n})();const DR=["*",[["mat-toolbar-row"]]],IR=["*","mat-toolbar-row"],SR=Nm(class{constructor(n){this._elementRef=n}});let AR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Ib=(()=>{class n extends SR{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(wr),c.Y36(ge))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,AR,5),2&e){let s;c.iGM(s=c.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:IR,decls:2,vars:0,template:function(e,i){1&e&&(c.F$t(DR),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),Uf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qs],qs]}),n})(),me=(()=>{class n{static addClass(e,i){e.classList?e.classList.add(i):e.className+=" "+i}static addMultipleClasses(e,i){if(e.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)e.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)e.className+=" "+r[s]}}static removeClass(e,i){e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(e,i){return e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className)}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return e?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==e)return r;1==i[s].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],s=0;for(var l=0;l<r.length;l++){if(r[l]==e)return s;r[l].attributes&&r[l].attributes[i]&&1==r[l].nodeType&&s++}return-1}static relativePosition(e,i){let r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e);const s=i.offsetHeight,l=i.getBoundingClientRect(),d=this.getViewport();let f,g;l.top+s+r.height>d.height?(f=-1*r.height,e.style.transformOrigin="bottom",l.top+f<0&&(f=-1*l.top)):(f=s,e.style.transformOrigin="top"),g=r.width>d.width?-1*l.left:l.left+r.width>d.width?-1*(l.left+r.width-d.width):0,e.style.top=f+"px",e.style.left=g+"px"}static absolutePosition(e,i){let x,M,r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=r.height,l=r.width,d=i.offsetHeight,f=i.offsetWidth,g=i.getBoundingClientRect(),_=this.getWindowScrollTop(),b=this.getWindowScrollLeft(),E=this.getViewport();g.top+d+s>E.height?(x=g.top+_-s,e.style.transformOrigin="bottom",x<0&&(x=_)):(x=d+g.top+_,e.style.transformOrigin="top"),M=g.left+l>E.width?Math.max(0,g.left+b+f-l):g.left+b,e.style.top=x+"px",e.style.left=M+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const s=/(auto|scroll)/,l=d=>{let f=window.getComputedStyle(d,null);return s.test(f.getPropertyValue("overflow"))||s.test(f.getPropertyValue("overflowX"))||s.test(f.getPropertyValue("overflowY"))};for(let d of r){let f=1===d.nodeType&&d.dataset.scrollselectors;if(f){let g=f.split(",");for(let _ of g){let b=this.findSingle(d,_);b&&l(b)&&i.push(b)}}9!==d.nodeType&&l(d)&&i.push(d)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,l=getComputedStyle(e).getPropertyValue("paddingTop"),d=l?parseFloat(l):0,f=e.getBoundingClientRect(),_=i.getBoundingClientRect().top+document.body.scrollTop-(f.top+document.body.scrollTop)-s-d,b=e.scrollTop,E=e.clientHeight,x=this.getOuterHeight(i);_<0?e.scrollTop=b+_:_+x>E&&(e.scrollTop=b+_-E+x)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,s=0,l=function(){s=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(l)||setTimeout(l,16))};l()}static fadeOut(e,i){var r=1,d=50/i;let f=setInterval(()=>{(r-=d)<=0&&(r=0,clearInterval(f)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(l){return-1!==[].indexOf.call(document.querySelectorAll(l),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||s.clientWidth,height:e.innerHeight||r.clientHeight||s.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return null===e.offsetParent}static getFocusableElements(e){let i=n.find(e,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]:not(.p-disabled))'),r=[];for(let s of i)"none"!=getComputedStyle(s).display&&"hidden"!=getComputedStyle(s).visibility&&r.push(s);return r}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return n.zindex=1e3,n.calculatedScrollbarWidth=null,n.calculatedScrollbarHeight=null,n})();class Sb{constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=me.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}class Je{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var s,l,d,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((l=t.length)!=e.length)return!1;for(s=l;0!=s--;)if(!this.equalsByValue(t[s],e[s]))return!1;return!0}if(i!=r)return!1;var f=t instanceof Date,g=e instanceof Date;if(f!=g)return!1;if(f&&g)return t.getTime()==e.getTime();var _=t instanceof RegExp,b=e instanceof RegExp;if(_!=b)return!1;if(_&&b)return t.toString()==e.toString();var E=Object.keys(t);if((l=E.length)!==Object.keys(e).length)return!1;for(s=l;0!=s--;)if(!Object.prototype.hasOwnProperty.call(e,E[s]))return!1;for(s=l;0!=s--;)if(!this.equalsByValue(t[d=E[s]],e[d]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let s=0,l=i.length;s<l;++s){if(null==r)return null;r=r[i[s]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let s=!1;for(let l=0;l<i.length;l++)if(this.findIndexInList(i[l],r)>e){i.splice(l,0,t),s=!0;break}s||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}}var Ab=0;function Mb(){return"pr_id_"+ ++Ab}var Er=function(){let n=[];const r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,l,d)=>{l&&(l.style.zIndex=String(((s,l)=>{let d=n.length>0?n[n.length-1]:{key:s,value:l},f=d.value+(d.key===s?0:l)+1;return n.push({key:s,value:f}),f})(s,d)))},clear:s=>{s&&((s=>{n=n.filter(l=>l.value!==s)})(r(s)),s.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();let Pi=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.IN="in",n.LESS_THAN="lt",n.LESS_THAN_OR_EQUAL_TO="lte",n.GREATER_THAN="gt",n.GREATER_THAN_OR_EQUAL_TO="gte",n.BETWEEN="between",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.DATE_IS="dateIs",n.DATE_IS_NOT="dateIsNot",n.DATE_BEFORE="dateBefore",n.DATE_AFTER="dateAfter",n})(),Bl=(()=>{class n{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Pi.STARTS_WITH,Pi.CONTAINS,Pi.NOT_CONTAINS,Pi.ENDS_WITH,Pi.EQUALS,Pi.NOT_EQUALS],numeric:[Pi.EQUALS,Pi.NOT_EQUALS,Pi.LESS_THAN,Pi.LESS_THAN_OR_EQUAL_TO,Pi.GREATER_THAN,Pi.GREATER_THAN_OR_EQUAL_TO],date:[Pi.DATE_IS,Pi.DATE_IS_NOT,Pi.DATE_BEFORE,Pi.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new zt.xQ,this.translationObserver=this.translationSource.asObservable()}getTranslation(e){return this.translation[e]}setTranslation(e){this.translation=Object.assign(Object.assign({},this.translation),e),this.translationSource.next(this.translation)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),as=(()=>{class n{}return n.STARTS_WITH="startsWith",n.CONTAINS="contains",n.NOT_CONTAINS="notContains",n.ENDS_WITH="endsWith",n.EQUALS="equals",n.NOT_EQUALS="notEquals",n.NO_FILTER="noFilter",n.LT="lt",n.LTE="lte",n.GT="gt",n.GTE="gte",n.IS="is",n.IS_NOT="isNot",n.BEFORE="before",n.AFTER="after",n.CLEAR="clear",n.APPLY="apply",n.MATCH_ALL="matchAll",n.MATCH_ANY="matchAny",n.ADD_RULE="addRule",n.REMOVE_RULE="removeRule",n.ACCEPT="accept",n.REJECT="reject",n.CHOOSE="choose",n.UPLOAD="upload",n.CANCEL="cancel",n.DAY_NAMES="dayNames",n.DAY_NAMES_SHORT="dayNamesShort",n.DAY_NAMES_MIN="dayNamesMin",n.MONTH_NAMES="monthNames",n.MONTH_NAMES_SHORT="monthNamesShort",n.TODAY="today",n.WEEK_HEADER="weekHeader",n.WEAK="weak",n.MEDIUM="medium",n.STRONG="strong",n.PASSWORD_PROMPT="passwordPrompt",n.EMPTY_MESSAGE="emptyMessage",n.EMPTY_FILTER_MESSAGE="emptyFilterMessage",n})(),Um=(()=>{class n{constructor(){this.filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let s=Je.removeAccents(i.toString()).toLocaleLowerCase(r);return Je.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,s.length)===s},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let s=Je.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==Je.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(s)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let s=Je.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===Je.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(s)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let s=Je.removeAccents(i.toString()).toLocaleLowerCase(r),l=Je.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==l.indexOf(s,l.length-s.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():Je.removeAccents(e.toString()).toLocaleLowerCase(r)==Je.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():Je.removeAccents(e.toString()).toLocaleLowerCase(r)==Je.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(Je.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()}}filter(e,i,r,s,l){let d=[];if(e)for(let f of e)for(let g of i){let _=Je.resolveFieldData(f,g);if(this.filters[s](_,r,l)){d.push(f);break}}return d}register(e,i){this.filters[e]=i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hm=(()=>{class n{constructor(){this.messageSource=new zt.xQ,this.clearSource=new zt.xQ,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(e){e&&this.messageSource.next(e)}addAll(e){e&&e.length&&this.messageSource.next(e)}clear(e){this.clearSource.next(e||null)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),kb=(()=>{class n{constructor(){this.clickSource=new zt.xQ,this.clickObservable=this.clickSource.asObservable()}add(e){e&&this.clickSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rb=(()=>{class n{}return n.AND="and",n.OR="or",n})(),Jc=(()=>{class n{constructor(e){this.template=e}getType(){return this.name}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),n})(),Ms=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii]]}),n})(),Ul=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(e){let i=this.getInk();if(!i||"none"===getComputedStyle(i,null).display)return;if(me.removeClass(i,"p-ink-active"),!me.getHeight(i)&&!me.getWidth(i)){let d=Math.max(me.getOuterWidth(this.el.nativeElement),me.getOuterHeight(this.el.nativeElement));i.style.height=d+"px",i.style.width=d+"px"}let r=me.getOffset(this.el.nativeElement),s=e.pageX-r.left+document.body.scrollTop-me.getWidth(i)/2,l=e.pageY-r.top+document.body.scrollLeft-me.getHeight(i)/2;i.style.top=l+"px",i.style.left=s+"px",me.addClass(i,"p-ink-active")}getInk(){for(let e=0;e<this.el.nativeElement.children.length;e++)if(-1!==this.el.nativeElement.children[e].className.indexOf("p-ink"))return this.el.nativeElement.children[e];return null}resetInk(){let e=this.getInk();e&&me.removeClass(e,"p-ink-active")}onAnimationEnd(e){me.removeClass(e.currentTarget,"p-ink-active")}create(){let e=document.createElement("span");e.className="p-ink",this.el.nativeElement.appendChild(e),this.animationListener=this.onAnimationEnd.bind(this),e.addEventListener("animationend",this.animationListener)}remove(){let e=this.getInk();e&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),e.removeEventListener("animationend",this.animationListener),me.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Bl,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),n})(),Fa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii]]}),n})();function OR(n,t){1&n&&c.GkF(0)}const Pd=function(n,t,e,i){return{"p-button-icon":!0,"p-button-icon-left":n,"p-button-icon-right":t,"p-button-icon-top":e,"p-button-icon-bottom":i}};function PR(n,t){if(1&n&&c._UZ(0,"span",4),2&n){const e=c.oxw();c.Tol(e.loading?"p-button-loading-icon "+e.loadingIcon:e.icon),c.Q6J("ngClass",c.l5B(4,Pd,"left"===e.iconPos&&e.label,"right"===e.iconPos&&e.label,"top"===e.iconPos&&e.label,"bottom"===e.iconPos&&e.label)),c.uIk("aria-hidden",!0)}}function jH(n,t){if(1&n&&(c.TgZ(0,"span",5),c._uU(1),c.qZA()),2&n){const e=c.oxw();c.uIk("aria-hidden",e.icon&&!e.label),c.xp6(1),c.Oqu(e.label||"\xa0")}}function FR(n,t){if(1&n&&(c.TgZ(0,"span",4),c._uU(1),c.qZA()),2&n){const e=c.oxw();c.Tol(e.badgeClass),c.Q6J("ngClass",e.badgeStyleClass()),c.xp6(1),c.Oqu(e.badge)}}const Qo=function(n,t,e,i,r){return{"p-button p-component":!0,"p-button-icon-only":n,"p-button-vertical":t,"p-disabled":e,"p-button-loading":i,"p-button-loading-label-only":r}},wx=["*"];let NR=(()=>{class n{constructor(e){this.el=e,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,me.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let e=document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",this.label?e.appendChild(document.createTextNode(this.label)):e.innerHTML="&nbsp;",this.el.nativeElement.appendChild(e),this.initialized=!0}getStyleClass(){let e="p-button p-component";return this.icon&&!this.label&&(e+=" p-button-icon-only"),this.loading&&(e+=" p-disabled p-button-loading",!this.icon&&this.label&&(e+=" p-button-loading-label-only")),e}setStyleClass(){let e=this.getStyleClass();this.el.nativeElement.className=e+" "+this._initialStyleClass}createIconEl(){let e=document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&me.addClass(e,i);let r=this.getIconClass();r&&me.addMultipleClasses(e,r);let s=me.findSingle(this.el.nativeElement,".p-button-label");s?this.el.nativeElement.insertBefore(e,s):this.el.nativeElement.appendChild(e)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let e=me.findSingle(this.el.nativeElement,".p-button-icon");e?e.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let e=me.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(e)}get label(){return this._label}set label(e){this._label=e,this.initialized&&(me.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),n})(),Hl=(()=>{class n{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new c.vpe,this.onFocus=new c.vpe,this.onBlur=new c.vpe}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.contentTemplate=e.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-button"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,Jc,4),2&e){let s;c.iGM(s=c.CRH())&&(i.templates=s)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:wx,decls:6,vars:16,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"button",0),c.NdJ("click",function(s){return i.onClick.emit(s)})("focus",function(s){return i.onFocus.emit(s)})("blur",function(s){return i.onBlur.emit(s)}),c.Hsn(1),c.YNc(2,OR,1,0,"ng-container",1),c.YNc(3,PR,1,9,"span",2),c.YNc(4,jH,2,2,"span",3),c.YNc(5,FR,2,4,"span",2),c.qZA()),2&e&&(c.Tol(i.styleClass),c.Q6J("ngStyle",i.style)("disabled",i.disabled||i.loading)("ngClass",c.qbA(10,Qo,i.icon&&!i.label,("top"===i.iconPos||"bottom"===i.iconPos)&&i.label,i.disabled||i.loading,i.loading,i.loading&&!i.icon&&i.label)),c.uIk("type",i.type),c.xp6(2),c.Q6J("ngTemplateOutlet",i.contentTemplate),c.xp6(1),c.Q6J("ngIf",!i.contentTemplate&&(i.icon||i.loading)),c.xp6(1),c.Q6J("ngIf",!i.contentTemplate),c.xp6(1),c.Q6J("ngIf",!i.contentTemplate&&i.badge))},directives:[Ul,Sn,hi,Kn,At],encapsulation:2,changeDetection:0}),n})(),Xc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii,Fa]]}),n})();var LR=L(1555);function zm(n,t){return new ki.y(e=>{const i=n.length;if(0===i)return void e.complete();const r=new Array(i);let s=0,l=0;for(let d=0;d<i;d++){const f=(0,Mi.D)(n[d]);let g=!1;e.add(f.subscribe({next:_=>{g||(g=!0,l++),r[d]=_},error:_=>e.error(_),complete:()=>{s++,(s===i||!g)&&(l===i&&e.next(t?t.reduce((_,b,E)=>(_[b]=r[E],_),{}):r),e.complete())}}))}})}let Cx=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),eu=(()=>{class n extends Cx{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Ki=new c.OlP("NgValueAccessor"),Tx={provide:Ki,useExisting:(0,c.Gpc)(()=>Hf),multi:!0},$H=new c.OlP("CompositionEventMode");let Hf=(()=>{class n extends Cx{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=J()?J().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36($H,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[c._Bn([Tx]),c.qOj]}),n})();function zl(n){return null==n||0===n.length}function xx(n){return null!=n&&"number"==typeof n.length}const dr=new c.OlP("NgValidators"),Na=new c.OlP("NgAsyncValidators"),Dx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ob{static min(t){return function(n){return t=>{if(zl(t.value)||zl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function(n){return t=>{if(zl(t.value)||zl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function(n){return zl(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return zl(n.value)||Dx.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>zl(t.value)||!xx(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(n){return t=>xx(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(n){if(!n)return jl;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(zl(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Ox(t)}static composeAsync(t){return Px(t)}}function jl(n){return null}function Ax(n){return null!=n}function UR(n){const t=(0,c.QGY)(n)?(0,Mi.D)(n):n;return(0,c.CqO)(t),t}function Mx(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function kx(n,t){return t.map(e=>e(n))}function Rx(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function Ox(n){if(!n)return null;const t=n.filter(Ax);return 0==t.length?null:function(e){return Mx(kx(e,t))}}function Nb(n){return null!=n?Ox(Rx(n)):null}function Px(n){if(!n)return null;const t=n.filter(Ax);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if((0,$h.k)(t))return zm(t,null);if((0,LR.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return zm(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return zm(n=1===n.length&&(0,$h.k)(n[0])?n[0]:n,null).pipe((0,Mt.U)(e=>t(...e)))}return zm(n,null)}(kx(e,t).map(UR)).pipe((0,Mt.U)(Mx))}}function Lb(n){return null!=n?Px(Rx(n)):null}function Fx(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function zR(n){return n._rawValidators}function Nx(n){return n._rawAsyncValidators}function tu(n){return n?Array.isArray(n)?n:[n]:[]}function $m(n,t){return Array.isArray(n)?n.includes(t):n===t}function Lx(n,t){const e=tu(t);return tu(n).forEach(r=>{$m(e,r)||e.push(r)}),e}function Vx(n,t){return tu(t).filter(e=>!$m(n,e))}let Gf=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Nb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Lb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,i){return!!this.control&&this.control.hasError(e,i)}getError(e,i){return this.control?this.control.getError(e,i):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n}),n})(),ai=(()=>{class n extends Gf{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();class La extends Gf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Bx{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let Va=(()=>{class n extends Bx{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(La,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[c.qOj]}),n})(),Vb=(()=>{class n extends Bx{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ai,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&c.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[c.qOj]}),n})();function nu(n,t){return[...t.path,n]}function Wm(n,t){Wl(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ks(n,t)})}(n,t),function(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ks(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function $l(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),ql(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rn(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Wl(n,t){const e=zR(n);null!==t.validator?n.setValidators(Fx(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Nx(n);null!==t.asyncValidator?n.setAsyncValidators(Fx(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();rn(t._rawValidators,r),rn(t._rawAsyncValidators,r)}function ql(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=zR(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=Nx(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return rn(t._rawValidators,i),rn(t._rawAsyncValidators,i),e}function ks(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function jx(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function ls(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Hf?e=s:function(n){return Object.getPrototypeOf(n.constructor)===eu}(s)?i=s:r=s}),r||i||e||null}function Tn(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Nd="VALID",qm="INVALID",iu="PENDING",ru="DISABLED";function su(n){return(Km(n)?n.validators:n)||null}function Gx(n){return Array.isArray(n)?Nb(n):n||null}function Ba(n,t){return(Km(t)?t.asyncValidators:n)||null}function Wx(n){return Array.isArray(n)?Lb(n):n||null}function Km(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Kf{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Gx(this._rawValidators),this._composedAsyncValidatorFn=Wx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Nd}get invalid(){return this.status===qm}get pending(){return this.status==iu}get disabled(){return this.status===ru}get enabled(){return this.status!==ru}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Gx(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Wx(t)}addValidators(t){this.setValidators(Lx(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Lx(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Vx(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Vx(t,this._rawAsyncValidators))}hasValidator(t){return $m(this._rawValidators,t)}hasAsyncValidator(t){return $m(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=iu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ru,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Nd,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Nd||this.status===iu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ru:Nd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=iu,this._hasOwnPendingAsyncValidator=!0;const e=UR(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=i instanceof ou?i.controls.hasOwnProperty(r)?i.controls[r]:null:i instanceof qx&&i.at(r)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?ru:this.errors?qm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(iu)?iu:this._anyControlsHaveStatus(qm)?qm:Nd}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Km(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Rs extends Kf{constructor(t=null,e,i){super(su(e),Ba(i,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Tn(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Tn(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ou extends Kf{constructor(t,e,i){super(su(e),Ba(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof Rs?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class qx extends Kf{constructor(t,e,i){super(su(e),Ba(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,r)=>{this._throwIfControlMissing(r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Rs?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const XH={provide:La,useExisting:(0,c.Gpc)(()=>Xo)},ZR=(()=>Promise.resolve(null))();let Xo=(()=>{class n extends La{constructor(e,i,r,s){super(),this.control=new Rs,this._registered=!1,this.update=new c.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ls(0,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),jx(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?nu(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Wm(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){ZR.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;ZR.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ai,9),c.Y36(dr,10),c.Y36(Na,10),c.Y36(Ki,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([XH]),c.qOj,c.TTD]}),n})(),$b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const QR={provide:Ki,useExisting:(0,c.Gpc)(()=>Gb),multi:!0};let Gb=(()=>{class n extends eu{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&c.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[c._Bn([QR]),c.qOj]}),n})(),Yx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Wb=new c.OlP("NgModelWithFormControlWarning"),eO={provide:ai,useExisting:(0,c.Gpc)(()=>Yf)};let Yf=(()=>{class n extends ai{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ql(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Wm(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){$l(e.control||null,e,!1),Tn(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&($l(i||null,e),r instanceof Rs&&(Wm(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function(n,t){Wl(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return ql(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wl(this.form,this),this._oldForm&&ql(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(dr,10),c.Y36(Na,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&c.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([eO]),c.qOj,c.TTD]}),n})();const Yb={provide:La,useExisting:(0,c.Gpc)(()=>Qm)};let Qm=(()=>{class n extends La{constructor(e,i,r,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=ls(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),jx(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return nu(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ai,13),c.Y36(dr,10),c.Y36(Na,10),c.Y36(Ki,10),c.Y36(Wb,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([Yb]),c.qOj,c.TTD]}),n._ngModelWarningSentOnce=!1,n})(),Xb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Yx]]}),n})(),au=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Xb]}),n})(),ew=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Wb,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Xb]}),n})(),yo=(()=>{class n{constructor(){this.dateForm=new ou({dateStart:new Rs(null),dateEnd:new Rs(null)})}calcDiff(){var e,i;const r=null===(e=this.dateForm.get("dateStart"))||void 0===e?void 0:e.value,s=null===(i=this.dateForm.get("dateEnd"))||void 0===i?void 0:i.value,l=new Date(s).getTime()-new Date(r).getTime();alert(this.convertTimeStampToDateString(l))}convertTimeStampToDateString(e){if(e>0){let i="";const r={days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60)},s={days:"\u0434\u043d",hours:"\u0447",minutes:"\u043c\u0438\u043d"};return Object.keys(r).forEach(l=>{0!==r[l]&&(i+=r[l]+s[l]+" ")}),i}return""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-calculate-timer"]],decls:15,vars:2,consts:[[1,"content-calc","flex","flex-column","p-3"],[1,"flex","align-items-center","justify-content-center","flex-column"],[3,"formGroup"],[1,"flex","mb-2","w-17rem","h-2rem","text-sm","align-items-center"],["formControlName","dateStart","type","datetime-local",1,"h-2rem","w-13rem","mr-2"],[1,"pi","pi-clock","text-xs","mr-1","p-text-secondary"],[1,"flex","text-xs","p-text-secondary","mr-2"],["formControlName","dateEnd","type","datetime-local",1,"h-2rem","w-13rem","mr-2"],[1,"flex","text-xs","p-text-secondary","mr-3"],[1,"flex","justify-content-between","align-items-center","w-17rem"],["icon","pi pi-calculator","label","\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c","styleClass","w-full",1,"flex","calc-button","w-full",3,"disabled","onClick"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"form",2),c.TgZ(3,"div",3),c._UZ(4,"input",4),c._UZ(5,"i",5),c.TgZ(6,"span",6),c._uU(7,"\u041d\u0430\u0447\u0430\u043b\u043e"),c.qZA(),c.qZA(),c.TgZ(8,"div",3),c._UZ(9,"input",7),c._UZ(10,"i",5),c.TgZ(11,"span",8),c._uU(12,"\u041a\u043e\u043d\u0435\u0446"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(13,"div",9),c.TgZ(14,"p-button",10),c.NdJ("onClick",function(){return i.calcDiff()}),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.Q6J("formGroup",i.dateForm),c.xp6(12),c.Q6J("disabled",!i.dateForm.value.dateStart&&!i.dateForm.value.dateEnd))},directives:[$b,Vb,Yf,Hf,Va,Qm,Hl],styles:[""],encapsulation:2,changeDetection:0}),n})(),tw=(()=>{class n{constructor(e){this.router=e}ngOnDestroy(){document.body.style.background="#ffffff"}ngOnInit(){document.body.style.background="var(--purple-100)"}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ri))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-calculations"]],decls:7,vars:0,consts:[[1,"w-full","flex","align-items-center","justify-content-center","flex","h-full","bg-purple-100","flex-column"],[1,"bg-purple-100","flex","align-items-center","w-full","toolbar"],["icon","pi pi-arrow-circle-left","routerLink","/","styleClass"," mr-3",1,"calc-button","justify-content-start"],[1,"flex","align-items-center","w-full","mr-5","justify-content-center"],[1,"flex","flex-column","align-items-center","justify-content-center","h-full","w-full"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"mat-toolbar",1),c._UZ(2,"p-button",2),c.TgZ(3,"h2",3),c._uU(4,"\u041a\u0430\u0448\u0435\u0432\u0430\u0440 V2"),c.qZA(),c.qZA(),c.TgZ(5,"div",4),c._UZ(6,"app-calculate-timer"),c.qZA(),c.qZA())},directives:[Ib,Hl,hf,yo],styles:["p-calendar p-inputtext{width:250px!important}.calc-button .p-button{background:var(--purple-200)!important;border:1px solid var(--purple-200)!important;border-radius:8px}.calc-button .p-button:focus{box-shadow:none}.content-calc{background:rgba(255,255,255,.31);border-radius:16px;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(6.1px);-webkit-backdrop-filter:blur(6.1px);border:1px solid rgba(255,255,255,.04)}\n"],encapsulation:2}),n})(),aD=(()=>{class n{parseDataForChart(e,i){return e.map(s=>({labels:s.labels,datasets:[{label:i,backgroundColor:"#f0faf4",order:1,yAxisID:"y1",data:s.data,hoverBackgroundColor:"#91d2cc"}]}))[0]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lD=[new Date("2023-06-25"),new Date("2023-06-26"),new Date("2023-06-27"),new Date("2023-06-28"),new Date("2023-06-29"),new Date("2023-06-30"),new Date("2023-07-01"),new Date("2023-07-02"),new Date("2023-08-27"),new Date("2023-08-28"),new Date("2023-08-29"),new Date("2023-08-30"),new Date("2023-08-31"),new Date("2023-09-01"),new Date("2023-09-02"),new Date("2023-09-03"),new Date("2023-10-22"),new Date("2023-10-23"),new Date("2023-10-24"),new Date("2023-10-25"),new Date("2023-10-26"),new Date("2023-10-27"),new Date("2023-10-28"),new Date("2023-10-29"),new Date("2023-10-30"),new Date("2023-10-31"),new Date("2023-11-01"),new Date("2023-11-02"),new Date("2023-11-03"),new Date("2023-11-04"),new Date("2023-11-05"),new Date("2023-11-06"),new Date("2024-01-07"),new Date("2024-01-08"),new Date("2024-01-09"),new Date("2024-01-10"),new Date("2024-01-11"),new Date("2024-01-12"),new Date("2024-01-13"),new Date("2024-01-14"),new Date("2024-01-15"),new Date("2024-01-16"),new Date("2024-01-17"),new Date("2024-01-18"),new Date("2024-01-19"),new Date("2024-01-20"),new Date("2024-01-21"),new Date("2024-01-22")];let nw=(()=>{class n{constructor(){this.checkValidDate=new ji(!1)}dateCheckForNotify(){const e=(new Date).toDateString();lD.find(i=>{i.toDateString()===e&&this.checkValidDate.next(!0)})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cD=(()=>{class n{constructor(e,i,r){this.router=e,this.messageService=i,this.notification=r,this.subscription=new Qn.w}ngOnInit(){this.getNotify=this.notification.checkValidDate,this.subscription.add(this.getNotify.subscribe(e=>!!e&&this.sendNotify()))}sendNotify(){this.messageService.add({severity:"info",summary:"\u0421\u0435\u0439\u0447\u0430\u0441 \u0438\u0434\u0435\u0442 \u043a\u0440\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f \u0441\u043a\u0430\u0447\u043a\u0430 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u044f",detail:"\u0412\u043e\u0437\u043c\u043e\u0436\u0435\u043d \u0431\u0443\u043d\u0442 \u{1f602}",key:"app"})}goToCalculate(){this.router.navigate(["calculate"]).catch()}goToTable(){this.router.navigate(["table"]).catch()}goToCharts(){this.router.navigate(["charts"]).catch()}ngOnDestroy(){this.messageService.clear("app"),this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ri),c.Y36(Hm),c.Y36(nw))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-menu"]],decls:12,vars:0,consts:[[1,"flex","w-full","flex-column","h-full","align-items-center","justify-content-center"],[1,"flex"],[1,"flex","justify-content-center","align-items-center","flex-wrap","w-21rem","h-21rem"],[1,"flex","w-10rem","cursor-pointer","h-10rem","bg-purple-200","flex-column","align-items-center","br","justify-content-center","mr-2",3,"click"],[1,"pi","pi-calculator"],[1,"flex","w-10rem","h-10rem","cursor-pointer","bg-pink-100","flex-column","align-items-center","br","justify-content-center",3,"click"],[1,"pi","pi-list"],[1,"flex","w-10rem","h-10rem","cursor-pointer","bg-teal-100","align-items-center","br","justify-content-center","mr-2",3,"click"],[1,"pi","pi-chart-line"],[1,"flex","w-10rem","h-10rem","cursor-pointer","bg-indigo-200","align-items-center","br","justify-content-center"],[1,"pi","pi-bookmark"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"h2",1),c._uU(2,"\u0414\u0430\u0448\u043a\u0438\u043d\u044b \u0448\u0442\u0443\u0447\u043a\u0438"),c.qZA(),c.TgZ(3,"div",2),c.TgZ(4,"div",3),c.NdJ("click",function(){return i.goToCalculate()}),c._UZ(5,"i",4),c.qZA(),c.TgZ(6,"div",5),c.NdJ("click",function(){return i.goToTable()}),c._UZ(7,"i",6),c.qZA(),c.TgZ(8,"div",7),c.NdJ("click",function(){return i.goToCharts()}),c._UZ(9,"i",8),c.qZA(),c.TgZ(10,"div",9),c._UZ(11,"i",10),c.qZA(),c.qZA(),c.qZA())},styles:[".br[_ngcontent-%COMP%]{border-radius:20px}i[_ngcontent-%COMP%]{font-size:60px}"]}),n})();var gO=L(9105);function iw(n,t,e,i){return(0,gO.m)(e)&&(i=e,e=void 0),i?iw(n,t,e).pipe((0,Mt.U)(r=>(0,$h.k)(r)?i(...r):i(r))):new ki.y(r=>{rw(n,t,function(l){r.next(arguments.length>1?Array.prototype.slice.call(arguments):l)},r,e)})}function rw(n,t,e,i,r){let s;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const l=n;n.addEventListener(t,e,r),s=()=>l.removeEventListener(t,e,r)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const l=n;n.on(t,e),s=()=>l.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const l=n;n.addListener(t,e),s=()=>l.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let l=0,d=n.length;l<d;l++)rw(n[l],t,e,i,r)}i.add(s)}var yO=L(6465),u4=L(6102);const vO=new class extends u4.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,r=-1,s=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this.active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends yO.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});var dD=L(4581);function hD(n){return!!n&&(n instanceof ki.y||"function"==typeof n.lift&&"function"==typeof n.subscribe)}class fD{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new pD(t,this.durationSelector))}}class pD extends Zn.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:r}=this;e=r(t)}catch(r){return this.destination.error(r)}const i=(0,Zn.ft)(e,new Zn.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:i}=this;i&&(this.remove(i),this.throttled=void 0,i.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var ow=L(6561);function mD(n){const{index:t,period:e,subscriber:i}=n;if(i.next(t),!i.closed){if(-1===e)return i.complete();n.index=t+1,this.schedule(n,e)}}function Xm(n,t=dv.P){return function(n){return function(e){return e.lift(new fD(n))}}(()=>function(n=0,t,e){let i=-1;return(0,ow.k)(t)?i=Number(t)<1?1:Number(t):(0,hl.K)(t)&&(e=t),(0,hl.K)(e)||(e=dv.P),new ki.y(r=>{const s=(0,ow.k)(n)?n:+n-e.now();return e.schedule(mD,s,{index:0,period:i,subscriber:r})})}(n,t))}class yD{call(t,e){return e.subscribe(new bO(t))}}class bO extends $i.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var vD=L(7771),Xf=L(6136),bD=L(8858);class wD extends zt.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new CD(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=i.length;let l;if(this.closed)throw new dl.N;if(this.isStopped||this.hasError?l=Qn.w.EMPTY:(this.observers.push(t),l=new bD.W(this,t)),r&&t.add(t=new Xf.ht(t,r)),e)for(let d=0;d<s&&!t.closed;d++)t.next(i[d]);else for(let d=0;d<s&&!t.closed;d++)t.next(i[d].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),l}_getNow(){return(this.scheduler||vD.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,r=this._events,s=r.length;let l=0;for(;l<s&&!(t-r[l].time<i);)l++;return s>e&&(l=Math.max(l,s-e)),l>0&&r.splice(0,l),r}}class CD{constructor(t,e){this.time=t,this.value=e}}class DD extends class{}{constructor(t){super(),this._data=t}connect(){return hD(this._data)?this._data:(0,Ze.of)(this._data)}disconnect(){}}class CO{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,r,s){t.forEachOperation((l,d,f)=>{let g,_;null==l.previousIndex?(g=this._insertView(()=>i(l,d,f),f,e,r(l)),_=g?1:0):null==f?(this._detachAndCacheView(d,e),_=3):(g=this._moveView(d,f,e,r(l)),_=2),s&&s({context:null==g?void 0:g.context,operation:_,record:l})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,r){const s=this._insertViewFromCache(e,i);if(s)return void(s.context.$implicit=r);const l=t();return i.createEmbeddedView(l.templateRef,l.context,l.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,r){const s=i.get(t);return i.move(s,e),s.context.$implicit=r,s}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const Hd=new c.OlP("_ViewRepeater"),EO=["contentWrapper"],aw=["*"],vo=new c.OlP("VIRTUAL_SCROLL_STRATEGY");class TO{constructor(t,e,i){this._scrolledIndexChange=new zt.xQ,this.scrolledIndexChange=this._scrolledIndexChange.pipe(function(n,t){return e=>e.lift(new XM(n,t))}()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let s=this._viewport.measureScrollOffset(),l=this._itemSize>0?s/this._itemSize:0;if(e.end>r){const f=Math.ceil(i/this._itemSize),g=Math.max(0,Math.min(l,r-f));l!=g&&(l=g,s=g*this._itemSize,e.start=Math.floor(l)),e.end=Math.max(0,Math.min(r,e.start+f))}const d=s-e.start*this._itemSize;if(d<this._minBufferPx&&0!=e.start){const f=Math.ceil((this._maxBufferPx-d)/this._itemSize);e.start=Math.max(0,e.start-f),e.end=Math.min(r,Math.ceil(l+(i+this._minBufferPx)/this._itemSize))}else{const f=e.end*this._itemSize-(s+i);if(f<this._minBufferPx&&e.end!=r){const g=Math.ceil((this._maxBufferPx-f)/this._itemSize);g>0&&(e.end=Math.min(r,e.end+g),e.start=Math.max(0,Math.floor(l-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(l))}}function t_(n){return n._scrollStrategy}let ID=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new TO(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=Lc(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=Lc(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=Lc(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[c._Bn([{provide:vo,useFactory:t_,deps:[(0,c.Gpc)(()=>n)]}]),c.TTD]}),n})(),DO=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new zt.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ki.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Xm(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ze.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Lo(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function(n){return n instanceof c.SBq?n.nativeElement:n}(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>iw(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(wr),c.LFG(ge,8))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(c.R0b),c.LFG(wr),c.LFG(ge,8))},token:n,providedIn:"root"}),n})(),n_=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new zt.xQ,this._elementScrolled=new ki.y(l=>this.ngZone.runOutsideAngular(()=>iw(this.elementRef.nativeElement,"scroll").pipe(wd(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Vc()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Vc()?e.left=e.right:1==Vc()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function(){if(null==uo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return uo=!1,uo;if("scrollBehavior"in document.documentElement.style)uo=!0;else{const n=Element.prototype.scrollTo;uo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return uo}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==e?e=l?r:i:"end"==e&&(e=l?i:r),l&&2==Vc()?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:l&&1==Vc()?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(DO),c.Y36(c.R0b),c.Y36(zc,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),SD=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new zt.xQ,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Xm(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(wr),c.LFG(c.R0b),c.LFG(ge,8))},n.\u0275prov=c.Yz7({factory:function(){return new n(c.LFG(wr),c.LFG(c.R0b),c.LFG(ge,8))},token:n,providedIn:"root"}),n})();const uw="undefined"!=typeof requestAnimationFrame?vO:dD.E;let ep=(()=>{class n extends n_{constructor(e,i,r,s,l,d,f){super(e,d,r,l),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=s,this._detachedSubject=new zt.xQ,this._renderedRangeSubject=new zt.xQ,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new ki.y(g=>this._scrollStrategy.scrolledIndexChange.subscribe(_=>Promise.resolve().then(()=>this.ngZone.run(()=>g.next(_))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Qn.w.EMPTY,this._viewportChanges=f.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(xg(null),Xm(0,uw)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(wd(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){const s="horizontal"==this.orientation,l=s?"X":"Y";let f=`translate${l}(${Number((s&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(f+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=f&&(this._renderedContentTransform=f,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(vo,8),c.Y36(zc,8),c.Y36(DO),c.Y36(SD))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&c.Gf(EO,7),2&e){let r;c.iGM(r=c.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&c.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[c._Bn([{provide:n_,useExisting:n}]),c.qOj],ngContentSelectors:aw,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA(),c._UZ(3,"div",2)),2&e&&(c.xp6(3),c.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function AD(n,t,e){if(!e.getBoundingClientRect)return 0;const r=e.getBoundingClientRect();return"horizontal"===n?"start"===t?r.left:r.right:"start"===t?r.top:r.bottom}let MD=(()=>{class n{constructor(e,i,r,s,l,d){this._viewContainerRef=e,this._template=i,this._differs=r,this._viewRepeater=s,this._viewport=l,this.viewChange=new zt.xQ,this._dataSourceChanges=new zt.xQ,this.dataStream=this._dataSourceChanges.pipe(xg(null),n=>n.lift(new yD),No(([f,g])=>this._changeDataSource(f,g)),function(n,t,e){let i;return i=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},r=>r.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:i}){let r,l,s=0,d=!1,f=!1;return function(_){let b;s++,!r||d?(d=!1,r=new wD(n,t,i),b=r.subscribe(this),l=_.subscribe({next(E){r.next(E)},error(E){d=!0,r.error(E)},complete(){f=!0,l=void 0,r.complete()}}),f&&(l=void 0)):b=r.subscribe(this),this.add(()=>{s--,b.unsubscribe(),b=void 0,l&&!f&&e&&0===s&&(l.unsubscribe(),l=void 0,r=void 0)})}}(i))}(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new zt.xQ,this.dataStream.subscribe(f=>{this._data=f,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(wd(this._destroyed)).subscribe(f=>{this._renderedRange=f,d.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new DD(hD(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=Lc(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const r=e.start-this._renderedRange.start,s=e.end-e.start;let l,d;for(let f=0;f<s;f++){const g=this._viewContainerRef.get(f+r);if(g&&g.rootNodes.length){l=d=g.rootNodes[0];break}}for(let f=s-1;f>-1;f--){const g=this._viewContainerRef.get(f+r);if(g&&g.rootNodes.length){d=g.rootNodes[g.rootNodes.length-1];break}}return l&&d?AD(i,"end",d)-AD(i,"start",l):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):(0,Ze.of)()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(s,l,d)=>this._getEmbeddedViewArgs(s,d),s=>s.item),e.forEachIdentityChange(s=>{this._viewContainerRef.get(s.currentIndex).context.$implicit=s.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const s=this._viewContainerRef.get(r);s.context.index=this._renderedRange.start+r,s.context.count=i,this._updateComputedContextProperties(s.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(Hd),c.Y36(ep,4),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[c._Bn([{provide:Hd,useClass:CO}])]}),n})(),kD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),tp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[pm,$s,kD],pm,kD]}),n})(),dw=(()=>{class n{constructor(e,i,r){this.el=e,this.zone=i,this.config=r,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!1,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.getOption("tooltipEvent")?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.text&&(this.setOption({tooltipLabel:e.text.currentValue}),this.active&&(e.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onClick(e){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?me.appendChild(this.container,this.el.nativeElement):me.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),me.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?Er.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&Er.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+me.getWindowScrollLeft(),top:e.top+me.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+me.getOuterWidth(this.el.nativeElement),r=e.top+(me.getOuterHeight(this.el.nativeElement)-me.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-me.getOuterWidth(this.container),r=e.top+(me.getOuterHeight(this.el.nativeElement)-me.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(me.getOuterWidth(this.el.nativeElement)-me.getOuterWidth(this.container))/2,r=e.top-me.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(me.getOuterWidth(this.el.nativeElement)-me.getOuterWidth(this.container))/2,r=e.top+me.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,s=me.getOuterWidth(this.container),l=me.getOuterHeight(this.container),d=me.getViewport();return r+s>d.width||r<0||i<0||i+l>d.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Sb(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):me.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Er.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Bl))},n.\u0275dir=c.lG2({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[c.TTD]}),n})(),RD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii]]}),n})();function OD(n,t){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Oqu(e.label||"empty")}}function PD(n,t){1&n&&c.GkF(0)}const hw=function(n){return{height:n}},IO=function(n,t){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t}},i_=function(n){return{$implicit:n}},FD=["container"],SO=["filter"],ND=["in"],LD=["editableInput"];function p4(n,t){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const e=c.oxw(2);c.xp6(1),c.Oqu(e.label||"empty")}}function Gr(n,t){1&n&&c.GkF(0)}const zd=function(n){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":n}};function AO(n,t){if(1&n&&(c.TgZ(0,"span",12),c.YNc(1,p4,2,1,"ng-container",13),c.YNc(2,Gr,1,0,"ng-container",14),c.qZA()),2&n){const e=c.oxw();c.Q6J("ngClass",c.VKq(9,zd,null==e.label||0===e.label.length))("pTooltip",e.tooltip)("tooltipPosition",e.tooltipPosition)("positionStyle",e.tooltipPositionStyle)("tooltipStyleClass",e.tooltipStyleClass),c.uIk("id",e.labelId),c.xp6(1),c.Q6J("ngIf",!e.selectedItemTemplate),c.xp6(1),c.Q6J("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",c.VKq(11,i_,e.selectedOption))}}const MO=function(n){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":n}};function g4(n,t){if(1&n&&(c.TgZ(0,"span",15),c._uU(1),c.qZA()),2&n){const e=c.oxw();c.Q6J("ngClass",c.VKq(2,MO,null==e.placeholder||0===e.placeholder.length)),c.xp6(1),c.Oqu(e.placeholder||"empty")}}function np(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"input",16,17),c.NdJ("click",function(){return c.CHM(e),c.oxw().onEditableInputClick()})("input",function(r){return c.CHM(e),c.oxw().onEditableInputChange(r)})("focus",function(r){return c.CHM(e),c.oxw().onEditableInputFocus(r)})("blur",function(r){return c.CHM(e),c.oxw().onInputBlur(r)}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("disabled",e.disabled),c.uIk("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function kO(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"i",18),c.NdJ("click",function(r){return c.CHM(e),c.oxw().clear(r)}),c.qZA()}}function fw(n,t){1&n&&c.GkF(0)}function RO(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",26),c.TgZ(1,"div",27),c.NdJ("click",function(r){return r.stopPropagation()}),c.TgZ(2,"input",28,29),c.NdJ("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){return c.CHM(e),c.oxw(2).onKeydown(r,!1)})("input",function(r){return c.CHM(e),c.oxw(2).onFilterInputChange(r)}),c.qZA(),c._UZ(4,"span",30),c.qZA(),c.qZA()}if(2&n){const e=c.oxw(2);c.xp6(2),c.Q6J("value",e.filterValue||""),c.uIk("placeholder",e.filterPlaceholder)("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.overlayVisible?"p-highlighted-option":e.labelId)}}function VD(n,t){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&n){const e=c.oxw().$implicit,i=c.oxw(3);c.xp6(1),c.Oqu(i.getOptionGroupLabel(e)||"empty")}}function OO(n,t){1&n&&c.GkF(0)}function PO(n,t){1&n&&c.GkF(0)}const r_=function(n,t){return{$implicit:n,selectedOption:t}};function BD(n,t){if(1&n&&(c.TgZ(0,"li",32),c.YNc(1,VD,2,1,"span",13),c.YNc(2,OO,1,0,"ng-container",14),c.qZA(),c.YNc(3,PO,1,0,"ng-container",14)),2&n){const e=t.$implicit;c.oxw(2);const i=c.MAs(8),r=c.oxw();c.xp6(1),c.Q6J("ngIf",!r.groupTemplate),c.xp6(1),c.Q6J("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",c.VKq(5,i_,e)),c.xp6(1),c.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",c.WLB(7,r_,r.getOptionGroupChildren(e),r.selectedOption))}}function UD(n,t){if(1&n&&(c.ynx(0),c.YNc(1,BD,4,10,"ng-template",31),c.BQk()),2&n){const e=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",e.optionsToDisplay)}}function s_(n,t){1&n&&c.GkF(0)}function pw(n,t){if(1&n&&(c.ynx(0),c.YNc(1,s_,1,0,"ng-container",14),c.BQk()),2&n){c.oxw();const e=c.MAs(8),i=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",e)("ngTemplateOutletContext",c.WLB(2,r_,i.optionsToDisplay,i.selectedOption))}}function m4(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"p-dropdownItem",35),c.NdJ("onClick",function(r){return c.CHM(e),c.oxw(4).onItemClick(r)}),c.qZA()}if(2&n){const e=t.$implicit,i=c.oxw(2).selectedOption,r=c.oxw(2);c.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function HD(n,t){if(1&n&&(c.ynx(0),c.YNc(1,m4,1,5,"ng-template",31),c.BQk()),2&n){const e=c.oxw().$implicit;c.xp6(1),c.Q6J("ngForOf",e)}}function FO(n,t){if(1&n){const e=c.EpF();c.ynx(0),c.TgZ(1,"p-dropdownItem",35),c.NdJ("onClick",function(r){return c.CHM(e),c.oxw(5).onItemClick(r)}),c.qZA(),c.BQk()}if(2&n){const e=t.$implicit,i=c.oxw(3).selectedOption,r=c.oxw(2);c.xp6(1),c.Q6J("option",e)("selected",i==e)("label",r.getOptionLabel(e))("disabled",r.isOptionDisabled(e))("template",r.itemTemplate)}}function zD(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"cdk-virtual-scroll-viewport",37,38),c.NdJ("scrolledIndexChange",function(){return c.CHM(e),c.oxw(4).scrollToSelectedVirtualScrollElement()}),c.YNc(2,FO,2,5,"ng-container",39),c.qZA()}if(2&n){const e=c.oxw(2).$implicit,i=c.oxw(2);c.Q6J("ngStyle",c.VKq(3,hw,i.scrollHeight))("itemSize",i.itemSize),c.xp6(2),c.Q6J("cdkVirtualForOf",e)}}function o_(n,t){if(1&n&&c.YNc(0,zD,3,5,"cdk-virtual-scroll-viewport",36),2&n){const e=c.oxw(3);c.Q6J("ngIf",e.virtualScroll&&e.optionsToDisplay&&e.optionsToDisplay.length)}}function jD(n,t){if(1&n&&(c.YNc(0,HD,2,1,"ng-container",33),c.YNc(1,o_,1,1,"ng-template",null,34,c.W1O)),2&n){const e=c.MAs(2),i=c.oxw(2);c.Q6J("ngIf",!i.virtualScroll)("ngIfElse",e)}}function NO(n,t){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const e=c.oxw(3);c.xp6(1),c.hij(" ",e.emptyFilterMessageLabel," ")}}function gw(n,t){1&n&&c.GkF(0,null,41)}function mw(n,t){if(1&n&&(c.TgZ(0,"li",40),c.YNc(1,NO,2,1,"ng-container",33),c.YNc(2,gw,2,0,"ng-container",20),c.qZA()),2&n){const e=c.oxw(2);c.xp6(1),c.Q6J("ngIf",!e.emptyFilterTemplate&&!e.emptyTemplate)("ngIfElse",e.emptyFilter),c.xp6(1),c.Q6J("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function LO(n,t){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const e=c.oxw(3);c.xp6(1),c.hij(" ",e.emptyMessageLabel," ")}}function VO(n,t){1&n&&c.GkF(0,null,42)}function $D(n,t){if(1&n&&(c.TgZ(0,"li",40),c.YNc(1,LO,2,1,"ng-container",33),c.YNc(2,VO,2,0,"ng-container",20),c.qZA()),2&n){const e=c.oxw(2);c.xp6(1),c.Q6J("ngIf",!e.emptyTemplate)("ngIfElse",e.empty),c.xp6(1),c.Q6J("ngTemplateOutlet",e.emptyTemplate)}}function GD(n,t){1&n&&c.GkF(0)}const WD=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},BO=function(n){return{value:"visible",params:n}},qD=function(n){return{"p-dropdown-virtualscroll":n}};function KD(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",19),c.NdJ("click",function(r){return c.CHM(e),c.oxw().onOverlayClick(r)})("@overlayAnimation.start",function(r){return c.CHM(e),c.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.start",function(r){return c.CHM(e),c.oxw().onOverlayAnimationEnd(r)}),c.YNc(1,fw,1,0,"ng-container",20),c.YNc(2,RO,5,4,"div",21),c.TgZ(3,"div",22),c.TgZ(4,"ul",23),c.YNc(5,UD,2,1,"ng-container",13),c.YNc(6,pw,2,5,"ng-container",13),c.YNc(7,jD,3,2,"ng-template",null,24,c.W1O),c.YNc(9,mw,3,3,"li",25),c.YNc(10,$D,3,3,"li",25),c.qZA(),c.qZA(),c.YNc(11,GD,1,0,"ng-container",20),c.qZA()}if(2&n){const e=c.oxw();c.Tol(e.panelStyleClass),c.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",c.VKq(19,BO,c.WLB(16,WD,e.showTransitionOptions,e.hideTransitionOptions)))("ngStyle",e.panelStyle),c.xp6(1),c.Q6J("ngTemplateOutlet",e.headerTemplate),c.xp6(1),c.Q6J("ngIf",e.filter),c.xp6(1),c.Udp("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),c.xp6(1),c.Q6J("ngClass",c.VKq(21,qD,e.virtualScroll)),c.uIk("id",e.listId),c.xp6(1),c.Q6J("ngIf",e.group),c.xp6(1),c.Q6J("ngIf",!e.group),c.xp6(3),c.Q6J("ngIf",e.filterValue&&e.isEmpty()),c.xp6(1),c.Q6J("ngIf",!e.filterValue&&e.isEmpty()),c.xp6(1),c.Q6J("ngTemplateOutlet",e.footerTemplate)}}const UO=function(n,t,e,i){return{"p-dropdown p-component":!0,"p-disabled":n,"p-dropdown-open":t,"p-focus":e,"p-dropdown-clearable":i}},HO={provide:Ki,useExisting:(0,c.Gpc)(()=>_w),multi:!0};let YD=(()=>{class n{constructor(){this.onClick=new c.vpe}onOptionClick(e){this.onClick.emit({originalEvent:e,option:this.option})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(c.TgZ(0,"li",0),c.NdJ("click",function(s){return i.onOptionClick(s)}),c.YNc(1,OD,2,1,"span",1),c.YNc(2,PD,1,0,"ng-container",2),c.qZA()),2&e&&(c.Q6J("ngStyle",c.VKq(8,hw,i.itemSize+"px"))("id",i.selected?"p-highlighted-option":"")("ngClass",c.WLB(10,IO,i.selected,i.disabled)),c.uIk("aria-label",i.label)("aria-selected",i.selected),c.xp6(1),c.Q6J("ngIf",!i.template),c.xp6(1),c.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",c.VKq(13,i_,i.option)))},directives:[Ul,Sn,hi,At,Kn],encapsulation:2}),n})(),_w=(()=>{class n{constructor(e,i,r,s,l,d,f){this.el=e,this.renderer=i,this.cd=r,this.zone=s,this.filterService=l,this.config=d,this.overlayService=f,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new c.vpe,this.onFilter=new c.vpe,this.onFocus=new c.vpe,this.onBlur=new c.vpe,this.onClick=new c.vpe,this.onShow=new c.vpe,this.onHide=new c.vpe,this.onClear=new c.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=Mb()}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(e){this._options=e,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(e){this._filterValue=e,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(as.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(as.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(e){return this.optionLabel?Je.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?Je.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?Je.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?Je.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?Je.resolveFieldData(e,this.optionGroupChildren):e.items}onItemClick(e){const i=e.option;this.isOptionDisabled(i)||(this.selectItem(e,i),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(e,i){this.selectedOption!=i&&(this.selectedOption=i,this.value=this.getOptionValue(i),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:e.originalEvent,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let i=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(i.start>this.virtualScrollSelectedIndex||i.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}me.findSingle(this.overlay,"li.p-highlight")&&me.scrollInView(this.itemsWrapper,me.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.updateSelectedOption(e),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(e){this.selectedOption=this.findOption(e,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onMouseclick(e){this.disabled||this.readonly||this.isInputClick(e)||(this.onClick.emit(e),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}isInputClick(e){return me.hasClass(e.target,"p-dropdown-clear-icon")||e.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&e.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(e){this.focused=!0,this.hide(),this.onFocus.emit(e)}onEditableInputChange(e){this.value=e.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}show(){this.overlayVisible=!0}onOverlayAnimationStart(e){switch(e.toState){case"visible":if(this.overlay=e.element,this.itemsWrapper=me.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&Er.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let r=me.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"start"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e);break;case"void":this.onOverlayHide(),this.onHide.emit(e)}}onOverlayAnimationEnd(e){"void"===e.toState&&Er.clear(e.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(e){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(e&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):me.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=me.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?me.absolutePosition(this.overlay,this.containerViewChild.nativeElement):me.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e-1;0<=r;r--){let s=this.optionsToDisplay[r];if(!s.disabled){i=s;break}}if(!i)for(let r=this.optionsToDisplay.length-1;r>=e;r--){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}}return i}findNextEnabledOption(e){let i;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=e+1;r<this.optionsToDisplay.length;r++){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}if(!i)for(let r=0;r<e;r++){let s=this.optionsToDisplay[r];if(!this.isOptionDisabled(s)){i=s;break}}}return i}onKeydown(e,i){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(e.which){case 40:if(!this.overlayVisible&&e.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let s=r.itemIndex+1;s<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[s]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,s=this.findNextEnabledOption(r);s&&(this.selectItem(e,s),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let s=r.itemIndex-1;if(s>=0)this.selectItem(e,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[s]),this.selectedOptionUpdated=!0;else if(s<0){let l=this.optionsToDisplay[r.groupIndex-1];l&&(this.selectItem(e,this.getOptionGroupChildren(l)[this.getOptionGroupChildren(l).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,s=this.findPrevEnabledOption(r);s&&(this.selectItem(e,s),this.selectedOptionUpdated=!0)}e.preventDefault();break;case 32:i&&(this.overlayVisible?this.hide():this.show(),e.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),e.preventDefault();break;case 27:case 9:this.hide();break;default:i&&!e.metaKey&&this.search(e)}}search(e){this.searchTimeout&&clearTimeout(this.searchTimeout);const i=e.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=i,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+i:i,this.group){let s=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(s)}else{let s=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++s)}r&&!this.isOptionDisabled(r)&&(this.selectItem(e,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(e){let i;return this.searchValue&&(i=this.searchOptionInRange(e,this.optionsToDisplay.length),i||(i=this.searchOptionInRange(0,e))),i}searchOptionInRange(e,i){for(let r=e;r<i;r++){let s=this.optionsToDisplay[r];if(this.getOptionLabel(s).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(s))return s}return null}searchOptionWithinGroup(e){if(this.searchValue){for(let r=e.groupIndex;r<this.optionsToDisplay.length;r++)for(let s=e.groupIndex===r?e.itemIndex+1:0;s<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;s++){let l=this.getOptionGroupChildren(this.optionsToDisplay[r])[s];if(this.getOptionLabel(l).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(l))return l}for(let r=0;r<=e.groupIndex;r++)for(let s=0;s<(e.groupIndex===r?e.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);s++){let l=this.getOptionGroupChildren(this.optionsToDisplay[r])[s];if(this.getOptionLabel(l).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(l))return l}}return null}findOptionIndex(e,i){let r=-1;if(i)for(let s=0;s<i.length;s++)if(null==e&&null==this.getOptionValue(i[s])||Je.equals(e,this.getOptionValue(i[s]),this.dataKey)){r=s;break}return r}findOptionGroupIndex(e,i){let r,s;if(i)for(let l=0;l<i.length&&(r=l,s=this.findOptionIndex(e,this.getOptionGroupChildren(i[l])),-1===s);l++);return-1!==s?{groupIndex:r,itemIndex:s}:-1}findOption(e,i,r){if(this.group&&!r){let s;if(i&&i.length)for(let l of i)if(s=this.findOption(e,this.getOptionGroupChildren(l),!0),s)break;return s}{let s=this.findOptionIndex(e,i);return-1!=s?i[s]:null}}onFilterInputChange(e){let i=e.target.value;i&&i.length?(this._filterValue=i,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:e,filter:this._filterValue})}activateFilter(){let e=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let i=[];for(let r of this.options){let s=this.filterService.filter(this.getOptionGroupChildren(r),e,this.filterValue,this.filterMatchMode,this.filterLocale);s&&s.length&&i.push(Object.assign(Object.assign({},r),{[this.optionGroupChildren]:s}))}this.optionsToDisplay=i}else this.optionsToDisplay=this.filterService.filter(this.options,e,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?me.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():me.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{this.isOutsideClicked(i)&&(this.hide(),this.unbindDocumentClickListener()),this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!me.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Sb(this.containerViewChild.nativeElement,e=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(e){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(e)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Er.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Um),c.Y36(Bl),c.Y36(kb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-dropdown"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,Jc,4),2&e){let s;c.iGM(s=c.CRH())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(c.Gf(FD,5),c.Gf(SO,5),c.Gf(ND,5),c.Gf(ep,5),c.Gf(LD,5)),2&e){let r;c.iGM(r=c.CRH())&&(i.containerViewChild=r.first),c.iGM(r=c.CRH())&&(i.filterViewChild=r.first),c.iGM(r=c.CRH())&&(i.accessibleViewChild=r.first),c.iGM(r=c.CRH())&&(i.viewPort=r.first),c.iGM(r=c.CRH())&&(i.editableInputViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&c.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused||i.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[c._Bn([HO])],decls:12,vars:24,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(e,i){1&e&&(c.TgZ(0,"div",0,1),c.NdJ("click",function(s){return i.onMouseclick(s)}),c.TgZ(2,"div",2),c.TgZ(3,"input",3,4),c.NdJ("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)})("keydown",function(s){return i.onKeydown(s,!0)}),c.qZA(),c.qZA(),c.YNc(5,AO,3,13,"span",5),c.YNc(6,g4,2,4,"span",6),c.YNc(7,np,2,4,"input",7),c.YNc(8,kO,1,0,"i",8),c.TgZ(9,"div",9),c._UZ(10,"span",10),c.qZA(),c.YNc(11,KD,12,23,"div",11),c.qZA()),2&e&&(c.Tol(i.styleClass),c.Q6J("ngClass",c.l5B(19,UO,i.disabled,i.overlayVisible,i.focused,i.showClear&&!i.disabled))("ngStyle",i.style),c.xp6(3),c.Q6J("disabled",i.disabled),c.uIk("id",i.inputId)("placeholder",i.placeholder)("aria-expanded",i.overlayVisible)("aria-labelledby",i.ariaLabelledBy)("tabindex",i.tabindex)("autofocus",i.autofocus)("aria-activedescendant",i.overlayVisible?"p-highlighted-option":i.labelId),c.xp6(2),c.Q6J("ngIf",!i.editable&&null!=i.label),c.xp6(1),c.Q6J("ngIf",!i.editable&&null==i.label),c.xp6(1),c.Q6J("ngIf",i.editable),c.xp6(1),c.Q6J("ngIf",null!=i.value&&i.showClear&&!i.disabled),c.xp6(1),c.uIk("aria-expanded",i.overlayVisible),c.xp6(1),c.Q6J("ngClass",i.dropdownIcon),c.xp6(1),c.Q6J("ngIf",i.overlayVisible))},directives:[hi,Sn,At,dw,Kn,Es,YD,ep,ID,MD],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}"],encapsulation:2,data:{animation:[po("overlayAnimation",[Cr(":enter",[oi({opacity:0,transform:"scaleY(0.8)"}),Is("{{showTransitionParams}}")]),Cr(":leave",[Is("{{hideTransitionParams}}",oi({opacity:0}))])])]},changeDetection:0}),n})(),ip=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii,Ms,tp,RD,Fa],Ms,tp]}),n})(),yw=(()=>{class n{constructor(e,i,r){this.el=e,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(e){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Xo,8),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(e,i){1&e&&c.NdJ("input",function(s){return i.onInput(s)}),2&e&&c.ekj("p-filled",i.filled)}}),n})(),a_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii]]}),n})();const ZD=["input"],QD=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},JD=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function zO(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"span",5),c.TgZ(1,"button",6),c.NdJ("mousedown",function(r){return c.CHM(e),c.oxw().onUpButtonMouseDown(r)})("mouseup",function(){return c.CHM(e),c.oxw().onUpButtonMouseUp()})("mouseleave",function(){return c.CHM(e),c.oxw().onUpButtonMouseLeave()})("keydown",function(r){return c.CHM(e),c.oxw().onUpButtonKeyDown(r)})("keyup",function(){return c.CHM(e),c.oxw().onUpButtonKeyUp()}),c.qZA(),c.TgZ(2,"button",6),c.NdJ("mousedown",function(r){return c.CHM(e),c.oxw().onDownButtonMouseDown(r)})("mouseup",function(){return c.CHM(e),c.oxw().onDownButtonMouseUp()})("mouseleave",function(){return c.CHM(e),c.oxw().onDownButtonMouseLeave()})("keydown",function(r){return c.CHM(e),c.oxw().onDownButtonKeyDown(r)})("keyup",function(){return c.CHM(e),c.oxw().onDownButtonKeyUp()}),c.qZA(),c.qZA()}if(2&n){const e=c.oxw();c.xp6(1),c.Tol(e.incrementButtonClass),c.Q6J("ngClass",c.DdM(10,QD))("icon",e.incrementButtonIcon)("disabled",e.disabled),c.xp6(1),c.Tol(e.decrementButtonClass),c.Q6J("ngClass",c.DdM(11,JD))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}function XD(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",6),c.NdJ("mousedown",function(r){return c.CHM(e),c.oxw().onUpButtonMouseDown(r)})("mouseup",function(){return c.CHM(e),c.oxw().onUpButtonMouseUp()})("mouseleave",function(){return c.CHM(e),c.oxw().onUpButtonMouseLeave()})("keydown",function(r){return c.CHM(e),c.oxw().onUpButtonKeyDown(r)})("keyup",function(){return c.CHM(e),c.oxw().onUpButtonKeyUp()}),c.qZA()}if(2&n){const e=c.oxw();c.Tol(e.incrementButtonClass),c.Q6J("ngClass",c.DdM(5,QD))("icon",e.incrementButtonIcon)("disabled",e.disabled)}}function _4(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",6),c.NdJ("mousedown",function(r){return c.CHM(e),c.oxw().onDownButtonMouseDown(r)})("mouseup",function(){return c.CHM(e),c.oxw().onDownButtonMouseUp()})("mouseleave",function(){return c.CHM(e),c.oxw().onDownButtonMouseLeave()})("keydown",function(r){return c.CHM(e),c.oxw().onDownButtonKeyDown(r)})("keyup",function(){return c.CHM(e),c.oxw().onDownButtonKeyUp()}),c.qZA()}if(2&n){const e=c.oxw();c.Tol(e.decrementButtonClass),c.Q6J("ngClass",c.DdM(5,JD))("icon",e.decrementButtonIcon)("disabled",e.disabled)}}const y4=function(n,t,e){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":n,"p-inputnumber-buttons-horizontal":t,"p-inputnumber-buttons-vertical":e}},v4={provide:Ki,useExisting:(0,c.Gpc)(()=>jO),multi:!0};let jO=(()=>{class n{constructor(e,i){this.el=e,this.cd=i,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.onInput=new c.vpe,this.onFocus=new c.vpe,this.onBlur=new c.vpe,this.onKeyDown=new c.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1),this._disabled=e,this.timer&&this.clearTimer()}ngOnChanges(e){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(r=>!!e[r])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const e=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),i=new Map(e.map((r,s)=>[r,s]));this._numeral=new RegExp(`[${e.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=r=>i.get(r)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const e=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${e.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=e.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const e=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${e.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const e=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${e.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=e.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const e=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=e.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(e){if(null!=e){if("-"===e)return e;if(this.format){let r=new Intl.NumberFormat(this.locale,this.getOptions()).format(e);return this.prefix&&(r=this.prefix+r),this.suffix&&(r+=this.suffix),r}return e.toString()}return""}parseValue(e){let i=e.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(i){if("-"===i)return i;let r=+i;return isNaN(r)?null:r}return null}repeat(e,i,r){if(this.readonly)return;let s=i||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,40,r)},s),this.spin(e,r)}spin(e,i){let r=this.step*i,s=this.parseValue(this.input.nativeElement.value)||0,l=this.validateValue(s+r);this.maxlength&&this.maxlength<this.formatValue(l).length||(this.updateInput(l,null,"spin",null),this.updateModel(e,l),this.handleOnInput(e,s,l))}onUpButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,1),e.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(e){this.input.nativeElement.focus(),this.repeat(e,null,-1),e.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(e){(32===e.keyCode||13===e.keyCode)&&this.repeat(e,null,-1)}onUserInput(e){this.isSpecialChar&&(e.target.value=this.lastValue),this.isSpecialChar=!1}onInputKeyDown(e){if(this.lastValue=e.target.value,e.shiftKey||e.altKey)return void(this.isSpecialChar=!0);let i=e.target.selectionStart,r=e.target.selectionEnd,s=e.target.value,l=null;switch(e.altKey&&e.preventDefault(),e.which){case 38:this.spin(e,1),e.preventDefault();break;case 40:this.spin(e,-1),e.preventDefault();break;case 37:this.isNumeralChar(s.charAt(i-1))||e.preventDefault();break;case 39:this.isNumeralChar(s.charAt(i))||e.preventDefault();break;case 13:l=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(l),this.input.nativeElement.setAttribute("aria-valuenow",l),this.updateModel(e,l);break;case 8:if(e.preventDefault(),i===r){const d=s.charAt(i-1),{decimalCharIndex:f,decimalCharIndexWithoutPrefix:g}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(d)){const _=this.getDecimalLength(s);if(this._group.test(d))this._group.lastIndex=0,l=s.slice(0,i-2)+s.slice(i-1);else if(this._decimal.test(d))this._decimal.lastIndex=0,_?this.input.nativeElement.setSelectionRange(i-1,i-1):l=s.slice(0,i-1)+s.slice(i);else if(f>0&&i>f){const b=this.isDecimalMode()&&(this.minFractionDigits||0)<_?"":"0";l=s.slice(0,i-1)+b+s.slice(i)}else 1===g?(l=s.slice(0,i-1)+"0"+s.slice(i),l=this.parseValue(l)>0?l:""):l=s.slice(0,i-1)+s.slice(i)}this.updateValue(e,l,null,"delete-single")}else l=this.deleteRange(s,i,r),this.updateValue(e,l,null,"delete-range");break;case 46:if(e.preventDefault(),i===r){const d=s.charAt(i),{decimalCharIndex:f,decimalCharIndexWithoutPrefix:g}=this.getDecimalCharIndexes(s);if(this.isNumeralChar(d)){const _=this.getDecimalLength(s);if(this._group.test(d))this._group.lastIndex=0,l=s.slice(0,i)+s.slice(i+2);else if(this._decimal.test(d))this._decimal.lastIndex=0,_?this.input.nativeElement.setSelectionRange(i+1,i+1):l=s.slice(0,i)+s.slice(i+1);else if(f>0&&i>f){const b=this.isDecimalMode()&&(this.minFractionDigits||0)<_?"":"0";l=s.slice(0,i)+b+s.slice(i+1)}else 1===g?(l=s.slice(0,i)+"0"+s.slice(i+1),l=this.parseValue(l)>0?l:""):l=s.slice(0,i)+s.slice(i+1)}this.updateValue(e,l,null,"delete-back-single")}else l=this.deleteRange(s,i,r),this.updateValue(e,l,null,"delete-range")}this.onKeyDown.emit(e)}onInputKeyPress(e){e.preventDefault();let i=e.which||e.keyCode,r=String.fromCharCode(i);const s=this.isDecimalSign(r),l=this.isMinusSign(r);(48<=i&&i<=57||l||s)&&this.insert(e,r,{isDecimalSign:s,isMinusSign:l})}onPaste(e){if(!this.disabled){e.preventDefault();let i=(e.clipboardData||window.clipboardData).getData("Text");if(i){let r=this.parseValue(i);null!=r&&this.insert(e,r.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(e){return!(!this._minusSign.test(e)&&"-"!==e||(this._minusSign.lastIndex=0,0))}isDecimalSign(e){return!!this._decimal.test(e)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(e){let i=e.search(this._decimal);this._decimal.lastIndex=0;const s=e.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:i,decimalCharIndexWithoutPrefix:s}}getCharIndexes(e){const i=e.search(this._decimal);this._decimal.lastIndex=0;const r=e.search(this._minusSign);this._minusSign.lastIndex=0;const s=e.search(this._suffix);this._suffix.lastIndex=0;const l=e.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:i,minusCharIndex:r,suffixCharIndex:s,currencyCharIndex:l}}insert(e,i,r={isDecimalSign:!1,isMinusSign:!1}){const s=i.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==s)return;let l=this.input.nativeElement.selectionStart,d=this.input.nativeElement.selectionEnd,f=this.input.nativeElement.value.trim();const{decimalCharIndex:g,minusCharIndex:_,suffixCharIndex:b,currencyCharIndex:E}=this.getCharIndexes(f);let x;if(r.isMinusSign)0===l&&(x=f,(-1===_||0!==d)&&(x=this.insertText(f,i,0,d)),this.updateValue(e,x,i,"insert"));else if(r.isDecimalSign)g>0&&l===g?this.updateValue(e,f,i,"insert"):(g>l&&g<d||-1===g&&this.maxFractionDigits)&&(x=this.insertText(f,i,l,d),this.updateValue(e,x,i,"insert"));else{const M=this.numberFormat.resolvedOptions().maximumFractionDigits,k=l!==d?"range-insert":"insert";if(g>0&&l>g){if(l+i.length-(g+1)<=M){const R=E>=l?E-1:b>=l?b:f.length;x=f.slice(0,l)+i+f.slice(l+i.length,R)+f.slice(R),this.updateValue(e,x,i,k)}}else x=this.insertText(f,i,l,d),this.updateValue(e,x,i,k)}}insertText(e,i,r,s){if(2===("."===i?i:i.split(".")).length){const d=e.slice(r,s).search(this._decimal);return this._decimal.lastIndex=0,d>0?e.slice(0,r)+this.formatValue(i)+e.slice(s):e||this.formatValue(i)}return s-r===e.length?this.formatValue(i):0===r?i+e.slice(s):s===e.length?e.slice(0,r)+i:e.slice(0,r)+i+e.slice(s)}deleteRange(e,i,r){let s;return s=r-i===e.length?"":0===i?e.slice(r):r===e.length?e.slice(0,i):e.slice(0,i)+e.slice(r),s}initCursor(){let e=this.input.nativeElement.selectionStart,i=this.input.nativeElement.value,r=i.length,s=null,l=(this.prefixChar||"").length;i=i.replace(this._prefix,""),e-=l;let d=i.charAt(e);if(this.isNumeralChar(d))return e+l;let f=e-1;for(;f>=0;){if(d=i.charAt(f),this.isNumeralChar(d)){s=f+l;break}f--}if(null!==s)this.input.nativeElement.setSelectionRange(s+1,s+1);else{for(f=e;f<r;){if(d=i.charAt(f),this.isNumeralChar(d)){s=f+l;break}f++}null!==s&&this.input.nativeElement.setSelectionRange(s,s)}return s||0}onInputClick(){this.initCursor()}isNumeralChar(e){return!(1!==e.length||!(this._numeral.test(e)||this._decimal.test(e)||this._group.test(e)||this._minusSign.test(e))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(e,i,r,s){let l=this.input.nativeElement.value,d=null;null!=i&&(d=this.parseValue(i),d=d||this.allowEmpty?d:0,this.updateInput(d,r,s,i),this.handleOnInput(e,l,d))}handleOnInput(e,i,r){this.isValueChanged(i,r)&&this.onInput.emit({originalEvent:e,value:r})}isValueChanged(e,i){return null===i&&null!==e||null!=i&&i!==("string"==typeof e?this.parseValue(e):e)}validateValue(e){return"-"===e||null==e?null:null!=this.min&&e<this.min?this.min:null!=this.max&&e>this.max?this.max:e}updateInput(e,i,r,s){i=i||"";let l=this.input.nativeElement.value,d=this.formatValue(e),f=l.length;if(d!==s&&(d=this.concatValues(d,s)),0===f){this.input.nativeElement.value=d,this.input.nativeElement.setSelectionRange(0,0);const _=this.initCursor()+i.length;this.input.nativeElement.setSelectionRange(_,_)}else{let g=this.input.nativeElement.selectionStart,_=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<d.length)return;this.input.nativeElement.value=d;let b=d.length;if("range-insert"===r){const E=this.parseValue((l||"").slice(0,g)),M=(null!==E?E.toString():"").split("").join(`(${this.groupChar})?`),k=new RegExp(M,"g");k.test(d);const R=i.split("").join(`(${this.groupChar})?`),B=new RegExp(R,"g");B.test(d.slice(k.lastIndex)),_=k.lastIndex+B.lastIndex,this.input.nativeElement.setSelectionRange(_,_)}else if(b===f)"insert"===r||"delete-back-single"===r?this.input.nativeElement.setSelectionRange(_+1,_+1):"delete-single"===r?this.input.nativeElement.setSelectionRange(_-1,_-1):("delete-range"===r||"spin"===r)&&this.input.nativeElement.setSelectionRange(_,_);else if("delete-back-single"===r){let E=l.charAt(_-1),x=l.charAt(_),M=f-b,k=this._group.test(x);k&&1===M?_+=1:!k&&this.isNumeralChar(E)&&(_+=-1*M+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(_,_)}else if("-"===l&&"insert"===r){this.input.nativeElement.setSelectionRange(0,0);const x=this.initCursor()+i.length+1;this.input.nativeElement.setSelectionRange(x,x)}else _+=b-f,this.input.nativeElement.setSelectionRange(_,_)}this.input.nativeElement.setAttribute("aria-valuenow",e)}concatValues(e,i){if(e&&i){let r=i.search(this._decimal);return this._decimal.lastIndex=0,-1!==r?e.split(this._decimal)[0]+i.slice(r):e}return e}getDecimalLength(e){if(e){const i=e.split(this._decimal);if(2===i.length)return i[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1;let i=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(i),this.input.nativeElement.setAttribute("aria-valuenow",i),this.updateModel(e,i),this.onBlur.emit(e)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(e,i){this.value!==i&&(this.value=i,this.onModelChange(i)),this.onModelTouched()}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-inputNumber"]],viewQuery:function(e,i){if(1&e&&c.Gf(ZD,5),2&e){let r;c.iGM(r=c.CRH())&&(i.input=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&c.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focused)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown"},features:[c._Bn([v4]),c.TTD],decls:6,vars:31,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(e,i){1&e&&(c.TgZ(0,"span",0),c.TgZ(1,"input",1,2),c.NdJ("input",function(s){return i.onUserInput(s)})("keydown",function(s){return i.onInputKeyDown(s)})("keypress",function(s){return i.onInputKeyPress(s)})("paste",function(s){return i.onPaste(s)})("click",function(){return i.onInputClick()})("focus",function(s){return i.onInputFocus(s)})("blur",function(s){return i.onInputBlur(s)}),c.qZA(),c.YNc(3,zO,3,12,"span",3),c.YNc(4,XD,1,6,"button",4),c.YNc(5,_4,1,6,"button",4),c.qZA()),2&e&&(c.Tol(i.styleClass),c.Q6J("ngClass",c.kEZ(27,y4,i.showButtons&&"stacked"===i.buttonLayout,i.showButtons&&"horizontal"===i.buttonLayout,i.showButtons&&"vertical"===i.buttonLayout))("ngStyle",i.style),c.xp6(1),c.Tol(i.inputStyleClass),c.Q6J("ngClass","p-inputnumber-input")("ngStyle",i.inputStyle)("value",i.formattedValue())("disabled",i.disabled)("readonly",i.readonly),c.uIk("placeholder",i.placeholder)("title",i.title)("id",i.inputId)("size",i.size)("name",i.name)("autocomplete",i.autocomplete)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-required",i.ariaRequired)("required",i.required)("aria-valuemin",i.min)("aria-valuemax",i.max),c.xp6(2),c.Q6J("ngIf",i.showButtons&&"stacked"===i.buttonLayout),c.xp6(1),c.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout),c.xp6(1),c.Q6J("ngIf",i.showButtons&&"stacked"!==i.buttonLayout))},directives:[hi,Sn,yw,At,NR],styles:[".p-inputnumber,p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid .p-inputnumber,.p-fluid p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}"],encapsulation:2,changeDetection:0}),n})(),eI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii,a_,Xc]]}),n})();function b4(n,t){1&n&&c.GkF(0)}const tI=function(n){return{$implicit:n}};function w4(n,t){if(1&n&&(c.TgZ(0,"div",15),c.YNc(1,b4,1,0,"ng-container",16),c.qZA()),2&n){const e=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",e.templateLeft)("ngTemplateOutletContext",c.VKq(2,tI,e.paginatorState))}}function C4(n,t){if(1&n&&(c.TgZ(0,"span",17),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.xp6(1),c.Oqu(e.currentPageReport)}}const vw=function(n){return{"p-disabled":n}};function E4(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",18),c.NdJ("click",function(r){return c.CHM(e),c.oxw(2).changePageToFirst(r)}),c._UZ(1,"span",19),c.qZA()}if(2&n){const e=c.oxw(2);c.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",c.VKq(2,vw,e.isFirstPage()||e.empty()))}}const T4=function(n){return{"p-highlight":n}};function x4(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",22),c.NdJ("click",function(r){const l=c.CHM(e).$implicit;return c.oxw(3).onPageLinkClick(r,l-1)}),c._uU(1),c.qZA()}if(2&n){const e=t.$implicit,i=c.oxw(3);c.Q6J("ngClass",c.VKq(2,T4,e-1==i.getPage())),c.xp6(1),c.Oqu(e)}}function D4(n,t){if(1&n&&(c.TgZ(0,"span",20),c.YNc(1,x4,2,4,"button",21),c.qZA()),2&n){const e=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",e.pageLinks)}}function I4(n,t){if(1&n&&c._uU(0),2&n){const e=c.oxw(3);c.Oqu(e.currentPageReport)}}function S4(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"p-dropdown",23),c.NdJ("onChange",function(r){return c.CHM(e),c.oxw(2).onPageDropdownChange(r)}),c.YNc(1,I4,1,1,"ng-template",24),c.qZA()}if(2&n){const e=c.oxw(2);c.Q6J("options",e.pageItems)("ngModel",e.getPage())("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight)}}function A4(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",25),c.NdJ("click",function(r){return c.CHM(e),c.oxw(2).changePageToLast(r)}),c._UZ(1,"span",26),c.qZA()}if(2&n){const e=c.oxw(2);c.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",c.VKq(2,vw,e.isLastPage()||e.empty()))}}function $O(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"p-inputNumber",27),c.NdJ("ngModelChange",function(r){return c.CHM(e),c.oxw(2).changePage(r-1)}),c.qZA()}if(2&n){const e=c.oxw(2);c.Q6J("ngModel",e.currentPage())("disabled",e.empty())}}function GO(n,t){1&n&&c.GkF(0)}function WO(n,t){if(1&n&&c.YNc(0,GO,1,0,"ng-container",16),2&n){const e=t.$implicit,i=c.oxw(4);c.Q6J("ngTemplateOutlet",i.dropdownItemTemplate)("ngTemplateOutletContext",c.VKq(2,tI,e))}}function M4(n,t){1&n&&(c.ynx(0),c.YNc(1,WO,1,4,"ng-template",30),c.BQk())}function k4(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"p-dropdown",28),c.NdJ("ngModelChange",function(r){return c.CHM(e),c.oxw(2).rows=r})("onChange",function(r){return c.CHM(e),c.oxw(2).onRppChange(r)}),c.YNc(1,M4,2,0,"ng-container",29),c.qZA()}if(2&n){const e=c.oxw(2);c.Q6J("options",e.rowsPerPageItems)("ngModel",e.rows)("disabled",e.empty())("appendTo",e.dropdownAppendTo)("scrollHeight",e.dropdownScrollHeight),c.xp6(1),c.Q6J("ngIf",e.dropdownItemTemplate)}}function R4(n,t){1&n&&c.GkF(0)}function qO(n,t){if(1&n&&(c.TgZ(0,"div",31),c.YNc(1,R4,1,0,"ng-container",16),c.qZA()),2&n){const e=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",e.templateRight)("ngTemplateOutletContext",c.VKq(2,tI,e.paginatorState))}}function KO(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",1),c.YNc(1,w4,2,4,"div",2),c.YNc(2,C4,2,1,"span",3),c.YNc(3,E4,2,4,"button",4),c.TgZ(4,"button",5),c.NdJ("click",function(r){return c.CHM(e),c.oxw().changePageToPrev(r)}),c._UZ(5,"span",6),c.qZA(),c.YNc(6,D4,2,1,"span",7),c.YNc(7,S4,2,5,"p-dropdown",8),c.TgZ(8,"button",9),c.NdJ("click",function(r){return c.CHM(e),c.oxw().changePageToNext(r)}),c._UZ(9,"span",10),c.qZA(),c.YNc(10,A4,2,4,"button",11),c.YNc(11,$O,1,2,"p-inputNumber",12),c.YNc(12,k4,2,6,"p-dropdown",13),c.YNc(13,qO,2,4,"div",14),c.qZA()}if(2&n){const e=c.oxw();c.Tol(e.styleClass),c.Q6J("ngStyle",e.style)("ngClass","p-paginator p-component"),c.xp6(1),c.Q6J("ngIf",e.templateLeft),c.xp6(1),c.Q6J("ngIf",e.showCurrentPageReport),c.xp6(1),c.Q6J("ngIf",e.showFirstLastIcon),c.xp6(1),c.Q6J("disabled",e.isFirstPage()||e.empty())("ngClass",c.VKq(17,vw,e.isFirstPage()||e.empty())),c.xp6(2),c.Q6J("ngIf",e.showPageLinks),c.xp6(1),c.Q6J("ngIf",e.showJumpToPageDropdown),c.xp6(1),c.Q6J("disabled",e.isLastPage()||e.empty())("ngClass",c.VKq(19,vw,e.isLastPage()||e.empty())),c.xp6(2),c.Q6J("ngIf",e.showFirstLastIcon),c.xp6(1),c.Q6J("ngIf",e.showJumpToPageInput),c.xp6(1),c.Q6J("ngIf",e.rowsPerPageOptions),c.xp6(1),c.Q6J("ngIf",e.templateRight)}}let YO=(()=>{class n{constructor(e){this.cd=e,this.pageLinkSize=5,this.onPageChange=new c.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(e){e.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),e.first&&(this._first=e.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),e.rows&&(this.updatePageLinks(),this.updatePaginatorState()),e.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(e){this._first=e}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let e of this.rowsPerPageOptions)"object"==typeof e&&e.showAll?this.rowsPerPageItems.unshift({label:e.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(e),value:e})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let e=this.getPageCount(),i=Math.min(this.pageLinkSize,e),r=Math.max(0,Math.ceil(this.getPage()-i/2)),s=Math.min(e-1,r+i-1);return r=Math.max(0,r-(this.pageLinkSize-(s-r+1))),[r,s]}updatePageLinks(){this.pageLinks=[];let e=this.calculatePageLinkBoundaries(),r=e[1];for(let s=e[0];s<=r;s++)this.pageLinks.push(s+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let s=0;s<this.getPageCount();s++)this.pageItems.push({label:String(s+1),value:s})}}changePage(e){var i=this.getPageCount();if(e>=0&&e<i){this._first=this.rows*e;var r={page:e,first:this.first,rows:this.rows,pageCount:i};this.updatePageLinks(),this.onPageChange.emit(r),this.updatePaginatorState()}}updateFirst(){const e=this.getPage();e>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(e-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(e){this.isFirstPage()||this.changePage(0),e.preventDefault()}changePageToPrev(e){this.changePage(this.getPage()-1),e.preventDefault()}changePageToNext(e){this.changePage(this.getPage()+1),e.preventDefault()}changePageToLast(e){this.isLastPage()||this.changePage(this.getPageCount()-1),e.preventDefault()}onPageLinkClick(e,i){this.changePage(i),e.preventDefault()}onRppChange(e){this.changePage(this.getPage())}onPageDropdownChange(e){this.changePage(e.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[c.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(e,i){1&e&&c.YNc(0,KO,14,21,"div",0),2&e&&c.Q6J("ngIf",!!i.alwaysShow||i.pageLinks&&i.pageLinks.length>1)},directives:[At,Sn,hi,Ul,Kn,Es,_w,Va,Xo,Jc,jO],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-current,.p-paginator-first,.p-paginator-last,.p-paginator-next,.p-paginator-page,.p-paginator-prev{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}"],encapsulation:2,changeDetection:0}),n})(),O4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii,ip,eI,au,Ms,Fa],ip,eI,au,Ms]}),n})();function P4(n,t){if(1&n&&c._UZ(0,"span",8),2&n){const e=c.oxw(2).$implicit;c.Tol(e.icon),c.Q6J("ngClass","p-button-icon p-button-icon-left")}}function F4(n,t){if(1&n&&(c.ynx(0),c.YNc(1,P4,1,3,"span",6),c.TgZ(2,"span",7),c._uU(3),c.qZA(),c.BQk()),2&n){const e=c.oxw().$implicit,i=c.oxw();c.xp6(1),c.Q6J("ngIf",e.icon),c.xp6(2),c.Oqu(i.getOptionLabel(e))}}function N4(n,t){1&n&&c.GkF(0)}const ZO=function(n,t){return{$implicit:n,index:t}};function L4(n,t){if(1&n&&c.YNc(0,N4,1,0,"ng-container",9),2&n){const e=c.oxw(),i=e.$implicit,r=e.index,s=c.oxw();c.Q6J("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",c.WLB(2,ZO,i,r))}}const QO=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-button-icon-only":e}};function bw(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",2,3),c.NdJ("click",function(r){const s=c.CHM(e),l=s.$implicit,d=s.index;return c.oxw().onItemClick(r,l,d)})("keydown.enter",function(r){const s=c.CHM(e),l=s.$implicit,d=s.index;return c.oxw().onItemClick(r,l,d)})("blur",function(){return c.CHM(e),c.oxw().onBlur()}),c.YNc(2,F4,4,2,"ng-container",4),c.YNc(3,L4,1,5,"ng-template",null,5,c.W1O),c.qZA()}if(2&n){const e=t.$implicit,i=c.MAs(4),r=c.oxw();c.Tol(e.styleClass),c.Q6J("ngClass",c.kEZ(10,QO,r.isSelected(e),r.disabled||r.isOptionDisabled(e),e.icon&&!r.getOptionLabel(e))),c.uIk("aria-pressed",r.isSelected(e))("title",e.title)("aria-label",e.label)("tabindex",r.disabled?null:r.tabindex)("aria-labelledby",r.getOptionLabel(e)),c.xp6(2),c.Q6J("ngIf",!r.itemTemplate)("ngIfElse",i)}}const jd={provide:Ki,useExisting:(0,c.Gpc)(()=>nI),multi:!0};let nI=(()=>{class n{constructor(e){this.cd=e,this.tabindex=0,this.onOptionClick=new c.vpe,this.onChange=new c.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(e){return this.optionLabel?Je.resolveFieldData(e,this.optionLabel):null!=e.label?e.label:e}getOptionValue(e){return this.optionValue?Je.resolveFieldData(e,this.optionValue):this.optionLabel||void 0===e.value?e:e.value}isOptionDisabled(e){return this.optionDisabled?Je.resolveFieldData(e,this.optionDisabled):void 0!==e.disabled&&e.disabled}writeValue(e){this.value=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onItemClick(e,i,r){this.disabled||this.isOptionDisabled(i)||(this.multiple?this.isSelected(i)?this.removeOption(i):this.value=[...this.value||[],this.getOptionValue(i)]:this.value=this.getOptionValue(i),this.onOptionClick.emit({originalEvent:e,option:i,index:r}),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value}))}onBlur(){this.onModelTouched()}removeOption(e){this.value=this.value.filter(i=>!Je.equals(i,this.getOptionValue(e),this.dataKey))}isSelected(e){let i=!1,r=this.getOptionValue(e);if(this.multiple){if(this.value)for(let s of this.value)if(Je.equals(s,r,this.dataKey)){i=!0;break}}else i=Je.equals(this.getOptionValue(e),this.value,this.dataKey);return i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-selectButton"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,c.Rgc,5),2&e){let s;c.iGM(s=c.CRH())&&(i.itemTemplate=s.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[c._Bn([jd])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.YNc(1,bw,5,14,"div",1),c.qZA()),2&e&&(c.Tol(i.styleClass),c.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",i.style),c.xp6(1),c.Q6J("ngForOf",i.options))},directives:[hi,Sn,Es,Ul,At,Kn],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}.p-button-label{transition:all .2s}"],encapsulation:2,changeDetection:0}),n})(),JO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii,Fa]]}),n})();const XO=function(n,t,e){return{"p-checkbox-label-active":n,"p-disabled":t,"p-checkbox-label-focus":e}};function ww(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"label",7),c.NdJ("click",function(r){c.CHM(e);const s=c.oxw(),l=c.MAs(3);return s.onClick(r,l)}),c._uU(1),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("ngClass",c.kEZ(3,XO,null!=e.value,e.disabled,e.focused)),c.uIk("for",e.inputId),c.xp6(1),c.Oqu(e.label)}}const iI=function(n,t){return{"p-checkbox p-component":!0,"p-checkbox-disabled":n,"p-checkbox-focused":t}},rI=function(n,t,e){return{"p-highlight":n,"p-disabled":t,"p-focus":e}},sI={provide:Ki,useExisting:(0,c.Gpc)(()=>V4),multi:!0};let V4=(()=>{class n{constructor(e){this.cd=e,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new c.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,i){!this.disabled&&!this.readonly&&(this.toggle(e),this.focused=!0,i.focus())}onKeydown(e){32==e.keyCode&&e.preventDefault()}onKeyup(e){32==e.keyCode&&!this.readonly&&(this.toggle(e),e.preventDefault())}toggle(e){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:e,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}writeValue(e){this.value=e,this.cd.markForCheck()}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[c._Bn([sI])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(e,i){if(1&e){const r=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"input",2,3),c.NdJ("keyup",function(l){return i.onKeyup(l)})("keydown",function(l){return i.onKeydown(l)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),c.qZA(),c.qZA(),c.TgZ(4,"div",4),c.NdJ("click",function(l){c.CHM(r);const d=c.MAs(3);return i.onClick(l,d)}),c._UZ(5,"span",5),c.qZA(),c.qZA(),c.YNc(6,ww,2,7,"label",6)}2&e&&(c.Tol(i.styleClass),c.Q6J("ngStyle",i.style)("ngClass",c.WLB(14,iI,i.disabled,i.focused)),c.xp6(2),c.Q6J("name",i.name)("readonly",i.readonly)("disabled",i.disabled),c.uIk("id",i.inputId)("tabindex",i.tabindex)("aria-labelledby",i.ariaLabelledBy),c.xp6(2),c.Q6J("ngClass",c.kEZ(17,rI,null!=i.value,i.disabled,i.focused)),c.uIk("aria-checked",!0===i.value),c.xp6(1),c.Q6J("ngClass",!0===i.value?i.checkboxTrueIcon:!1===i.value?i.checkboxFalseIcon:""),c.xp6(1),c.Q6J("ngIf",i.label))},directives:[Sn,hi,At],encapsulation:2,changeDetection:0}),n})(),oI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii]]}),n})();const l_=["container"],aI=["inputfield"],B4=["contentWrapper"];function U4(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",7),c.NdJ("click",function(r){c.CHM(e),c.oxw();const s=c.MAs(1);return c.oxw().onButtonClick(r,s)}),c.qZA()}if(2&n){const e=c.oxw(2);c.Q6J("icon",e.icon)("disabled",e.disabled),c.uIk("aria-label",e.iconAriaLabel)}}function H4(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"input",4,5),c.NdJ("focus",function(r){return c.CHM(e),c.oxw().onInputFocus(r)})("keydown",function(r){return c.CHM(e),c.oxw().onInputKeydown(r)})("click",function(){return c.CHM(e),c.oxw().onInputClick()})("blur",function(r){return c.CHM(e),c.oxw().onInputBlur(r)})("input",function(r){return c.CHM(e),c.oxw().onUserInput(r)}),c.qZA(),c.YNc(2,U4,1,3,"button",6)}if(2&n){const e=c.oxw();c.Tol(e.inputStyleClass),c.Q6J("value",e.inputFieldValue)("readonly",e.readonlyInput)("ngStyle",e.inputStyle)("placeholder",e.placeholder||"")("disabled",e.disabled)("ngClass","p-inputtext p-component"),c.uIk("id",e.inputId)("name",e.name)("required",e.required)("aria-required",e.required)("tabindex",e.tabindex)("inputmode",e.touchUI?"off":null)("aria-labelledby",e.ariaLabelledBy),c.xp6(2),c.Q6J("ngIf",e.showIcon)}}function eP(n,t){1&n&&c.GkF(0)}function z4(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",27),c.NdJ("keydown",function(r){return c.CHM(e),c.oxw(4).onContainerButtonKeydown(r)})("click",function(r){return c.CHM(e),c.oxw(4).onPrevButtonClick(r)}),c._UZ(1,"span",28),c.qZA()}}function c_(n,t){if(1&n&&(c.TgZ(0,"span",29),c._uU(1),c.qZA()),2&n){const e=c.oxw().$implicit,i=c.oxw(3);c.xp6(1),c.Oqu(i.getTranslation("monthNames")[e.month])}}function tP(n,t){if(1&n&&(c.TgZ(0,"option",32),c._uU(1),c.qZA()),2&n){const e=t.$implicit,i=t.index,r=c.oxw(2).$implicit;c.Q6J("value",i)("selected",i===r.month),c.xp6(1),c.Oqu(e)}}function j4(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"select",30),c.NdJ("change",function(r){return c.CHM(e),c.oxw(4).onMonthDropdownChange(r.target.value)}),c.YNc(1,tP,2,3,"option",31),c.qZA()}if(2&n){const e=c.oxw(4);c.xp6(1),c.Q6J("ngForOf",e.getTranslation("monthNames"))}}function $4(n,t){if(1&n&&(c.TgZ(0,"option",32),c._uU(1),c.qZA()),2&n){const e=t.$implicit,i=c.oxw(5);c.Q6J("value",e)("selected",e===i.currentYear),c.xp6(1),c.Oqu(e)}}function Cw(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"select",33),c.NdJ("change",function(r){return c.CHM(e),c.oxw(4).onYearDropdownChange(r.target.value)}),c.YNc(1,$4,2,3,"option",31),c.qZA()}if(2&n){const e=c.oxw(4);c.xp6(1),c.Q6J("ngForOf",e.yearOptions)}}function nP(n,t){if(1&n&&(c.TgZ(0,"span",34),c._uU(1),c.qZA()),2&n){const e=c.oxw().$implicit,i=c.oxw(3);c.xp6(1),c.Oqu("month"===i.view?i.currentYear:e.year)}}function G4(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",35),c.NdJ("keydown",function(r){return c.CHM(e),c.oxw(4).onContainerButtonKeydown(r)})("click",function(r){return c.CHM(e),c.oxw(4).onNextButtonClick(r)}),c._UZ(1,"span",36),c.qZA()}}function W4(n,t){if(1&n&&(c.TgZ(0,"th",42),c.TgZ(1,"span"),c._uU(2),c.qZA(),c.qZA()),2&n){const e=c.oxw(5);c.xp6(2),c.Oqu(e.getTranslation("weekHeader"))}}function iP(n,t){if(1&n&&(c.TgZ(0,"th",43),c.TgZ(1,"span"),c._uU(2),c.qZA(),c.qZA()),2&n){const e=t.$implicit;c.xp6(2),c.Oqu(e)}}function q4(n,t){if(1&n&&(c.TgZ(0,"td",46),c.TgZ(1,"span",47),c._uU(2),c.qZA(),c.qZA()),2&n){const e=c.oxw().index,i=c.oxw(2).$implicit;c.xp6(2),c.hij(" ",i.weekNumbers[e]," ")}}function lI(n,t){if(1&n&&(c.ynx(0),c._uU(1),c.BQk()),2&n){const e=c.oxw(2).$implicit;c.xp6(1),c.Oqu(e.day)}}function rP(n,t){1&n&&c.GkF(0)}const sP=function(n,t){return{"p-highlight":n,"p-disabled":t}},K4=function(n){return{$implicit:n}};function oP(n,t){if(1&n){const e=c.EpF();c.ynx(0),c.TgZ(1,"span",49),c.NdJ("click",function(r){c.CHM(e);const s=c.oxw().$implicit;return c.oxw(6).onDateSelect(r,s)})("keydown",function(r){c.CHM(e);const s=c.oxw().$implicit,l=c.oxw(3).index;return c.oxw(3).onDateCellKeydown(r,s,l)}),c.YNc(2,lI,2,1,"ng-container",11),c.YNc(3,rP,1,0,"ng-container",50),c.qZA(),c.BQk()}if(2&n){const e=c.oxw().$implicit,i=c.oxw(6);c.xp6(1),c.Q6J("ngClass",c.WLB(4,sP,i.isSelected(e),!e.selectable)),c.xp6(1),c.Q6J("ngIf",!i.dateTemplate),c.xp6(1),c.Q6J("ngTemplateOutlet",i.dateTemplate)("ngTemplateOutletContext",c.VKq(7,K4,e))}}const rp=function(n,t){return{"p-datepicker-other-month":n,"p-datepicker-today":t}};function aP(n,t){if(1&n&&(c.TgZ(0,"td",48),c.YNc(1,oP,4,9,"ng-container",11),c.qZA()),2&n){const e=t.$implicit,i=c.oxw(6);c.Q6J("ngClass",c.WLB(2,rp,e.otherMonth,e.today)),c.xp6(1),c.Q6J("ngIf",!e.otherMonth||i.showOtherMonths)}}function lP(n,t){if(1&n&&(c.TgZ(0,"tr"),c.YNc(1,q4,3,1,"td",44),c.YNc(2,aP,2,5,"td",45),c.qZA()),2&n){const e=t.$implicit,i=c.oxw(5);c.xp6(1),c.Q6J("ngIf",i.showWeek),c.xp6(1),c.Q6J("ngForOf",e)}}function cP(n,t){if(1&n&&(c.TgZ(0,"div",37),c.TgZ(1,"table",38),c.TgZ(2,"thead"),c.TgZ(3,"tr"),c.YNc(4,W4,3,1,"th",39),c.YNc(5,iP,3,1,"th",40),c.qZA(),c.qZA(),c.TgZ(6,"tbody"),c.YNc(7,lP,3,2,"tr",41),c.qZA(),c.qZA(),c.qZA()),2&n){const e=c.oxw().$implicit,i=c.oxw(3);c.xp6(4),c.Q6J("ngIf",i.showWeek),c.xp6(1),c.Q6J("ngForOf",i.weekDays),c.xp6(2),c.Q6J("ngForOf",e.dates)}}function Ew(n,t){if(1&n&&(c.TgZ(0,"div",17),c.TgZ(1,"div",18),c.YNc(2,z4,2,0,"button",19),c.TgZ(3,"div",20),c.YNc(4,c_,2,1,"span",21),c.YNc(5,j4,2,1,"select",22),c.YNc(6,Cw,2,1,"select",23),c.YNc(7,nP,2,1,"span",24),c.qZA(),c.YNc(8,G4,2,0,"button",25),c.qZA(),c.YNc(9,cP,8,3,"div",26),c.qZA()),2&n){const e=t.index,i=c.oxw(3);c.xp6(2),c.Q6J("ngIf",0===e),c.xp6(2),c.Q6J("ngIf",!i.monthNavigator&&"month"!==i.view),c.xp6(1),c.Q6J("ngIf",i.monthNavigator&&"month"!==i.view&&1===i.numberOfMonths),c.xp6(1),c.Q6J("ngIf",i.yearNavigator&&1===i.numberOfMonths),c.xp6(1),c.Q6J("ngIf",!i.yearNavigator),c.xp6(1),c.Q6J("ngIf",1===i.numberOfMonths||e===i.numberOfMonths-1),c.xp6(1),c.Q6J("ngIf","date"===i.view)}}function uP(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"span",53),c.NdJ("click",function(r){const l=c.CHM(e).index;return c.oxw(4).onMonthSelect(r,l)})("keydown",function(r){const l=c.CHM(e).index;return c.oxw(4).onMonthCellKeydown(r,l)}),c._uU(1),c.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=c.oxw(4);c.Q6J("ngClass",c.WLB(2,sP,r.isMonthSelected(i),!r.isSelectable(1,i,r.currentYear,!1))),c.xp6(1),c.hij(" ",e," ")}}function Os(n,t){if(1&n&&(c.TgZ(0,"div",51),c.YNc(1,uP,2,5,"span",52),c.qZA()),2&n){const e=c.oxw(3);c.xp6(1),c.Q6J("ngForOf",e.monthPickerValues)}}function dP(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"div",14),c.YNc(2,Ew,10,7,"div",15),c.qZA(),c.YNc(3,Os,2,1,"div",16),c.BQk()),2&n){const e=c.oxw(2);c.xp6(2),c.Q6J("ngForOf",e.months),c.xp6(1),c.Q6J("ngIf","month"===e.view)}}function Tw(n,t){1&n&&(c.ynx(0),c._uU(1,"0"),c.BQk())}function hP(n,t){1&n&&(c.ynx(0),c._uU(1,"0"),c.BQk())}function fP(n,t){if(1&n&&(c.TgZ(0,"div",59),c.TgZ(1,"span"),c._uU(2),c.qZA(),c.qZA()),2&n){const e=c.oxw(3);c.xp6(2),c.Oqu(e.timeSeparator)}}function xw(n,t){1&n&&(c.ynx(0),c._uU(1,"0"),c.BQk())}function cI(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",64),c.TgZ(1,"button",56),c.NdJ("keydown",function(r){return c.CHM(e),c.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return c.CHM(e),c.oxw(3).incrementSecond(r)})("mousedown",function(r){return c.CHM(e),c.oxw(3).onTimePickerElementMouseDown(r,2,1)})("mouseup",function(r){return c.CHM(e),c.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return c.CHM(e),c.oxw(3).onTimePickerElementMouseLeave()}),c._UZ(2,"span",57),c.qZA(),c.TgZ(3,"span"),c.YNc(4,xw,2,0,"ng-container",11),c._uU(5),c.qZA(),c.TgZ(6,"button",56),c.NdJ("keydown",function(r){return c.CHM(e),c.oxw(3).onContainerButtonKeydown(r)})("keydown.enter",function(r){return c.CHM(e),c.oxw(3).decrementSecond(r)})("mousedown",function(r){return c.CHM(e),c.oxw(3).onTimePickerElementMouseDown(r,2,-1)})("mouseup",function(r){return c.CHM(e),c.oxw(3).onTimePickerElementMouseUp(r)})("mouseleave",function(){return c.CHM(e),c.oxw(3).onTimePickerElementMouseLeave()}),c._UZ(7,"span",58),c.qZA(),c.qZA()}if(2&n){const e=c.oxw(3);c.xp6(4),c.Q6J("ngIf",e.currentSecond<10),c.xp6(1),c.Oqu(e.currentSecond)}}function uI(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",65),c.TgZ(1,"button",66),c.NdJ("keydown",function(r){return c.CHM(e),c.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return c.CHM(e),c.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return c.CHM(e),c.oxw(3).toggleAMPM(r)}),c._UZ(2,"span",57),c.qZA(),c.TgZ(3,"span"),c._uU(4),c.qZA(),c.TgZ(5,"button",66),c.NdJ("keydown",function(r){return c.CHM(e),c.oxw(3).onContainerButtonKeydown(r)})("click",function(r){return c.CHM(e),c.oxw(3).toggleAMPM(r)})("keydown.enter",function(r){return c.CHM(e),c.oxw(3).toggleAMPM(r)}),c._UZ(6,"span",58),c.qZA(),c.qZA()}if(2&n){const e=c.oxw(3);c.xp6(4),c.Oqu(e.pm?"PM":"AM")}}function pP(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",54),c.TgZ(1,"div",55),c.TgZ(2,"button",56),c.NdJ("keydown",function(r){return c.CHM(e),c.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return c.CHM(e),c.oxw(2).incrementHour(r)})("mousedown",function(r){return c.CHM(e),c.oxw(2).onTimePickerElementMouseDown(r,0,1)})("mouseup",function(r){return c.CHM(e),c.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return c.CHM(e),c.oxw(2).onTimePickerElementMouseLeave()}),c._UZ(3,"span",57),c.qZA(),c.TgZ(4,"span"),c.YNc(5,Tw,2,0,"ng-container",11),c._uU(6),c.qZA(),c.TgZ(7,"button",56),c.NdJ("keydown",function(r){return c.CHM(e),c.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return c.CHM(e),c.oxw(2).decrementHour(r)})("mousedown",function(r){return c.CHM(e),c.oxw(2).onTimePickerElementMouseDown(r,0,-1)})("mouseup",function(r){return c.CHM(e),c.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return c.CHM(e),c.oxw(2).onTimePickerElementMouseLeave()}),c._UZ(8,"span",58),c.qZA(),c.qZA(),c.TgZ(9,"div",59),c.TgZ(10,"span"),c._uU(11),c.qZA(),c.qZA(),c.TgZ(12,"div",60),c.TgZ(13,"button",56),c.NdJ("keydown",function(r){return c.CHM(e),c.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return c.CHM(e),c.oxw(2).incrementMinute(r)})("mousedown",function(r){return c.CHM(e),c.oxw(2).onTimePickerElementMouseDown(r,1,1)})("mouseup",function(r){return c.CHM(e),c.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return c.CHM(e),c.oxw(2).onTimePickerElementMouseLeave()}),c._UZ(14,"span",57),c.qZA(),c.TgZ(15,"span"),c.YNc(16,hP,2,0,"ng-container",11),c._uU(17),c.qZA(),c.TgZ(18,"button",56),c.NdJ("keydown",function(r){return c.CHM(e),c.oxw(2).onContainerButtonKeydown(r)})("keydown.enter",function(r){return c.CHM(e),c.oxw(2).decrementMinute(r)})("mousedown",function(r){return c.CHM(e),c.oxw(2).onTimePickerElementMouseDown(r,1,-1)})("mouseup",function(r){return c.CHM(e),c.oxw(2).onTimePickerElementMouseUp(r)})("mouseleave",function(){return c.CHM(e),c.oxw(2).onTimePickerElementMouseLeave()}),c._UZ(19,"span",58),c.qZA(),c.qZA(),c.YNc(20,fP,3,1,"div",61),c.YNc(21,cI,8,2,"div",62),c.YNc(22,uI,7,1,"div",63),c.qZA()}if(2&n){const e=c.oxw(2);c.xp6(5),c.Q6J("ngIf",e.currentHour<10),c.xp6(1),c.Oqu(e.currentHour),c.xp6(5),c.Oqu(e.timeSeparator),c.xp6(5),c.Q6J("ngIf",e.currentMinute<10),c.xp6(1),c.Oqu(e.currentMinute),c.xp6(3),c.Q6J("ngIf",e.showSeconds),c.xp6(1),c.Q6J("ngIf",e.showSeconds),c.xp6(1),c.Q6J("ngIf","12"==e.hourFormat)}}const Dw=function(n){return[n]};function dI(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",67),c.TgZ(1,"button",68),c.NdJ("keydown",function(r){return c.CHM(e),c.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return c.CHM(e),c.oxw(2).onTodayButtonClick(r)}),c.qZA(),c.TgZ(2,"button",68),c.NdJ("keydown",function(r){return c.CHM(e),c.oxw(2).onContainerButtonKeydown(r)})("click",function(r){return c.CHM(e),c.oxw(2).onClearButtonClick(r)}),c.qZA(),c.qZA()}if(2&n){const e=c.oxw(2);c.xp6(1),c.Q6J("label",e.getTranslation("today"))("ngClass",c.VKq(4,Dw,e.todayButtonStyleClass)),c.xp6(1),c.Q6J("label",e.getTranslation("clear"))("ngClass",c.VKq(6,Dw,e.clearButtonStyleClass))}}function gP(n,t){1&n&&c.GkF(0)}const mP=function(n,t,e,i,r,s){return{"p-datepicker p-component":!0,"p-datepicker-inline":n,"p-disabled":t,"p-datepicker-timeonly":e,"p-datepicker-multiple-month":i,"p-datepicker-monthpicker":r,"p-datepicker-touch-ui":s}},u_=function(n,t){return{showTransitionParams:n,hideTransitionParams:t}},hI=function(n){return{value:"visibleTouchUI",params:n}},fI=function(n){return{value:"visible",params:n}};function Iw(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",8,9),c.NdJ("@overlayAnimation.start",function(r){return c.CHM(e),c.oxw().onOverlayAnimationStart(r)})("@overlayAnimation.done",function(r){return c.CHM(e),c.oxw().onOverlayAnimationDone(r)})("click",function(r){return c.CHM(e),c.oxw().onOverlayClick(r)}),c.Hsn(2),c.YNc(3,eP,1,0,"ng-container",10),c.YNc(4,dP,4,2,"ng-container",11),c.YNc(5,pP,23,8,"div",12),c.YNc(6,dI,3,8,"div",13),c.Hsn(7,1),c.YNc(8,gP,1,0,"ng-container",10),c.qZA()}if(2&n){const e=c.oxw();c.Tol(e.panelStyleClass),c.Q6J("ngStyle",e.panelStyle)("ngClass",c.HTZ(11,mP,e.inline,e.disabled,e.timeOnly,e.numberOfMonths>1,"month"===e.view,e.touchUI))("@overlayAnimation",e.touchUI?c.VKq(21,hI,c.WLB(18,u_,e.showTransitionOptions,e.hideTransitionOptions)):c.VKq(26,fI,c.WLB(23,u_,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",!0===e.inline),c.xp6(3),c.Q6J("ngTemplateOutlet",e.headerTemplate),c.xp6(1),c.Q6J("ngIf",!e.timeOnly),c.xp6(1),c.Q6J("ngIf",e.showTime||e.timeOnly),c.xp6(1),c.Q6J("ngIf",e.showButtonBar),c.xp6(2),c.Q6J("ngTemplateOutlet",e.footerTemplate)}}const _P=[[["p-header"]],[["p-footer"]]],bo=function(n,t,e,i){return{"p-calendar":!0,"p-calendar-w-btn":n,"p-calendar-timeonly":t,"p-calendar-disabled":e,"p-focus":i}},yP=["p-header","p-footer"],Y4={provide:Ki,useExisting:(0,c.Gpc)(()=>pI),multi:!0};let pI=(()=>{class n{constructor(e,i,r,s,l,d){this.el=e,this.renderer=i,this.cd=r,this.zone=s,this.config=l,this.overlayService=d,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.numberOfMonths=1,this.view="date",this.timeSeparator=":",this.focusTrap=!0,this.firstDayOfWeek=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new c.vpe,this.onBlur=new c.vpe,this.onClose=new c.vpe,this.onSelect=new c.vpe,this.onInput=new c.vpe,this.onTodayClick=new c.vpe,this.onClearClick=new c.vpe,this.onMonthChange=new c.vpe,this.onYearChange=new c.vpe,this.onClickOutside=new c.vpe,this.onShow=new c.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this.convertTo24Hour=function(f,g){return"12"==this.hourFormat?12===f?g?12:0:g?f+12:f:f}}set content(e){this.contentViewChild=e,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.initFocusableCell())}get defaultDate(){return this._defaultDate}set defaultDate(e){if(this._defaultDate=e,this.initialized){const i=e||new Date;this.currentMonth=i.getMonth(),this.currentYear=i.getFullYear(),this.initTime(i),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(e){this._minDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(e){this._disabledDates=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(e){this._disabledDays=e,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(e){if(this._yearRange=e,e){const i=e.split(":"),r=parseInt(i[0]),s=parseInt(i[1]);this.populateYearOptions(r,s)}}get showTime(){return this._showTime}set showTime(e){this._showTime=e,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}set locale(e){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){const e=this.defaultDate||new Date;this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),"date"===this.view?(this.createWeekDays(),this.initTime(e),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7):"month"===this.view&&this.createMonthPickerValues(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"date":default:this.dateTemplate=e.template;break;case"disabledDate":this.disabledDateTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}getTranslation(e){return this.config.getTranslation(e)}populateYearOptions(e,i){this.yearOptions=[];for(let r=e;r<=i;r++)this.yearOptions.push(r)}createWeekDays(){this.weekDays=[];let e=this.firstDayOfWeek,i=this.getTranslation(as.DAY_NAMES_MIN);for(let r=0;r<7;r++)this.weekDays.push(i[e]),e=6==e?0:++e}createMonthPickerValues(){this.monthPickerValues=[];let e=this.getTranslation(as.MONTH_NAMES_SHORT);for(let i=0;i<=11;i++)this.monthPickerValues.push(e[i])}createMonths(e,i){this.months=this.months=[];for(let r=0;r<this.numberOfMonths;r++){let s=e+r,l=i;s>11&&(s=s%11-1,l=i+1),this.months.push(this.createMonth(s,l))}}getWeekNumber(e){let i=new Date(e.getTime());i.setDate(i.getDate()+4-(i.getDay()||7));let r=i.getTime();return i.setMonth(0),i.setDate(1),Math.floor(Math.round((r-i.getTime())/864e5)/7)+1}createMonth(e,i){let r=[],s=this.getFirstDayOfMonthIndex(e,i),l=this.getDaysCountInMonth(e,i),d=this.getDaysCountInPrevMonth(e,i),f=1,g=new Date,_=[],b=Math.ceil((l+s)/7);for(let E=0;E<b;E++){let x=[];if(0==E){for(let k=d-s+1;k<=d;k++){let R=this.getPreviousMonthAndYear(e,i);x.push({day:k,month:R.month,year:R.year,otherMonth:!0,today:this.isToday(g,k,R.month,R.year),selectable:this.isSelectable(k,R.month,R.year,!0)})}let M=7-x.length;for(let k=0;k<M;k++)x.push({day:f,month:e,year:i,today:this.isToday(g,f,e,i),selectable:this.isSelectable(f,e,i,!1)}),f++}else for(let M=0;M<7;M++){if(f>l){let k=this.getNextMonthAndYear(e,i);x.push({day:f-l,month:k.month,year:k.year,otherMonth:!0,today:this.isToday(g,f-l,k.month,k.year),selectable:this.isSelectable(f-l,k.month,k.year,!0)})}else x.push({day:f,month:e,year:i,today:this.isToday(g,f,e,i),selectable:this.isSelectable(f,e,i,!1)});f++}this.showWeek&&_.push(this.getWeekNumber(new Date(x[0].year,x[0].month,x[0].day))),r.push(x)}return{month:e,year:i,dates:r,weekNumbers:_}}initTime(e){this.pm=e.getHours()>11,this.showTime?(this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds(),this.setCurrentHourPM(e.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(e){e.stopPropagation(),this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(e){e.stopPropagation(),this.disabled?e.preventDefault():(this.isMonthNavigate=!0,"month"===this.view?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-e,this.yearOptions[this.yearOptions.length-1]-e)}}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let e=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+e,this.yearOptions[this.yearOptions.length-1]+e)}}onDateSelect(e,i){!this.disabled&&i.selectable?(this.isMultipleSelection()&&this.isSelected(i)?(this.value=this.value.filter((r,s)=>!this.isDateEquals(r,i)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(i)&&this.selectDate(i),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{e.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),e.preventDefault()):e.preventDefault()}shouldSelectDate(e){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(e,i){me.hasClass(e.target,"p-disabled")||this.onDateSelect(e,{year:this.currentYear,month:i,day:1,selectable:!0})}updateInputfield(){let e="";if(this.value)if(this.isSingleSelection())e=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let i=0;i<this.value.length;i++)e+=this.formatDateTime(this.value[i]),i!==this.value.length-1&&(e+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let r=this.value[1];e=this.formatDateTime(this.value[0]),r&&(e+=" "+this.rangeSeparator+" "+this.formatDateTime(r))}this.inputFieldValue=e,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(e){let i=null;return e&&(this.timeOnly?i=this.formatTime(e):(i=this.formatDate(e,this.getDateFormat()),this.showTime&&(i+=" "+this.formatTime(e)))),i}setCurrentHourPM(e){"12"==this.hourFormat?(this.pm=e>11,this.currentHour=e>=12?12==e?12:e-12:0==e?12:e):this.currentHour=e}selectDate(e){let i=new Date(e.year,e.month,e.day);if(this.showTime&&(i.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),i.setMinutes(this.currentMinute),i.setSeconds(this.currentSecond)),this.minDate&&this.minDate>i&&(i=this.minDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.maxDate&&this.maxDate<i&&(i=this.maxDate,this.setCurrentHourPM(i.getHours()),this.currentMinute=i.getMinutes(),this.currentSecond=i.getSeconds()),this.isSingleSelection())this.updateModel(i);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,i]:[i]);else if(this.isRangeSelection())if(this.value&&this.value.length){let r=this.value[0],s=this.value[1];!s&&i.getTime()>=r.getTime()?s=i:(r=i,s=null),this.updateModel([r,s])}else this.updateModel([i,null]);this.onSelect.emit(i)}updateModel(e){if(this.value=e,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let i=null;this.value&&(i=this.value.map(r=>this.formatDateTime(r))),this.onModelChange(i)}}getFirstDayOfMonthIndex(e,i){let r=new Date;r.setDate(1),r.setMonth(e),r.setFullYear(i);let s=r.getDay()+this.getSundayIndex();return s>=7?s-7:s}getDaysCountInMonth(e,i){return 32-this.daylightSavingAdjust(new Date(i,e,32)).getDate()}getDaysCountInPrevMonth(e,i){let r=this.getPreviousMonthAndYear(e,i);return this.getDaysCountInMonth(r.month,r.year)}getPreviousMonthAndYear(e,i){let r,s;return 0===e?(r=11,s=i-1):(r=e-1,s=i),{month:r,year:s}}getNextMonthAndYear(e,i){let r,s;return 11===e?(r=0,s=i+1):(r=e+1,s=i),{month:r,year:s}}getSundayIndex(){return this.firstDayOfWeek>0?7-this.firstDayOfWeek:0}isSelected(e){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,e);if(this.isMultipleSelection()){let i=!1;for(let r of this.value)if(i=this.isDateEquals(r,e),i)break;return i}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],e)||this.isDateEquals(this.value[1],e)||this.isDateBetween(this.value[0],this.value[1],e):this.isDateEquals(this.value[0],e):void 0}isMonthSelected(e){let i=this.value?Array.isArray(this.value)?this.value[0].getDate():this.value.getDate():1;return this.isSelected({year:this.currentYear,month:e,day:i,selectable:!0})}isDateEquals(e,i){return!!e&&e.getDate()===i.day&&e.getMonth()===i.month&&e.getFullYear()===i.year}isDateBetween(e,i,r){if(e&&i){let l=new Date(r.year,r.month,r.day);return e.getTime()<=l.getTime()&&i.getTime()>=l.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(e,i,r,s){return e.getDate()===i&&e.getMonth()===r&&e.getFullYear()===s}isSelectable(e,i,r,s){let l=!0,d=!0,f=!0,g=!0;return!(s&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>r||this.minDate.getFullYear()===r&&(this.minDate.getMonth()>i||this.minDate.getMonth()===i&&this.minDate.getDate()>e))&&(l=!1),this.maxDate&&(this.maxDate.getFullYear()<r||this.maxDate.getFullYear()===r&&(this.maxDate.getMonth()<i||this.maxDate.getMonth()===i&&this.maxDate.getDate()<e))&&(d=!1),this.disabledDates&&(f=!this.isDateDisabled(e,i,r)),this.disabledDays&&(g=!this.isDayDisabled(e,i,r)),l&&d&&f&&g)}isDateDisabled(e,i,r){if(this.disabledDates)for(let s of this.disabledDates)if(s.getFullYear()===r&&s.getMonth()===i&&s.getDate()===e)return!0;return!1}isDayDisabled(e,i,r){if(this.disabledDays){let l=new Date(r,i,e).getDay();return-1!==this.disabledDays.indexOf(l)}return!1}onInputFocus(e){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(e)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(e){this.focus=!1,this.onBlur.emit(e),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(e,i){this.overlayVisible?this.hideOverlay():(i.focus(),this.showOverlay())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onPrevButtonClick(e){this.navigationState={backward:!0,button:!0},this.navBackward(e)}onNextButtonClick(e){this.navigationState={backward:!1,button:!0},this.navForward(e)}onContainerButtonKeydown(e){switch(e.which){case 9:this.inline||this.trapFocus(e);break;case 27:this.overlayVisible=!1,e.preventDefault()}}onInputKeydown(e){this.isKeydown=!0,40===e.keyCode&&this.contentViewChild?this.trapFocus(e):27===e.keyCode||13===e.keyCode?this.overlayVisible&&(this.overlayVisible=!1,e.preventDefault()):9===e.keyCode&&this.contentViewChild&&(me.getFocusableElements(this.contentViewChild.nativeElement).forEach(i=>i.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(e,i,r){const s=e.currentTarget,l=s.parentElement;switch(e.which){case 40:{s.tabIndex="-1";let d=me.index(l),f=l.parentElement.nextElementSibling;f?me.hasClass(f.children[d].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(e)):(f.children[d].children[0].tabIndex="0",f.children[d].children[0].focus()):(this.navigationState={backward:!1},this.navForward(e)),e.preventDefault();break}case 38:{s.tabIndex="-1";let d=me.index(l),f=l.parentElement.previousElementSibling;if(f){let g=f.children[d].children[0];me.hasClass(g,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(e)):(g.tabIndex="0",g.focus())}else this.navigationState={backward:!0},this.navBackward(e);e.preventDefault();break}case 37:{s.tabIndex="-1";let d=l.previousElementSibling;if(d){let f=d.children[0];me.hasClass(f,"p-disabled")||me.hasClass(f.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,r):(f.tabIndex="0",f.focus())}else this.navigateToMonth(!0,r);e.preventDefault();break}case 39:{s.tabIndex="-1";let d=l.nextElementSibling;if(d){let f=d.children[0];me.hasClass(f,"p-disabled")?this.navigateToMonth(!1,r):(f.tabIndex="0",f.focus())}else this.navigateToMonth(!1,r);e.preventDefault();break}case 13:this.onDateSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}onMonthCellKeydown(e,i){const r=e.currentTarget;switch(e.which){case 38:case 40:{r.tabIndex="-1";var s=r.parentElement.children,l=me.index(r);let d=s[40===e.which?l+3:l-3];d&&(d.tabIndex="0",d.focus()),e.preventDefault();break}case 37:{r.tabIndex="-1";let d=r.previousElementSibling;d&&(d.tabIndex="0",d.focus()),e.preventDefault();break}case 39:{r.tabIndex="-1";let d=r.nextElementSibling;d&&(d.tabIndex="0",d.focus()),e.preventDefault();break}case 13:this.onMonthSelect(e,i),e.preventDefault();break;case 27:this.overlayVisible=!1,e.preventDefault();break;case 9:this.inline||this.trapFocus(e)}}navigateToMonth(e,i){if(e)if(1===this.numberOfMonths||0===i)this.navigationState={backward:!0},this.navBackward(event);else{let s=me.find(this.contentViewChild.nativeElement.children[i-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),l=s[s.length-1];l.tabIndex="0",l.focus()}else if(1===this.numberOfMonths||i===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let s=me.findSingle(this.contentViewChild.nativeElement.children[i+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");s.tabIndex="0",s.focus()}}updateFocus(){let e;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?me.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():me.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let i=me.find(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e=i[i.length-1]}else e=me.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");e&&(e.tabIndex="0",e.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let e;if("month"===this.view){let i=me.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),r=me.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");i.forEach(s=>s.tabIndex=-1),e=r||i[0],0===i.length&&me.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(l=>l.tabIndex=-1)}else if(e=me.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!e){e=me.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)")||me.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}e&&(e.tabIndex="0")}trapFocus(e){let i=me.getFocusableElements(this.contentViewChild.nativeElement);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);if(e.shiftKey)if(-1==r||0===r)if(this.focusTrap)i[i.length-1].focus();else{if(-1===r)return this.hideOverlay();if(0===r)return}else i[r-1].focus();else if(-1==r||r===i.length-1){if(!this.focusTrap&&-1!=r)return this.hideOverlay();i[0].focus()}else i[r+1].focus()}else i[0].focus();e.preventDefault()}onMonthDropdownChange(e){this.currentMonth=parseInt(e),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(e){this.currentYear=parseInt(e),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(e,i,r,s){let l=this.value;const d=this.convertTo24Hour(e,s);this.isRangeSelection()&&(l=this.value[1]||this.value[0]),this.isMultipleSelection()&&(l=this.value[this.value.length-1]);const f=l?l.toDateString():null;return!(this.minDate&&f&&this.minDate.toDateString()===f&&(this.minDate.getHours()>d||this.minDate.getHours()===d&&(this.minDate.getMinutes()>i||this.minDate.getMinutes()===i&&this.minDate.getSeconds()>r))||this.maxDate&&f&&this.maxDate.toDateString()===f&&(this.maxDate.getHours()<d||this.maxDate.getHours()===d&&(this.maxDate.getMinutes()<i||this.maxDate.getMinutes()===i&&this.maxDate.getSeconds()<r)))}incrementHour(e){let r=this.currentHour+this.stepHour,s=this.pm;"24"==this.hourFormat?r=r>=24?r-24:r:"12"==this.hourFormat&&(this.currentHour<12&&r>11&&(s=!this.pm),r=r>=13?r-12:r),this.validateTime(r,this.currentMinute,this.currentSecond,s)&&(this.currentHour=r,this.pm=s),e.preventDefault()}onTimePickerElementMouseDown(e,i,r){this.disabled||(this.repeat(e,null,i,r),e.preventDefault())}onTimePickerElementMouseUp(e){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(e,i,r,s){let l=i||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(e,100,r,s),this.cd.markForCheck()},l),r){case 0:1===s?this.incrementHour(e):this.decrementHour(e);break;case 1:1===s?this.incrementMinute(e):this.decrementMinute(e);break;case 2:1===s?this.incrementSecond(e):this.decrementSecond(e)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(e){let i=this.currentHour-this.stepHour,r=this.pm;"24"==this.hourFormat?i=i<0?24+i:i:"12"==this.hourFormat&&(12===this.currentHour&&(r=!this.pm),i=i<=0?12+i:i),this.validateTime(i,this.currentMinute,this.currentSecond,r)&&(this.currentHour=i,this.pm=r),e.preventDefault()}incrementMinute(e){let i=this.currentMinute+this.stepMinute;i=i>59?i-60:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}decrementMinute(e){let i=this.currentMinute-this.stepMinute;i=i<0?60+i:i,this.validateTime(this.currentHour,i,this.currentSecond,this.pm)&&(this.currentMinute=i),e.preventDefault()}incrementSecond(e){let i=this.currentSecond+this.stepSecond;i=i>59?i-60:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}decrementSecond(e){let i=this.currentSecond-this.stepSecond;i=i<0?60+i:i,this.validateTime(this.currentHour,this.currentMinute,i,this.pm)&&(this.currentSecond=i),e.preventDefault()}updateTime(){let e=this.value;this.isRangeSelection()&&(e=this.value[1]||this.value[0]),this.isMultipleSelection()&&(e=this.value[this.value.length-1]),e=e?new Date(e.getTime()):new Date,e.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),e.setMinutes(this.currentMinute),e.setSeconds(this.currentSecond),this.isRangeSelection()&&(e=this.value[1]?[this.value[0],e]:[e,null]),this.isMultipleSelection()&&(e=[...this.value.slice(0,-1),e]),this.updateModel(e),this.onSelect.emit(e),this.updateInputfield()}toggleAMPM(e){const i=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,i)&&(this.pm=i,this.updateTime()),e.preventDefault()}onUserInput(e){if(!this.isKeydown)return;this.isKeydown=!1;let i=e.target.value;try{let r=this.parseValueFromString(i);this.isValidSelection(r)&&(this.updateModel(r),this.updateUI())}catch(r){this.updateModel(null)}this.filled=null!=i&&i.length,this.onInput.emit(e)}isValidSelection(e){let i=!0;return this.isSingleSelection()?this.isSelectable(e.getDate(),e.getMonth(),e.getFullYear(),!1)||(i=!1):e.every(r=>this.isSelectable(r.getDate(),r.getMonth(),r.getFullYear(),!1))&&this.isRangeSelection()&&(i=e.length>1&&e[1]>e[0]),i}parseValueFromString(e){if(!e||0===e.trim().length)return null;let i;if(this.isSingleSelection())i=this.parseDateTime(e);else if(this.isMultipleSelection()){let r=e.split(this.multipleSeparator);i=[];for(let s of r)i.push(this.parseDateTime(s.trim()))}else if(this.isRangeSelection()){let r=e.split(" "+this.rangeSeparator+" ");i=[];for(let s=0;s<r.length;s++)i[s]=this.parseDateTime(r[s].trim())}return i}parseDateTime(e){let i,r=e.split(" ");if(this.timeOnly)i=new Date,this.populateTime(i,r[0],r[1]);else{const s=this.getDateFormat();if(this.showTime){let l="12"==this.hourFormat?r.pop():null,d=r.pop();i=this.parseDate(r.join(" "),s),this.populateTime(i,d,l)}else i=this.parseDate(e,s)}return i}populateTime(e,i,r){if("12"==this.hourFormat&&!r)throw"Invalid Time";this.pm="PM"===r||"pm"===r;let s=this.parseTime(i);e.setHours(s.hour),e.setMinutes(s.minute),e.setSeconds(s.second)}updateUI(){let e=this.value||this.defaultDate||new Date;Array.isArray(e)&&(e=e[0]),this.currentMonth=e.getMonth(),this.currentYear=e.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(e.getHours()),this.currentMinute=e.getMinutes(),this.currentSecond=e.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=e.element,this.appendOverlay(),this.autoZIndex&&(this.touchUI?Er.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Er.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(e));break;case"void":this.onOverlayHide(),this.onClose.emit(e)}}onOverlayAnimationDone(e){switch(e.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Er.clear(e.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):me.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.appendTo?me.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement):me.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement)}enableModality(e){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(e.style.zIndex)-1),me.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",r=>{this.disableModality()}),document.body.appendChild(this.mask),me.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(me.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){document.body.removeChild(this.mask);let i,e=document.body.children;for(let r=0;r<e.length;r++)if(me.hasClass(e[r],"p-datepicker-mask-scrollblocker")){i=!0;break}i||me.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(e){this.value=e,this.value&&"string"==typeof this.value&&(this.value=this.parseValueFromString(this.value)),this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}formatDate(e,i){if(!e)return"";let r;const s=_=>{const b=r+1<i.length&&i.charAt(r+1)===_;return b&&r++,b},l=(_,b,E)=>{let x=""+b;if(s(_))for(;x.length<E;)x="0"+x;return x},d=(_,b,E,x)=>s(_)?x[b]:E[b];let f="",g=!1;if(e)for(r=0;r<i.length;r++)if(g)"'"!==i.charAt(r)||s("'")?f+=i.charAt(r):g=!1;else switch(i.charAt(r)){case"d":f+=l("d",e.getDate(),2);break;case"D":f+=d("D",e.getDay(),this.getTranslation(as.DAY_NAMES_SHORT),this.getTranslation(as.DAY_NAMES));break;case"o":f+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":f+=l("m",e.getMonth()+1,2);break;case"M":f+=d("M",e.getMonth(),this.getTranslation(as.MONTH_NAMES_SHORT),this.getTranslation(as.MONTH_NAMES));break;case"y":f+=s("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":f+=e.getTime();break;case"!":f+=1e4*e.getTime()+this.ticksTo1970;break;case"'":s("'")?f+="'":g=!0;break;default:f+=i.charAt(r)}return f}formatTime(e){if(!e)return"";let i="",r=e.getHours(),s=e.getMinutes(),l=e.getSeconds();return"12"==this.hourFormat&&r>11&&12!=r&&(r-=12),i+="12"==this.hourFormat&&0===r?12:r<10?"0"+r:r,i+=":",i+=s<10?"0"+s:s,this.showSeconds&&(i+=":",i+=l<10?"0"+l:l),"12"==this.hourFormat&&(i+=e.getHours()>11?" PM":" AM"),i}parseTime(e){let i=e.split(":");if(i.length!==(this.showSeconds?3:2))throw"Invalid time";let s=parseInt(i[0]),l=parseInt(i[1]),d=this.showSeconds?parseInt(i[2]):null;if(isNaN(s)||isNaN(l)||s>23||l>59||"12"==this.hourFormat&&s>12||this.showSeconds&&(isNaN(d)||d>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==s&&this.pm?s+=12:!this.pm&&12===s&&(s-=12)),{hour:s,minute:l,second:d}}parseDate(e,i){if(null==i||null==e)throw"Invalid arguments";if(""===(e="object"==typeof e?e.toString():e+""))return null;let r,s,l,M,d=0,f="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),g=-1,_=-1,b=-1,E=-1,x=!1,k=Q=>{let ce=r+1<i.length&&i.charAt(r+1)===Q;return ce&&r++,ce},R=Q=>{let ce=k(Q),de="@"===Q?14:"!"===Q?20:"y"===Q&&ce?4:"o"===Q?3:2,xe=new RegExp("^\\d{"+("y"===Q?de:1)+","+de+"}"),Ae=e.substring(d).match(xe);if(!Ae)throw"Missing number at position "+d;return d+=Ae[0].length,parseInt(Ae[0],10)},B=(Q,ce,de)=>{let Ce=-1,xe=k(Q)?de:ce,Ae=[];for(let Le=0;Le<xe.length;Le++)Ae.push([Le,xe[Le]]);Ae.sort((Le,ot)=>-(Le[1].length-ot[1].length));for(let Le=0;Le<Ae.length;Le++){let ot=Ae[Le][1];if(e.substr(d,ot.length).toLowerCase()===ot.toLowerCase()){Ce=Ae[Le][0],d+=ot.length;break}}if(-1!==Ce)return Ce+1;throw"Unknown name at position "+d},G=()=>{if(e.charAt(d)!==i.charAt(r))throw"Unexpected literal at position "+d;d++};for("month"===this.view&&(b=1),r=0;r<i.length;r++)if(x)"'"!==i.charAt(r)||k("'")?G():x=!1;else switch(i.charAt(r)){case"d":b=R("d");break;case"D":B("D",this.getTranslation(as.DAY_NAMES_SHORT),this.getTranslation(as.DAY_NAMES));break;case"o":E=R("o");break;case"m":_=R("m");break;case"M":_=B("M",this.getTranslation(as.MONTH_NAMES_SHORT),this.getTranslation(as.MONTH_NAMES));break;case"y":g=R("y");break;case"@":M=new Date(R("@")),g=M.getFullYear(),_=M.getMonth()+1,b=M.getDate();break;case"!":M=new Date((R("!")-this.ticksTo1970)/1e4),g=M.getFullYear(),_=M.getMonth()+1,b=M.getDate();break;case"'":k("'")?G():x=!0;break;default:G()}if(d<e.length&&(l=e.substr(d),!/^\s+/.test(l)))throw"Extra/unparsed characters found in date: "+l;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=f?0:-100)),E>-1)for(_=1,b=E;s=this.getDaysCountInMonth(g,_-1),!(b<=s);)_++,b-=s;if(M=this.daylightSavingAdjust(new Date(g,_-1,b)),M.getFullYear()!==g||M.getMonth()+1!==_||M.getDate()!==b)throw"Invalid date";return M}daylightSavingAdjust(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(e){let i=new Date,r={day:i.getDate(),month:i.getMonth(),year:i.getFullYear(),otherMonth:i.getMonth()!==this.currentMonth||i.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(e,r),this.onTodayClick.emit(e)}onClearButtonClick(e){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(e)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",i=>{this.isOutsideClicked(i)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(i),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Sb(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(e){return!(this.el.nativeElement.isSameNode(e.target)||this.isNavIconClicked(e)||this.el.nativeElement.contains(e.target)||this.overlay&&this.overlay.contains(e.target))}isNavIconClicked(e){return me.hasClass(e.target,"p-datepicker-prev")||me.hasClass(e.target,"p-datepicker-prev-icon")||me.hasClass(e.target,"p-datepicker-next")||me.hasClass(e.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!me.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Er.clear(this.overlay),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Bl),c.Y36(kb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-calendar"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,Jc,4),2&e){let s;c.iGM(s=c.CRH())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(c.Gf(l_,5),c.Gf(aI,5),c.Gf(B4,5)),2&e){let r;c.iGM(r=c.CRH())&&(i.containerViewChild=r.first),c.iGM(r=c.CRH())&&(i.inputfieldViewChild=r.first),c.iGM(r=c.CRH())&&(i.content=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(e,i){2&e&&c.ekj("p-inputwrapper-filled",i.filled)("p-inputwrapper-focus",i.focus)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",numberOfMonths:"numberOfMonths",view:"view",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",firstDayOfWeek:"firstDayOfWeek",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[c._Bn([Y4])],ngContentSelectors:yP,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["class","p-datepicker-month",4,"ngIf"],["tabindex","0","class","p-datepicker-month",3,"change",4,"ngIf"],["tabindex","0","class","p-datepicker-year",3,"change",4,"ngIf"],["class","p-datepicker-year",4,"ngIf"],["class","p-datepicker-next p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],[1,"p-datepicker-month"],["tabindex","0",1,"p-datepicker-month",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["tabindex","0",1,"p-datepicker-year",3,"change"],[1,"p-datepicker-year"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","mousedown","mouseup","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(e,i){1&e&&(c.F$t(_P),c.TgZ(0,"span",0,1),c.YNc(2,H4,3,16,"ng-template",2),c.YNc(3,Iw,9,28,"div",3),c.qZA()),2&e&&(c.Tol(i.styleClass),c.Q6J("ngClass",c.l5B(6,bo,i.showIcon,i.timeOnly,i.disabled,i.focus))("ngStyle",i.style),c.xp6(2),c.Q6J("ngIf",!i.inline),c.xp6(1),c.Q6J("ngIf",i.inline||i.overlayVisible))},directives:[hi,Sn,At,NR,Ul,Kn,Es],styles:[".p-calendar{position:relative;display:inline-flex}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{position:static}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-next,.p-datepicker-prev{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;margin:0 auto}.p-datepicker td>span,.p-monthpicker-month{justify-content:center;align-items:center;cursor:pointer;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker,.p-timepicker button{display:flex;justify-content:center;align-items:center}.p-timepicker button{cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-calendar .p-datepicker-touch-ui,.p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}"],encapsulation:2,data:{animation:[po("overlayAnimation",[jc("visibleTouchUI",oi({transform:"translate(-50%,-50%)",opacity:1})),Cr("void => visible",[oi({opacity:0,transform:"scaleY(0.8)"}),Is("{{showTransitionParams}}",oi({opacity:1,transform:"*"}))]),Cr("visible => void",[Is("{{hideTransitionParams}}",oi({opacity:0}))]),Cr("void => visibleTouchUI",[oi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),Is("{{showTransitionParams}}")]),Cr("visibleTouchUI => void",[Is("{{hideTransitionParams}}",oi({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),n})(),gI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii,Xc,Ms,Fa],Xc,Ms]}),n})();const vP=["container"],bP=["resizeHelper"],wP=["reorderIndicatorUp"],Z4=["reorderIndicatorDown"],CP=["wrapper"],mI=["table"],EP=["tableHeader"];function TP(n,t){if(1&n&&(c.TgZ(0,"div",14),c._UZ(1,"i"),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Tol("p-datatable-loading-icon pi-spin "+e.loadingIcon)}}function _I(n,t){1&n&&c.GkF(0)}function xP(n,t){if(1&n&&(c.TgZ(0,"div",15),c.YNc(1,_I,1,0,"ng-container",16),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",e.captionTemplate)}}function Q4(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"p-paginator",17),c.NdJ("onPageChange",function(r){return c.CHM(e),c.oxw().onPageChange(r)}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function yI(n,t){1&n&&c.GkF(0)}function vI(n,t){1&n&&c.GkF(0)}function DP(n,t){if(1&n&&c._UZ(0,"tbody",25),2&n){const e=c.oxw(2);c.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.frozenBodyTemplate)("frozen",!0)}}function IP(n,t){1&n&&c.GkF(0)}const Ua=function(n){return{$implicit:n}};function sp(n,t){if(1&n&&(c.TgZ(0,"tfoot",26),c.YNc(1,IP,1,0,"ng-container",20),c.qZA()),2&n){const e=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",c.VKq(2,Ua,e.columns))}}function Sw(n,t){if(1&n&&(c.TgZ(0,"table",18,19),c.YNc(2,yI,1,0,"ng-container",20),c.TgZ(3,"thead",21),c.YNc(4,vI,1,0,"ng-container",20),c.qZA(),c.YNc(5,DP,1,5,"tbody",22),c._UZ(6,"tbody",23),c.YNc(7,sp,2,4,"tfoot",24),c.qZA()),2&n){const e=c.oxw();c.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),c.uIk("id",e.id+"-table"),c.xp6(2),c.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",c.VKq(12,Ua,e.columns)),c.xp6(2),c.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",c.VKq(14,Ua,e.columns)),c.xp6(1),c.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),c.xp6(1),c.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),c.xp6(1),c.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function bI(n,t){1&n&&c.GkF(0)}function SP(n,t){1&n&&c.GkF(0)}function AP(n,t){if(1&n&&c._UZ(0,"tbody",25),2&n){const e=c.oxw(2);c.Q6J("value",e.frozenValue)("frozenRows",!0)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate)("frozen",!0)}}function J4(n,t){1&n&&c.GkF(0)}function X4(n,t){if(1&n&&(c.TgZ(0,"tfoot",26),c.YNc(1,J4,1,0,"ng-container",20),c.qZA()),2&n){const e=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",e.footerGroupedTemplate||e.footerTemplate)("ngTemplateOutletContext",c.VKq(2,Ua,e.columns))}}function e6(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"cdk-virtual-scroll-viewport",27),c.NdJ("scrolledIndexChange",function(r){return c.CHM(e),c.oxw().onScrollIndexChange(r)}),c.TgZ(1,"table",18,19),c.YNc(3,bI,1,0,"ng-container",20),c.TgZ(4,"thead",21,28),c.YNc(6,SP,1,0,"ng-container",20),c.qZA(),c.YNc(7,AP,1,5,"tbody",22),c._UZ(8,"tbody",23),c.YNc(9,X4,2,4,"tfoot",24),c.qZA(),c.qZA()}if(2&n){const e=c.oxw();c.Udp("height","flex"!==e.scrollHeight?e.scrollHeight:void 0),c.Q6J("itemSize",e.virtualRowHeight)("minBufferPx",e.minBufferPx)("maxBufferPx",e.maxBufferPx),c.xp6(1),c.Q6J("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),c.uIk("id",e.id+"-table"),c.xp6(2),c.Q6J("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",c.VKq(17,Ua,e.columns)),c.xp6(3),c.Q6J("ngTemplateOutlet",e.headerGroupedTemplate||e.headerTemplate)("ngTemplateOutletContext",c.VKq(19,Ua,e.columns)),c.xp6(1),c.Q6J("ngIf",e.frozenValue||e.frozenBodyTemplate),c.xp6(1),c.Q6J("value",e.dataToRender)("pTableBody",e.columns)("pTableBodyTemplate",e.bodyTemplate),c.xp6(1),c.Q6J("ngIf",e.footerGroupedTemplate||e.footerTemplate)}}function wI(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"p-paginator",29),c.NdJ("onPageChange",function(r){return c.CHM(e),c.oxw().onPageChange(r)}),c.qZA()}if(2&n){const e=c.oxw();c.Q6J("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("dropdownScrollHeight",e.paginatorDropdownScrollHeight)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showJumpToPageInput",e.showJumpToPageInput)("showPageLinks",e.showPageLinks)}}function CI(n,t){1&n&&c.GkF(0)}function MP(n,t){if(1&n&&(c.TgZ(0,"div",30),c.YNc(1,CI,1,0,"ng-container",16),c.qZA()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",e.summaryTemplate)}}function kP(n,t){1&n&&c._UZ(0,"div",31,32)}function RP(n,t){1&n&&c._UZ(0,"span",33,34)}function OP(n,t){1&n&&c._UZ(0,"span",35,36)}const EI=function(n,t,e,i,r,s,l,d,f,g,_,b,E,x){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":n,"p-datatable-auto-layout":t,"p-datatable-resizable":e,"p-datatable-resizable-fit":i,"p-datatable-scrollable":r,"p-datatable-scrollable-vertical":s,"p-datatable-scrollable-horizontal":l,"p-datatable-scrollable-both":d,"p-datatable-flex-scrollable":f,"p-datatable-responsive-stack":g,"p-datatable-responsive-scroll":_,"p-datatable-responsive":b,"p-datatable-grouped-header":E,"p-datatable-grouped-footer":x}},t6=function(n){return{height:n}},n6=["pTableBody",""];function PP(n,t){1&n&&c.GkF(0)}const $d=function(n,t,e,i,r){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r}};function Yi(n,t){if(1&n&&(c.ynx(0,3),c.YNc(1,PP,1,0,"ng-container",4),c.BQk()),2&n){const e=c.oxw(),i=e.$implicit,r=e.index,s=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",s.dt.groupHeaderTemplate)("ngTemplateOutletContext",c.qbA(2,$d,i,s.dt.paginator?s.dt.first+r:r,s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function r6(n,t){1&n&&c.GkF(0)}function TI(n,t){if(1&n&&(c.ynx(0),c.YNc(1,r6,1,0,"ng-container",4),c.BQk()),2&n){const e=c.oxw(),i=e.$implicit,r=e.index,s=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",s.template)("ngTemplateOutletContext",c.qbA(2,$d,i,s.dt.paginator?s.dt.first+r:r,s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function xI(n,t){1&n&&c.GkF(0)}const FP=function(n,t,e,i,r,s,l){return{$implicit:n,rowIndex:t,columns:e,editing:i,frozen:r,rowgroup:s,rowspan:l}};function d_(n,t){if(1&n&&(c.ynx(0),c.YNc(1,xI,1,0,"ng-container",4),c.BQk()),2&n){const e=c.oxw(),i=e.$implicit,r=e.index,s=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",s.template)("ngTemplateOutletContext",c.Hh0(2,FP,i,s.dt.paginator?s.dt.first+r:r,s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen,s.shouldRenderRowspan(s.value,i,r),s.calculateRowGroupSize(s.value,i,r)))}}function NP(n,t){1&n&&c.GkF(0)}function LP(n,t){if(1&n&&(c.ynx(0,3),c.YNc(1,NP,1,0,"ng-container",4),c.BQk()),2&n){const e=c.oxw(),i=e.$implicit,r=e.index,s=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",s.dt.groupFooterTemplate)("ngTemplateOutletContext",c.qbA(2,$d,i,s.dt.paginator?s.dt.first+r:r,s.columns,"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function DI(n,t){if(1&n&&(c.YNc(0,Yi,2,8,"ng-container",2),c.YNc(1,TI,2,8,"ng-container",0),c.YNc(2,d_,2,10,"ng-container",0),c.YNc(3,LP,2,8,"ng-container",2)),2&n){const e=t.$implicit,i=t.index,r=c.oxw(2);c.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),c.xp6(1),c.Q6J("ngIf","rowspan"!==r.dt.rowGroupMode),c.xp6(1),c.Q6J("ngIf","rowspan"===r.dt.rowGroupMode),c.xp6(1),c.Q6J("ngIf",r.dt.groupFooterTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupFooter(r.value,e,i))}}function lu(n,t){if(1&n&&(c.ynx(0),c.YNc(1,DI,4,4,"ng-template",1),c.BQk()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function II(n,t){1&n&&c.GkF(0)}function Aw(n,t){if(1&n&&c.YNc(0,II,1,0,"ng-container",4),2&n){const e=t.$implicit,i=t.index,r=c.oxw(2);c.Q6J("ngTemplateOutlet",e?r.template:r.dt.loadingBodyTemplate)("ngTemplateOutletContext",c.qbA(2,$d,e,r.dt.paginator?r.dt.first+i:i,r.columns,"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen))}}function Mw(n,t){if(1&n&&(c.ynx(0),c.YNc(1,Aw,1,8,"ng-template",5),c.BQk()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("cdkVirtualForOf",e.value)("cdkVirtualForTrackBy",e.dt.rowTrackBy)("cdkVirtualForTemplateCacheSize",0)}}function VP(n,t){1&n&&c.GkF(0)}const cu=function(n,t,e,i,r,s){return{$implicit:n,rowIndex:t,columns:e,expanded:i,editing:r,frozen:s}};function BP(n,t){if(1&n&&(c.ynx(0),c.YNc(1,VP,1,0,"ng-container",4),c.BQk()),2&n){const e=c.oxw(),i=e.$implicit,r=e.index,s=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",s.template)("ngTemplateOutletContext",c.HTZ(2,cu,i,s.dt.paginator?s.dt.first+r:r,s.columns,s.dt.isRowExpanded(i),"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function kw(n,t){1&n&&c.GkF(0)}function SI(n,t){if(1&n&&(c.ynx(0,3),c.YNc(1,kw,1,0,"ng-container",4),c.BQk()),2&n){const e=c.oxw(),i=e.$implicit,r=e.index,s=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",s.dt.groupHeaderTemplate)("ngTemplateOutletContext",c.HTZ(2,cu,i,s.dt.paginator?s.dt.first+r:r,s.columns,s.dt.isRowExpanded(i),"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}function Zi(n,t){1&n&&c.GkF(0)}function s6(n,t){1&n&&c.GkF(0)}function UP(n,t){if(1&n&&(c.ynx(0,3),c.YNc(1,s6,1,0,"ng-container",4),c.BQk()),2&n){const e=c.oxw(2),i=e.$implicit,r=e.index,s=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",s.dt.groupFooterTemplate)("ngTemplateOutletContext",c.HTZ(2,cu,i,s.dt.paginator?s.dt.first+r:r,s.columns,s.dt.isRowExpanded(i),"row"===s.dt.editMode&&s.dt.isRowEditing(i),s.frozen))}}const AI=function(n,t,e,i){return{$implicit:n,rowIndex:t,columns:e,frozen:i}};function o6(n,t){if(1&n&&(c.ynx(0),c.YNc(1,Zi,1,0,"ng-container",4),c.YNc(2,UP,2,9,"ng-container",2),c.BQk()),2&n){const e=c.oxw(),i=e.$implicit,r=e.index,s=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",s.dt.expandedRowTemplate)("ngTemplateOutletContext",c.l5B(3,AI,i,s.dt.paginator?s.dt.first+r:r,s.columns,s.frozen)),c.xp6(1),c.Q6J("ngIf",s.dt.groupFooterTemplate&&"subheader"===s.dt.rowGroupMode&&s.shouldRenderRowGroupFooter(s.value,i,r))}}function h_(n,t){if(1&n&&(c.YNc(0,BP,2,9,"ng-container",0),c.YNc(1,SI,2,9,"ng-container",2),c.YNc(2,o6,3,8,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=c.oxw(2);c.Q6J("ngIf",!r.dt.groupHeaderTemplate),c.xp6(1),c.Q6J("ngIf",r.dt.groupHeaderTemplate&&"subheader"===r.dt.rowGroupMode&&r.shouldRenderRowGroupHeader(r.value,e,i)),c.xp6(1),c.Q6J("ngIf",r.dt.isRowExpanded(e))}}function HP(n,t){if(1&n&&(c.ynx(0),c.YNc(1,h_,3,3,"ng-template",1),c.BQk()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function a6(n,t){1&n&&c.GkF(0)}function l6(n,t){1&n&&c.GkF(0)}function c6(n,t){if(1&n&&(c.ynx(0),c.YNc(1,l6,1,0,"ng-container",4),c.BQk()),2&n){const e=c.oxw(),i=e.$implicit,r=e.index,s=c.oxw(2);c.xp6(1),c.Q6J("ngTemplateOutlet",s.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",c.l5B(2,AI,i,s.dt.paginator?s.dt.first+r:r,s.columns,s.frozen))}}function zP(n,t){if(1&n&&(c.YNc(0,a6,1,0,"ng-container",4),c.YNc(1,c6,2,7,"ng-container",0)),2&n){const e=t.$implicit,i=t.index,r=c.oxw(2);c.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",c.HTZ(3,cu,e,r.dt.paginator?r.dt.first+i:i,r.columns,r.dt.isRowExpanded(e),"row"===r.dt.editMode&&r.dt.isRowEditing(e),r.frozen)),c.xp6(1),c.Q6J("ngIf",r.dt.isRowExpanded(e))}}function jP(n,t){if(1&n&&(c.ynx(0),c.YNc(1,zP,2,10,"ng-template",1),c.BQk()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngForOf",e.value)("ngForTrackBy",e.dt.rowTrackBy)}}function $P(n,t){1&n&&c.GkF(0)}const MI=function(n,t){return{$implicit:n,frozen:t}};function GP(n,t){if(1&n&&(c.ynx(0),c.YNc(1,$P,1,0,"ng-container",4),c.BQk()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",e.dt.loadingBodyTemplate)("ngTemplateOutletContext",c.WLB(2,MI,e.columns,e.frozen))}}function u6(n,t){1&n&&c.GkF(0)}function WP(n,t){if(1&n&&(c.ynx(0),c.YNc(1,u6,1,0,"ng-container",4),c.BQk()),2&n){const e=c.oxw();c.xp6(1),c.Q6J("ngTemplateOutlet",e.dt.emptyMessageTemplate)("ngTemplateOutletContext",c.WLB(2,MI,e.columns,e.frozen))}}let Gd=(()=>{class n{constructor(){this.sortSource=new zt.xQ,this.selectionSource=new zt.xQ,this.contextMenuSource=new zt.xQ,this.valueSource=new zt.xQ,this.totalRecordsSource=new zt.xQ,this.columnsSource=new zt.xQ,this.resetSource=new zt.xQ,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onValueChange(e){this.valueSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}onColumnsChange(e){this.columnsSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),op=(()=>{class n{constructor(e,i,r,s,l,d){this.el=e,this.zone=i,this.tableService=r,this.cd=s,this.filterService=l,this.overlayService=d,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectionChange=new c.vpe,this.contextMenuSelectionChange=new c.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(f,g)=>g,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="stack",this.breakpoint="960px",this.onRowSelect=new c.vpe,this.onRowUnselect=new c.vpe,this.onPage=new c.vpe,this.onSort=new c.vpe,this.onFilter=new c.vpe,this.onLazyLoad=new c.vpe,this.onRowExpand=new c.vpe,this.onRowCollapse=new c.vpe,this.onContextMenuSelect=new c.vpe,this.onColResize=new c.vpe,this.onColReorder=new c.vpe,this.onRowReorder=new c.vpe,this.onEditInit=new c.vpe,this.onEditComplete=new c.vpe,this.onEditCancel=new c.vpe,this.onHeaderCheckboxToggle=new c.vpe,this.sortFunction=new c.vpe,this.firstChange=new c.vpe,this.rowsChange=new c.vpe,this.onStateSave=new c.vpe,this.onStateRestore=new c.vpe,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=Mb()}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"headergrouped":this.headerGroupedTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"footergrouped":this.footerGroupedTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"rowexpansion":this.expandedRowTemplate=e.template;break;case"groupheader":this.groupHeaderTemplate=e.template;break;case"rowspan":this.rowspanTemplate=e.template;break;case"groupfooter":this.groupFooterTemplate=e.template;break;case"frozenrows":this.frozenRowsTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.scrollable&&this.virtualScroll&&(this.virtualScrollSubscription=this.virtualScrollBody.renderedRangeStream.subscribe(e=>{this.tableHeaderViewChild.nativeElement.style.top=e.start*this.virtualRowHeight*-1+"px"}))}ngOnChanges(e){e.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(e.value.currentValue)),e.columns&&(this._columns=e.columns.currentValue,this.tableService.onColumnsChange(e.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(e){this._value=e}get columns(){return this._columns}set columns(e){this._columns=e}get first(){return this._first}set first(e){this._first=e}get rows(){return this._rows}set rows(e){this._rows=e}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get dataToRender(){let e=this.filteredValue||this.value;return e?this.paginator&&!this.lazy?e.slice(this.first,this.first+this.rows):e:[]}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(Je.resolveFieldData(e,this.dataKey))]=1;else this.selectionKeys[String(Je.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(e){let i=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let r=i.metaKey||i.ctrlKey,s=this.getSortMeta(e.field);s?r?s.order=-1*s.order:(this._multiSortMeta=[{field:e.field,order:-1*s.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let e=this.sortField||this.groupRowsBy,i=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(e&&i){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:e,order:i}):(this.value.sort((s,l)=>{let d=Je.resolveFieldData(s,e),f=Je.resolveFieldData(l,e),g=null;return g=null==d&&null!=f?-1:null!=d&&null==f?1:null==d&&null==f?0:"string"==typeof d&&"string"==typeof f?d.localeCompare(f):d<f?-1:d>f?1:0,i*g}),this._value=[...this.value]),this.hasFilter()&&this._filter());let r={field:e,order:i};this.onSort.emit(r),this.tableService.onSort(r)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((e,i)=>this.multisortField(e,i,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(e,i,r,s){let l=Je.resolveFieldData(e,r[s].field),d=Je.resolveFieldData(i,r[s].field),f=null;if(null==l&&null!=d)f=-1;else if(null!=l&&null==d)f=1;else if(null==l&&null==d)f=0;else if("string"==typeof l||l instanceof String){if(l.localeCompare&&l!=d)return r[s].order*l.localeCompare(d)}else f=l<d?-1:1;return l==d?r.length-1>s?this.multisortField(e,i,r,s+1):0:r[s].order*f}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===e)return this.multiSortMeta[i];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let i=!1;if(this.multiSortMeta)for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==e){i=!0;break}return i}}handleRowClick(e){let i=e.originalEvent.target,r=i.nodeName,s=i.parentElement&&i.parentElement.nodeName;if("INPUT"!=r&&"BUTTON"!=r&&"A"!=r&&"INPUT"!=s&&"BUTTON"!=s&&"A"!=s&&!me.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&e.originalEvent.shiftKey&&null!=this.anchorRowIndex)me.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(e.originalEvent),this.rangeRowIndex=e.rowIndex,this.selectRange(e.originalEvent,e.rowIndex);else{let l=e.rowData,d=this.isSelected(l),f=!this.rowTouched&&this.metaKeySelection,g=this.dataKey?String(Je.resolveFieldData(l,this.dataKey)):null;if(this.anchorRowIndex=e.rowIndex,this.rangeRowIndex=e.rowIndex,f){let _=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(d&&_){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let b=this.findIndexInSelection(l);this._selection=this.selection.filter((E,x)=>x!=b),this.selectionChange.emit(this.selection),g&&delete this.selectionKeys[g]}this.onRowUnselect.emit({originalEvent:e.originalEvent,data:l,type:"row"})}else this.isSingleSelectionMode()?(this._selection=l,this.selectionChange.emit(l),g&&(this.selectionKeys={},this.selectionKeys[g]=1)):this.isMultipleSelectionMode()&&(_?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,l],this.selectionChange.emit(this.selection),g&&(this.selectionKeys[g]=1)),this.onRowSelect.emit({originalEvent:e.originalEvent,data:l,type:"row",index:e.rowIndex})}else if("single"===this.selectionMode)d?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:l,type:"row",index:e.rowIndex})):(this._selection=l,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:l,type:"row",index:e.rowIndex}),g&&(this.selectionKeys={},this.selectionKeys[g]=1));else if("multiple"===this.selectionMode)if(d){let _=this.findIndexInSelection(l);this._selection=this.selection.filter((b,E)=>E!=_),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,data:l,type:"row",index:e.rowIndex}),g&&delete this.selectionKeys[g]}else this._selection=this.selection?[...this.selection,l]:[l],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,data:l,type:"row",index:e.rowIndex}),g&&(this.selectionKeys[g]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const i=e.rowData;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,data:i,index:e.rowIndex}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(i);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let r=this.isSelected(i),s=this.dataKey?String(Je.resolveFieldData(i,this.dataKey)):null;r||(this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i),s&&(this.selectionKeys={},this.selectionKeys[s]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),s&&(this.selectionKeys[s]=1))),this.tableService.onSelectionChange(),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e,data:i,index:e.rowIndex})}}}selectRange(e,i){let r,s;this.anchorRowIndex>i?(r=i,s=this.anchorRowIndex):this.anchorRowIndex<i?(r=this.anchorRowIndex,s=i):(r=i,s=i),this.lazy&&this.paginator&&(r-=this.first,s-=this.first);let l=[];for(let d=r;d<=s;d++){let f=this.filteredValue?this.filteredValue[d]:this.value[d];if(!this.isSelected(f)){l.push(f),this._selection=[...this.selection,f];let g=this.dataKey?String(Je.resolveFieldData(f,this.dataKey)):null;g&&(this.selectionKeys[g]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e,data:l,type:"row"})}clearSelectionRange(e){let i,r;this.rangeRowIndex>this.anchorRowIndex?(i=this.anchorRowIndex,r=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(i=this.rangeRowIndex,r=this.anchorRowIndex):(i=this.rangeRowIndex,r=this.rangeRowIndex);for(let s=i;s<=r;s++){let l=this.value[s],d=this.findIndexInSelection(l);this._selection=this.selection.filter((g,_)=>_!=d);let f=this.dataKey?String(Je.resolveFieldData(l,this.dataKey)):null;f&&delete this.selectionKeys[f],this.onRowUnselect.emit({originalEvent:e,data:l,type:"row"})}}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[Je.resolveFieldData(e,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let i=-1;if(this.selection&&this.selection.length)for(let r=0;r<this.selection.length;r++)if(this.equals(e,this.selection[r])){i=r;break}return i}toggleRowWithRadio(e,i){this.preventSelectionSetterPropagation=!0,this.selection!=i?(this._selection=i,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(Je.resolveFieldData(i,this.dataKey))]=1)):(this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"radiobutton"})),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(e,i){this.selection=this.selection||[];let r=this.isSelected(i),s=this.dataKey?String(Je.resolveFieldData(i,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,r){let l=this.findIndexInSelection(i);this._selection=this.selection.filter((d,f)=>f!=l),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),s&&delete this.selectionKeys[s]}else this._selection=this.selection?[...this.selection,i]:[i],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:e.originalEvent,index:e.rowIndex,data:i,type:"checkbox"}),s&&(this.selectionKeys[s]=1);this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(e,i){this._selection=i?this.filteredValue?this.filteredValue.slice():this.value.slice():[],this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:i}),this.isStateful()&&this.saveState()}equals(e,i){return"equals"===this.compareSelectionBy?e===i:Je.equals(e,i,this.dataKey)}filter(e,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:e,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(e,i){this.filter(e,"global",i)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let e;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");e=this.globalFilterFields||this.columns}this.filteredValue=[];for(let i=0;i<this.value.length;i++){let d,r=!0,s=!1,l=!1;for(let f in this.filters)if(this.filters.hasOwnProperty(f)&&"global"!==f){l=!0;let g=f,_=this.filters[g];if(Array.isArray(_)){for(let b of _)if(r=this.executeLocalFilter(g,this.value[i],b),b.operator===Rb.OR&&r||b.operator===Rb.AND&&!r)break}else r=this.executeLocalFilter(g,this.value[i],_);if(!r)break}if(this.filters.global&&!s&&e)for(let f=0;f<e.length&&(s=this.filterService.filters[this.filters.global.matchMode](Je.resolveFieldData(this.value[i],e[f].field||e[f]),this.filters.global.value,this.filterLocale),!s);f++);d=this.filters.global?l?l&&r&&s:s:l&&r,d&&this.filteredValue.push(this.value[i])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(e,i,r){let s=r.value,l=r.matchMode||Pi.STARTS_WITH,d=Je.resolveFieldData(i,e);return this.filterService.filters[l](d,s,this.filterLocale)}hasFilter(){let e=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){e=!1;break}return!e}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}exportCSV(e){let i,r="",s=this.frozenColumns?[...this.frozenColumns,...this.columns]:this.columns;e&&e.selectionOnly?i=this.selection||[]:(i=this.filteredValue||this.value,this.frozenValue&&(i=i?[...this.frozenValue,...i]:this.frozenValue));for(let f=0;f<s.length;f++){let g=s[f];!1!==g.exportable&&g.field&&(r+='"'+(g.header||g.field)+'"',f<s.length-1&&(r+=this.csvSeparator))}i.forEach((f,g)=>{r+="\n";for(let _=0;_<s.length;_++){let b=s[_];if(!1!==b.exportable&&b.field){let E=Je.resolveFieldData(f,b.field);E=null!=E?this.exportFunction?this.exportFunction({data:E,field:b.field}):String(E).replace(/"/g,'""'):"",r+='"'+E+'"',_<s.length-1&&(r+=this.csvSeparator)}}});let l=new Blob([r],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a");d.style.display="none",document.body.appendChild(d),void 0!==d.download?(d.setAttribute("href",URL.createObjectURL(l)),d.setAttribute("download",this.exportFilename+".csv"),d.click()):(r="data:text/csv;charset=utf-8,"+r,window.open(encodeURI(r))),document.body.removeChild(d)}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(e)}onScrollIndexChange(e){this.lazy&&(this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{let i=Math.floor(e/this.rows),r=0===i?0:(i-1)*this.rows,s=0===i?2*this.rows:3*this.rows;i!==this.virtualPage&&(this.virtualPage=i,this.onLazyLoad.emit({first:r,rows:s,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}))},this.virtualScrollDelay))}scrollTo(e){this.virtualScrollBody?this.virtualScrollBody.scrollTo(e):this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(e):(this.wrapperViewChild.nativeElement.scrollLeft=e.left,this.wrapperViewChild.nativeElement.scrollTop=e.top)}updateEditingCell(e,i,r,s){this.editingCell=e,this.editingCellData=i,this.editingCellField=r,this.editingCellRowIndex=s,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===me.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(me.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:e,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(e){let i=String(Je.resolveFieldData(e,this.dataKey));this.editingRowKeys[i]=!0}saveRowEdit(e,i){if(0===me.find(i,".ng-invalid.ng-dirty").length){let r=String(Je.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[r]}}cancelRowEdit(e){let i=String(Je.resolveFieldData(e,this.dataKey));delete this.editingRowKeys[i]}toggleRow(e,i){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let r=String(Je.resolveFieldData(e,this.dataKey));null!=this.expandedRowKeys[r]?(delete this.expandedRowKeys[r],this.onRowCollapse.emit({originalEvent:i,data:e})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[r]=!0,this.onRowExpand.emit({originalEvent:i,data:e})),i&&i.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(e){return!0===this.expandedRowKeys[String(Je.resolveFieldData(e,this.dataKey))]}isRowEditing(e){return!0===this.editingRowKeys[String(Je.resolveFieldData(e,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(e){let i=me.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=e.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(e),e.preventDefault()}onColumnResize(e){let i=me.getOffset(this.containerViewChild.nativeElement).left;me.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let e=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,r=this.resizeColumnElement.offsetWidth+e;if(r>=(this.resizeColumnElement.style.minWidth||15)){if("fit"===this.columnResizeMode){let l=this.resizeColumnElement.nextElementSibling,d=l.offsetWidth-e;r>15&&d>15&&(this.scrollable?this.resizeTableCells(r,d):(this.resizeColumnElement.style.width=r+"px",l&&(l.style.width=d+"px")))}else if("expand"===this.columnResizeMode){let l=this.tableViewChild.nativeElement.offsetWidth+e;this.tableViewChild.nativeElement.style.minWidth=l+"px",this.resizeColumnElement.style.width=r+"px",this.scrollable?this.resizeTableCells(r,null):this.tableViewChild.nativeElement.style.width=l+"px"}this.onColResize.emit({element:this.resizeColumnElement,delta:e}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",me.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(e,i){let r=me.index(this.resizeColumnElement),s=[];const l=me.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");me.find(l,"tr > th").forEach(g=>s.push(me.getOuterWidth(g))),this.destroyStyleElement(),this.createStyleElement();let f="";s.forEach((g,_)=>{let b=_===r?e:i&&_===r+1?i:g;f+=`\n                #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${_+1}) {\n                    flex: 0 0 ${b}px !important;\n                }\n\n                #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${_+1}) {\n                    flex: 0 0 ${b}px !important;\n                }\n            `}),this.styleElement.innerHTML=f}onColumnDragStart(e,i){this.reorderIconWidth=me.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=me.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=i,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,i){if(this.reorderableColumns&&this.draggedColumn&&i){e.preventDefault();let r=me.getOffset(this.containerViewChild.nativeElement),s=me.getOffset(i);if(this.draggedColumn!=i){let l=me.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),d=me.indexWithinGroup(i,"preorderablecolumn"),f=s.left-r.left,_=s.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=s.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=s.top-r.top+i.offsetHeight+"px",e.pageX>_?(this.reorderIndicatorUpViewChild.nativeElement.style.left=f+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=f+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=f-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=f-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),d-l==1&&-1===this.dropPosition||d-l==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,i){if(e.preventDefault(),this.draggedColumn){let r=me.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),s=me.indexWithinGroup(i,"preorderablecolumn"),l=r!=s;l&&(s-r==1&&-1===this.dropPosition||r-s==1&&1===this.dropPosition)&&(l=!1),l&&s<r&&1===this.dropPosition&&(s+=1),l&&s>r&&-1===this.dropPosition&&(s-=1),l&&(Je.reorderArray(this.columns,r,s),this.onColReorder.emit({dragIndex:r,dropIndex:s,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(e,i){this.rowDragging=!0,this.draggedRowIndex=i,e.dataTransfer.setData("text","b")}onRowDragOver(e,i,r){if(this.rowDragging&&this.draggedRowIndex!==i){let s=me.getOffset(r).top+me.getWindowScrollTop(),l=e.pageY,d=s+me.getOuterHeight(r)/2,f=r.previousElementSibling;l<d?(me.removeClass(r,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=i,f?me.addClass(f,"p-datatable-dragpoint-bottom"):me.addClass(r,"p-datatable-dragpoint-top")):(f?me.removeClass(f,"p-datatable-dragpoint-bottom"):me.addClass(r,"p-datatable-dragpoint-top"),this.droppedRowIndex=i+1,me.addClass(r,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(e,i){let r=i.previousElementSibling;r&&me.removeClass(r,"p-datatable-dragpoint-bottom"),me.removeClass(i,"p-datatable-dragpoint-bottom"),me.removeClass(i,"p-datatable-dragpoint-top")}onRowDragEnd(e){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(e,i){if(null!=this.droppedRowIndex){let r=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;Je.reorderArray(this.value,this.draggedRowIndex,r),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:r})}this.onRowDragLeave(e,i),this.onRowDragEnd(e)}isEmpty(){let e=this.filteredValue||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const e=this.getStorage();let i={};this.paginator&&(i.first=this.first,i.rows=this.rows),this.sortField&&(i.sortField=this.sortField,i.sortOrder=this.sortOrder),this.multiSortMeta&&(i.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(i.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(i),this.reorderableColumns&&this.saveColumnOrder(i),this.selection&&(i.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(i.expandedRowKeys=this.expandedRowKeys),e.setItem(this.stateKey,JSON.stringify(i)),this.onStateSave.emit(i)}clearState(){const e=this.getStorage();this.stateKey&&e.removeItem(this.stateKey)}restoreState(){const i=this.getStorage().getItem(this.stateKey),r=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(i){let l=JSON.parse(i,function(l,d){return"string"==typeof d&&r.test(d)?new Date(d):d});this.paginator&&(void 0!==this.first&&(this.first=l.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=l.rows,this.rowsChange.emit(this.rows))),l.sortField&&(this.restoringSort=!0,this._sortField=l.sortField,this._sortOrder=l.sortOrder),l.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=l.multiSortMeta),l.filters&&(this.restoringFilter=!0,this.filters=l.filters),this.resizableColumns&&(this.columnWidthsState=l.columnWidths,this.tableWidthState=l.tableWidth),l.expandedRowKeys&&(this.expandedRowKeys=l.expandedRowKeys),l.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(l.selection)),this.stateRestored=!0,this.onStateRestore.emit(l)}}saveColumnWidths(e){let i=[];me.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(s=>i.push(me.getOuterWidth(s))),e.columnWidths=i.join(","),"expand"===this.columnResizeMode&&(e.tableWidth=me.getOuterWidth(this.tableViewChild.nativeElement)+"px")}restoreColumnWidths(){if(this.columnWidthsState){let e=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&(this.tableViewChild.nativeElement.style.width=this.tableWidthState,this.tableViewChild.nativeElement.style.minWidth=this.tableWidthState,this.containerViewChild.nativeElement.style.width=this.tableWidthState),this.createStyleElement(),this.scrollable&&e&&e.length>0){let i="";e.forEach((r,s)=>{i+=`\n                            #${this.id}-table > .p-datatable-thead > tr > th:nth-child(${s+1}) {\n                                flex: 0 0 ${r}px;\n                            }\n\n                            #${this.id}-table > .p-datatable-tbody > tr > td:nth-child(${s+1}) {\n                                flex: 0 0 ${r}px;\n                            }\n                        `}),this.styleElement.innerHTML=i}else me.find(this.tableViewChild.nativeElement,".p-datatable-thead > tr > th").forEach((i,r)=>{i.style.width=e[r]+"px"})}}saveColumnOrder(e){if(this.columns){let i=[];this.columns.map(r=>{i.push(r.field||r.key)}),e.columnOrder=i}}restoreColumnOrder(){const i=this.getStorage().getItem(this.stateKey);if(i){let s=JSON.parse(i).columnOrder;if(s){let l=[];s.map(d=>{let f=this.findColumnByKey(d);f&&l.push(f)}),this.columnOrderStateRestored=!0,this.columns=l}}}findColumnByKey(e){if(!this.columns)return null;for(let i of this.columns)if(i.key===e||i.field===e)return i}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id} .p-datatable-thead > tr > th,\n    #${this.id} .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.virtualScrollSubscription&&this.virtualScrollSubscription.unsubscribe(),this.destroyStyleElement(),this.destroyResponsiveStyle()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Gd),c.Y36(c.sBO),c.Y36(Um),c.Y36(kb))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-table"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,Jc,4),2&e){let s;c.iGM(s=c.CRH())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(c.Gf(vP,5),c.Gf(bP,5),c.Gf(wP,5),c.Gf(Z4,5),c.Gf(CP,5),c.Gf(mI,5),c.Gf(EP,5),c.Gf(ep,5)),2&e){let r;c.iGM(r=c.CRH())&&(i.containerViewChild=r.first),c.iGM(r=c.CRH())&&(i.resizeHelperViewChild=r.first),c.iGM(r=c.CRH())&&(i.reorderIndicatorUpViewChild=r.first),c.iGM(r=c.CRH())&&(i.reorderIndicatorDownViewChild=r.first),c.iGM(r=c.CRH())&&(i.wrapperViewChild=r.first),c.iGM(r=c.CRH())&&(i.tableViewChild=r.first),c.iGM(r=c.CRH())&&(i.tableHeaderViewChild=r.first),c.iGM(r=c.CRH())&&(i.virtualScrollBody=r.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection"},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[c._Bn([Gd]),c.TTD],decls:14,vars:33,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],["role","table","class","p-datatable-table",3,"ngClass","ngStyle",4,"ngIf"],["tabindex","0","class","p-datatable-virtual-scrollable-body",3,"itemSize","height","minBufferPx","maxBufferPx","scrolledIndexChange",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],["role","table",1,"p-datatable-table",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datatable-thead"],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"value","pTableBody","pTableBodyTemplate"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-tfoot"],["tabindex","0",1,"p-datatable-virtual-scrollable-body",3,"itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"],["tableHeader",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(e,i){1&e&&(c.TgZ(0,"div",0,1),c.YNc(2,TP,2,2,"div",2),c.YNc(3,xP,2,1,"div",3),c.YNc(4,Q4,1,17,"p-paginator",4),c.TgZ(5,"div",5,6),c.YNc(7,Sw,8,16,"table",7),c.YNc(8,e6,10,21,"cdk-virtual-scroll-viewport",8),c.qZA(),c.YNc(9,wI,1,17,"p-paginator",9),c.YNc(10,MP,2,1,"div",10),c.YNc(11,kP,2,0,"div",11),c.YNc(12,RP,2,0,"span",12),c.YNc(13,OP,2,0,"span",13),c.qZA()),2&e&&(c.Tol(i.styleClass),c.Q6J("ngStyle",i.style)("ngClass",c.rFY(16,EI,[i.rowHover||i.selectionMode,i.autoLayout,i.resizableColumns,i.resizableColumns&&"fit"===i.columnResizeMode,i.scrollable,i.scrollable&&"vertical"===i.scrollDirection,i.scrollable&&"horizontal"===i.scrollDirection,i.scrollable&&"both"===i.scrollDirection,i.scrollable&&"flex"===i.scrollHeight,"stack"===i.responsiveLayout,"scroll"===i.responsiveLayout,i.responsive,null!=i.headerGroupedTemplate,null!=i.footerGroupedTemplate])),c.uIk("id",i.id),c.xp6(2),c.Q6J("ngIf",i.loading&&i.showLoader),c.xp6(1),c.Q6J("ngIf",i.captionTemplate),c.xp6(1),c.Q6J("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),c.xp6(1),c.Q6J("ngStyle",c.VKq(31,t6,i.scrollHeight)),c.xp6(2),c.Q6J("ngIf",!i.virtualScroll),c.xp6(1),c.Q6J("ngIf",i.virtualScroll),c.xp6(1),c.Q6J("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),c.xp6(1),c.Q6J("ngIf",i.summaryTemplate),c.xp6(1),c.Q6J("ngIf",i.resizableColumns),c.xp6(1),c.Q6J("ngIf",i.reorderableColumns),c.xp6(1),c.Q6J("ngIf",i.reorderableColumns))},directives:function(){return[Sn,hi,At,Kn,YO,p_,ep,ID]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;min-width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-badge,.p-datatable .p-sortable-column .p-sortable-column-icon{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table,.p-datatable-responsive-scroll>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable .p-datatable-wrapper{position:relative;overflow:auto}.p-datatable-scrollable .p-datatable-tbody,.p-datatable-scrollable .p-datatable-tfoot,.p-datatable-scrollable .p-datatable-thead{display:block}.p-datatable-scrollable .p-datatable-tbody>tr,.p-datatable-scrollable .p-datatable-tfoot>tr,.p-datatable-scrollable .p-datatable-thead>tr{display:flex;flex-wrap:nowrap;width:100%}.p-datatable-scrollable .p-datatable-tbody>tr>td,.p-datatable-scrollable .p-datatable-tfoot>tr>td,.p-datatable-scrollable .p-datatable-thead>tr>th{display:flex;flex:1 1 0;align-items:center}.p-datatable-scrollable .p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable .p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable .p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-scrollable-both .p-datatable-tbody>tr>td,.p-datatable-scrollable-both .p-datatable-tfoot>tr>td,.p-datatable-scrollable-both .p-datatable-thead>tr>th,.p-datatable-scrollable-horizontal .p-datatable-tfoot>tr>td,.p-datatable-scrollable-horizontal .p-datatable-thead>tr>th\n.p-datatable-scrollable-horizontal .p-datatable-tbody>tr>td{flex:0 0 auto}.p-datatable-flex-scrollable .p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable .p-rowgroup-header{position:sticky;z-index:1}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead{display:table;border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr{display:table-row}.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr>td,.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr>th{display:table-cell}.p-datatable-flex-scrollable{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-tbody>tr>td,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-thead>tr>th{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-cancel,.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-down,.p-datatable-reorder-indicator-up{position:absolute;display:none}.p-datatable-reorderablerow-handle,[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-clear-button,.p-column-filter-menu-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable .p-datatable-tbody>tr>td>.p-column-title{display:none}cdk-virtual-scroll-viewport{outline:0 none}"],encapsulation:2}),n})(),p_=(()=>{class n{constructor(e,i,r,s){this.dt=e,this.tableService=i,this.cd=r,this.el=s,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(e){this._value=e,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(e,i,r){let s=Je.resolveFieldData(i,this.dt.groupRowsBy),l=e[r-1];return!l||s!==Je.resolveFieldData(l,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(e,i,r){let s=Je.resolveFieldData(i,this.dt.groupRowsBy),l=e[r+1];return!l||s!==Je.resolveFieldData(l,this.dt.groupRowsBy)}shouldRenderRowspan(e,i,r){let s=Je.resolveFieldData(i,this.dt.groupRowsBy),l=e[r-1];return!l||s!==Je.resolveFieldData(l,this.dt.groupRowsBy)}calculateRowGroupSize(e,i,r){let s=Je.resolveFieldData(i,this.dt.groupRowsBy),l=s,d=0;for(;s===l;){d++;let f=e[++r];if(!f)break;l=Je.resolveFieldData(f,this.dt.groupRowsBy)}return 1===d?null:d}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=me.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let e=me.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=e+"px"}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(op),c.Y36(Gd),c.Y36(c.sBO),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows"},attrs:n6,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"]],template:function(e,i){1&e&&(c.YNc(0,lu,2,2,"ng-container",0),c.YNc(1,Mw,2,3,"ng-container",0),c.YNc(2,HP,2,2,"ng-container",0),c.YNc(3,jP,2,2,"ng-container",0),c.YNc(4,GP,2,5,"ng-container",0),c.YNc(5,WP,2,5,"ng-container",0)),2&e&&(c.Q6J("ngIf",!i.dt.expandedRowTemplate&&!i.dt.virtualScroll),c.xp6(1),c.Q6J("ngIf",!i.dt.expandedRowTemplate&&i.dt.virtualScroll),c.xp6(1),c.Q6J("ngIf",i.dt.expandedRowTemplate&&!(i.frozen&&i.dt.frozenExpandedRowTemplate)),c.xp6(1),c.Q6J("ngIf",i.dt.frozenExpandedRowTemplate&&i.frozen),c.xp6(1),c.Q6J("ngIf",i.dt.loading),c.xp6(1),c.Q6J("ngIf",i.dt.isEmpty()&&!i.dt.loading))},directives:[At,Es,Kn,MD],encapsulation:2}),n})(),dF=(()=>{class n{constructor(e,i){this.dt=e,this.tableService=i,this.isEnabled()&&(this.subscription=this.dt.tableService.selectionSource$.subscribe(()=>{this.selected=this.dt.isSelected(this.data)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.dt.isSelected(this.data))}onClick(e){this.isEnabled()&&this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onTouchEnd(e){this.isEnabled()&&this.dt.handleRowTouchEnd(e)}onArrowDownKeyDown(e){if(!this.isEnabled())return;const r=this.findNextSelectableRow(e.currentTarget);r&&r.focus(),e.preventDefault()}onArrowUpKeyDown(e){if(!this.isEnabled())return;const r=this.findPrevSelectableRow(e.currentTarget);r&&r.focus(),e.preventDefault()}onEnterKeyDown(e){!this.isEnabled()||this.dt.handleRowClick({originalEvent:e,rowData:this.data,rowIndex:this.index})}onPageDownKeyDown(){this.dt.virtualScroll&&this.dt.virtualScrollBody.elementRef.nativeElement.focus()}onSpaceKeydown(){this.dt.virtualScroll&&!this.dt.editingCell&&this.dt.virtualScrollBody.elementRef.nativeElement.focus()}findNextSelectableRow(e){let i=e.nextElementSibling;return i?me.hasClass(i,"p-selectable-row")?i:this.findNextSelectableRow(i):null}findPrevSelectableRow(e){let i=e.previousElementSibling;return i?me.hasClass(i,"p-selectable-row")?i:this.findPrevSelectableRow(i):null}isEnabled(){return!0!==this.pSelectableRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(op),c.Y36(Gd))},n.\u0275dir=c.lG2({type:n,selectors:[["","pSelectableRow",""]],hostAttrs:[1,"p-element"],hostVars:5,hostBindings:function(e,i){1&e&&c.NdJ("click",function(s){return i.onClick(s)})("touchend",function(s){return i.onTouchEnd(s)})("keydown.arrowdown",function(s){return i.onArrowDownKeyDown(s)})("keydown.arrowup",function(s){return i.onArrowUpKeyDown(s)})("keydown.enter",function(s){return i.onEnterKeyDown(s)})("keydown.shift.enter",function(s){return i.onEnterKeyDown(s)})("keydown.meta.enter",function(s){return i.onEnterKeyDown(s)})("keydown.pagedown",function(){return i.onPageDownKeyDown()})("keydown.pageup",function(){return i.onPageDownKeyDown()})("keydown.home",function(){return i.onPageDownKeyDown()})("keydown.end",function(){return i.onPageDownKeyDown()})("keydown.space",function(){return i.onSpaceKeydown()}),2&e&&(c.uIk("tabindex",i.isEnabled()?0:void 0),c.ekj("p-selectable-row",i.isEnabled())("p-highlight",i.selected))},inputs:{data:["pSelectableRow","data"],index:["pSelectableRowIndex","index"],pSelectableRowDisabled:"pSelectableRowDisabled"}}),n})(),Lw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii,O4,a_,ip,tp,au,Xc,JO,gI,eI,oI],Ms,tp]}),n})();function gF(n,t){1&n&&(c.TgZ(0,"tr"),c.TgZ(1,"th"),c.TgZ(2,"span",3),c._uU(3,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u043e\u0434\u044b"),c.qZA(),c.qZA(),c.TgZ(4,"th"),c.TgZ(5,"span",3),c._uU(6,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043c\u0435\u0441\u0438"),c.qZA(),c.qZA(),c.qZA())}function mF(n,t){if(1&n&&(c.TgZ(0,"tr",4),c.TgZ(1,"td"),c.TgZ(2,"span",5),c._uU(3),c.qZA(),c.qZA(),c.TgZ(4,"td"),c.TgZ(5,"span",5),c._uU(6),c.qZA(),c.qZA(),c.qZA()),2&n){const e=t.$implicit;c.Q6J("pSelectableRow",e),c.xp6(3),c.hij(" ",e.water," "),c.xp6(3),c.hij(" ",e.blend," ")}}let _F=(()=>{class n{constructor(){this.table=[{water:"30\u0433\u0440",blend:"5\u0433\u0440"},{water:"60\u0433\u0440",blend:"9\u0433\u0440"},{water:"90\u0433\u0440",blend:"13\u0433\u0440"},{water:"120\u0433\u0440",blend:"18\u0433\u0440"},{water:"160\u0433\u0440",blend:"27\u0433\u0440"},{water:"180\u0433\u0440",blend:"32\u0433\u0440"}]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-proportion-table"]],decls:3,vars:1,consts:[["selectionMode","single","responsiveLayout","scroll",1,"h-full","table-bg",3,"value"],["pTemplate","header"],["pTemplate","body"],[1,"text-base","font-semibold","flex","justify-content-center"],[3,"pSelectableRow"],[1,"flex","justify-content-center"]],template:function(e,i){1&e&&(c.TgZ(0,"p-table",0),c.YNc(1,gF,7,0,"ng-template",1),c.YNc(2,mF,7,3,"ng-template",2),c.qZA()),2&e&&c.Q6J("value",i.table)},directives:[op,Jc,dF],styles:[".table-bg .p-datatable .p-datatable-thead>tr>th{background:#fad8e7;border:none}.table-bg .p-datatable .p-datatable-tbody>tr>td{background:#fad8e7;border:none}\n"],encapsulation:2,changeDetection:0}),n})(),Zl=(()=>{class n{constructor(e){this.router=e}ngOnDestroy(){document.body.style.background="#ffffff"}ngOnInit(){document.body.style.background="var(--pink-100)"}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ri))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-food-table"]],decls:8,vars:0,consts:[[1,"w-full","flex","align-items-center","justify-content-center","flex","h-full","bg-pink-100","flex-column"],[1,"bg-pink-100","flex","align-items-center","w-full","toolbar"],["icon","pi pi-arrow-circle-left","routerLink","/","styleClass"," mr-3",1,"food-table-button","justify-content-start"],[1,"flex","align-items-center","w-full","mr-5","justify-content-center"],[1,"flex","align-items-center","justify-content-center","flex-column","h-full"],[1,"flex","align-items-center","justify-content-center","table-card"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"mat-toolbar",1),c._UZ(2,"p-button",2),c.TgZ(3,"h2",3),c._uU(4,"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u0441\u043c\u0435\u0441\u0438"),c.qZA(),c.qZA(),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c._UZ(7,"app-proportion-table"),c.qZA(),c.qZA(),c.qZA())},directives:[Ib,Hl,hf,_F],styles:[".food-table-button .p-button{background:var(--pink-200)!important;border:1px solid var(--pink-200)!important;border-radius:8px}.food-table-button .p-button:focus{box-shadow:none}.table-card{box-shadow:#64646f33 0 7px 29px;background:#fad8e7;width:270px;height:400px;border-radius:10px;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(6.1px);-webkit-backdrop-filter:blur(6.1px);border:1px solid rgba(255,255,255,.04)}\n"],encapsulation:2}),n})();const ap=["mask"];function Vw(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",12),c.NdJ("click",function(){return c.CHM(e),c.oxw(3).hide()})("keydown.enter",function(){return c.CHM(e),c.oxw(3).hide()}),c._UZ(1,"span",13),c.qZA()}2&n&&c.Q6J("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link")}function yF(n,t){if(1&n&&(c.TgZ(0,"div",8),c.TgZ(1,"span",9),c._uU(2),c.qZA(),c.TgZ(3,"div",10),c.YNc(4,Vw,2,1,"button",11),c.qZA(),c.qZA()),2&n){const e=c.oxw(2);c.xp6(2),c.Oqu(e.config.header),c.xp6(2),c.Q6J("ngIf",!1!==e.config.closable)}}function vF(n,t){}function bF(n,t){if(1&n&&(c.TgZ(0,"div",14),c._uU(1),c.qZA()),2&n){const e=c.oxw(2);c.xp6(1),c.hij(" ",e.config.footer," ")}}const Bw=function(n){return{"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":n}},wF=function(n,t){return{transform:n,transition:t}},LI=function(n){return{value:"visible",params:n}};function VI(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",3),c.NdJ("@animation.start",function(r){return c.CHM(e),c.oxw().onAnimationStart(r)})("@animation.done",function(r){return c.CHM(e),c.oxw().onAnimationEnd(r)}),c.YNc(1,yF,5,2,"div",4),c.TgZ(2,"div",5),c.YNc(3,vF,0,0,"ng-template",6),c.qZA(),c.YNc(4,bF,2,1,"div",7),c.qZA()}if(2&n){const e=c.oxw();c.Tol(e.config.styleClass),c.Udp("width",e.config.width)("height",e.config.height),c.Q6J("ngClass",c.VKq(12,Bw,e.config.rtl))("ngStyle",e.config.style)("@animation",c.VKq(17,LI,c.WLB(14,wF,e.transformOptions,e.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)"))),c.xp6(1),c.Q6J("ngIf",!1!==e.config.showHeader),c.xp6(1),c.Q6J("ngStyle",e.config.contentStyle),c.xp6(2),c.Q6J("ngIf",e.config.footer)}}const CF=function(n){return{"p-dialog-mask":!0,"p-component-overlay-enter p-dialog-mask-scrollblocker":n}};let BI=(()=>{class n{constructor(e){this.viewContainerRef=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","pDynamicDialogContent",""]],hostAttrs:[1,"p-element"]}),n})();class UI{}class Ks{constructor(){this._onClose=new zt.xQ,this.onClose=this._onClose.asObservable(),this._onDestroy=new zt.xQ,this.onDestroy=this._onDestroy.asObservable()}close(t){this._onClose.next(t)}destroy(){this._onDestroy.next(null)}}const lp=$c([oi({transform:"{{transform}}",opacity:0}),Is("{{transition}}",oi({transform:"none",opacity:1}))]),Wd=$c([Is("{{transition}}",oi({transform:"{{transform}}",opacity:0}))]);let m_=(()=>{class n{constructor(e,i,r,s,l,d,f){this.componentFactoryResolver=e,this.cd=i,this.renderer=r,this.config=s,this.dialogRef=l,this.zone=d,this.primeNGConfig=f,this.visible=!0,this.transformOptions="scale(0.7)"}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}loadChildComponent(e){let i=this.componentFactoryResolver.resolveComponentFactory(e),r=this.insertionPoint.viewContainerRef;r.clear(),this.componentRef=r.createComponent(i)}moveOnTop(){!1!==this.config.autoZIndex&&(Er.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}onAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.bindGlobalListeners(),!1!==this.config.modal&&this.enableModality(),this.focus();break;case"void":!1!==this.config.modal&&me.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(e){"void"===e.toState&&(this.onContainerDestroy(),this.dialogRef.destroy())}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&!1!==this.config.autoZIndex&&Er.clear(this.container),!1!==this.config.modal&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){!1!==this.config.closable&&this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",e=>{this.wrapper&&this.wrapper.isSameNode(e.target)&&this.hide()})),!1!==this.config.modal&&me.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),!1!==this.config.modal&&me.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}onKeydown(e){if(9===e.which){e.preventDefault();let i=me.getFocusableElements(this.container);if(i&&i.length>0)if(i[0].ownerDocument.activeElement){let r=i.indexOf(i[0].ownerDocument.activeElement);e.shiftKey?-1==r||0===r?i[i.length-1].focus():i[r-1].focus():-1==r||r===i.length-1?i[0].focus():i[r+1].focus()}else i[0].focus()}}focus(){let e=me.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}bindGlobalListeners(){this.bindDocumentKeydownListener(),!1!==this.config.closeOnEscape&&!1!==this.config.closable&&this.bindDocumentEscapeListener()}unbindGlobalListeners(){this.unbindDocumentKeydownListener(),this.unbindDocumentEscapeListener()}bindDocumentKeydownListener(){this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.onKeydown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener)})}unbindDocumentKeydownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document","keydown",i=>{27==i.which&&parseInt(this.container.style.zIndex)==Er.getCurrent()&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c._Vd),c.Y36(c.sBO),c.Y36(c.Qsj),c.Y36(UI),c.Y36(Ks),c.Y36(c.R0b),c.Y36(Bl))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-dynamicDialog"]],viewQuery:function(e,i){if(1&e&&(c.Gf(BI,5),c.Gf(ap,5)),2&e){let r;c.iGM(r=c.CRH())&&(i.insertionPoint=r.first),c.iGM(r=c.CRH())&&(i.maskViewChild=r.first)}},hostAttrs:[1,"p-element"],decls:3,vars:4,consts:[[3,"ngClass"],["mask",""],["role","dialog",3,"ngClass","ngStyle","class","width","height",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],["pDynamicDialogContent",""],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[1,"p-dialog-title"],[1,"p-dialog-header-icons"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon","pi","pi-times"],[1,"p-dialog-footer"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0,1),c.YNc(2,VI,5,19,"div",2),c.qZA()),2&e&&(c.Q6J("ngClass",c.VKq(2,CF,!1!==i.config.modal)),c.xp6(2),c.Q6J("ngIf",i.visible))},directives:function(){return[hi,At,Sn,BI]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog,.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-top .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top,.p-dialog-top-left{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}"],encapsulation:2,data:{animation:[po("animation",[Cr("void => visible",[Gc(lp)]),Cr("visible => void",[Gc(Wd)])])]}}),n})();class EF{constructor(t,e){this._parentInjector=t,this._additionalTokens=e}get(t,e,i){return this._additionalTokens.get(t)||this._parentInjector.get(t,e)}}let HI=(()=>{class n{constructor(e,i,r){this.componentFactoryResolver=e,this.appRef=i,this.injector=r,this.dialogComponentRefMap=new Map}open(e,i){const r=this.appendDialogComponentToBody(i);return this.dialogComponentRefMap.get(r).instance.childComponentType=e,r}appendDialogComponentToBody(e){const i=new WeakMap;i.set(UI,e);const r=new Ks;i.set(Ks,r);const s=r.onClose.subscribe(()=>{this.dialogComponentRefMap.get(r).instance.close()}),l=r.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(r),l.unsubscribe(),s.unsubscribe()}),f=this.componentFactoryResolver.resolveComponentFactory(m_).create(new EF(this.injector,i));return this.appRef.attachView(f.hostView),document.body.appendChild(f.hostView.rootNodes[0]),this.dialogComponentRefMap.set(r,f),r}removeDialogComponentFromBody(e){if(!e||!this.dialogComponentRefMap.has(e))return;const i=this.dialogComponentRefMap.get(e);this.appRef.detachView(i.hostView),i.destroy(),this.dialogComponentRefMap.delete(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c._Vd),c.LFG(c.z2F),c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const TF=[new Date("2023-06-11"),new Date("2023-06-12"),new Date("2023-06-13"),new Date("2023-06-14"),new Date("2023-06-15"),new Date("2023-06-16"),new Date("2023-06-17"),new Date("2023-06-18"),new Date("2023-06-19"),new Date("2023-06-20"),new Date("2023-06-21"),new Date("2023-06-22"),new Date("2023-06-23"),new Date("2023-06-24"),new Date("2023-06-25"),new Date("2023-06-26"),new Date("2023-06-27"),new Date("2023-06-28"),new Date("2023-06-29"),new Date("2023-06-30"),new Date("2023-07-01"),new Date("2023-07-02"),new Date("2023-07-03"),new Date("2023-07-04"),new Date("2023-07-05"),new Date("2023-07-06"),new Date("2023-07-07"),new Date("2023-07-08"),new Date("2023-07-09"),new Date("2023-07-10"),new Date("2023-07-11"),new Date("2023-07-12"),new Date("2023-07-13"),new Date("2023-07-14"),new Date("2023-07-15"),new Date("2023-08-13"),new Date("2023-08-14"),new Date("2023-08-15"),new Date("2023-08-16"),new Date("2023-08-17"),new Date("2023-08-18"),new Date("2023-08-19"),new Date("2023-08-20"),new Date("2023-08-21"),new Date("2023-08-22"),new Date("2023-08-23"),new Date("2023-08-24"),new Date("2023-08-25"),new Date("2023-08-26"),new Date("2023-08-27"),new Date("2023-08-28"),new Date("2023-08-29"),new Date("2023-08-30"),new Date("2023-08-31"),new Date("2023-09-01"),new Date("2023-09-02"),new Date("2023-09-03"),new Date("2023-09-04"),new Date("2023-09-05"),new Date("2023-09-06"),new Date("2023-09-07"),new Date("2023-09-08"),new Date("2023-09-09"),new Date("2023-10-15"),new Date("2023-10-16"),new Date("2023-10-17"),new Date("2023-10-18"),new Date("2023-10-19"),new Date("2023-10-20"),new Date("2023-10-21"),new Date("2023-10-22"),new Date("2023-10-23"),new Date("2023-10-24"),new Date("2023-10-25"),new Date("2023-10-26"),new Date("2023-10-27"),new Date("2023-10-28"),new Date("2023-10-29"),new Date("2023-10-30"),new Date("2023-10-31"),new Date("2023-11-01"),new Date("2023-11-02"),new Date("2023-11-03"),new Date("2023-11-04"),new Date("2023-11-05"),new Date("2023-11-06"),new Date("2023-11-07"),new Date("2023-11-08"),new Date("2023-11-09"),new Date("2023-11-10"),new Date("2023-11-11"),new Date("2023-11-12"),new Date("2023-11-13"),new Date("2023-11-14"),new Date("2023-11-15"),new Date("2023-11-16"),new Date("2023-11-17"),new Date("2023-11-18"),new Date("2023-12-31"),new Date("2024-01-01"),new Date("2024-01-02"),new Date("2024-01-03"),new Date("2024-01-04"),new Date("2024-01-05"),new Date("2024-01-06"),new Date("2024-01-07"),new Date("2024-01-08"),new Date("2024-01-09"),new Date("2024-01-10"),new Date("2024-01-11"),new Date("2024-01-12"),new Date("2024-01-13"),new Date("2024-01-14"),new Date("2024-01-15"),new Date("2024-01-16"),new Date("2024-01-17"),new Date("2024-01-18"),new Date("2024-01-19"),new Date("2024-01-20"),new Date("2024-01-21"),new Date("2024-01-22"),new Date("2024-01-23"),new Date("2024-01-24"),new Date("2024-01-25"),new Date("2024-01-26"),new Date("2024-01-27"),new Date("2024-01-28")],zI=[{name:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e",key:"notSelected"},{name:"\u0420\u043e\u0441\u0442",key:"growth-chart",id:"JBz6ZAhtsWL3FgkpoGIz"},{name:"\u0412\u0435\u0441",key:"weight-chart",id:"hQUr49vtv6gfxiFG12Uc"}],jI=[{name:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e",key:"notSelected"},{name:"\u042f\u043d\u0432\u0430\u0440\u044c",key:"Jan"},{name:"\u0424\u0435\u0432\u0440\u0430\u043b\u044c",key:"Feb"},{name:"\u041c\u0430\u0440\u0442",key:"Mar"},{name:"\u0410\u043f\u0440\u0435\u043b\u044c",key:"Apr"},{name:"\u041c\u0430\u0439",key:"May"},{name:"\u0418\u044e\u043d\u044c",key:"Jun"},{name:"\u0418\u044e\u043b\u044c",key:"Jul"},{name:"\u0410\u0432\u0433\u0443\u0441\u0442",key:"Aug"},{name:"\u0421\u0435\u043d\u0442\u0440\u044f\u0431\u044c",key:"Sep"},{name:"\u041e\u043a\u0442\u044f\u0431\u0440\u044c",key:"Oct"},{name:"\u041d\u043e\u044f\u0431\u0440\u044c",key:"Nov"},{name:"\u0414\u0435\u043a\u0430\u0431\u0440\u044c",key:"Dec"}];let $I=(()=>{class n{constructor(e){this.ref=e,this.addDataForm=new ou({chart:new Rs(null,[Ob.required]),month:new Rs(null,[Ob.required]),params:new Rs(null,[Ob.required])}),this.chartDD=zI,this.monthDD=jI}submitForm(){var e,i,r,s;const l={chart:null===(e=this.addDataForm.get("chart"))||void 0===e?void 0:e.value.key,month:null===(i=this.addDataForm.get("month"))||void 0===i?void 0:i.value.name,params:null===(r=this.addDataForm.get("params"))||void 0===r?void 0:r.value,id:null===(s=this.addDataForm.get("chart"))||void 0===s?void 0:s.value.id};this.ref.close(l)}closeDialog(){this.ref.close()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ks))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-modal-add-data-for-charts"]],decls:11,vars:4,consts:[[1,"flex","flex-column"],[1,"flex","text-2xl","font-semibold","mb-4","align-items-center","justify-content-center"],[1,"flex","flex-column","justify-content-center","mb-6"],[1,"flex","flex-column",3,"formGroup"],["styleClass","focus-drop","formControlName","chart","optionLabel","name",1,"flex","dd-style","mb-4","focus-drop",3,"options"],["styleClass","focus-drop","formControlName","month","optionLabel","name",1,"flex","dd-style","mb-4","focus-drop",3,"options"],["placeholder","\u0412\u0435\u0441/\u043a\u0433 | \u0420\u043e\u0441\u0442/\u0441\u043c","type","number","pInputText","","formControlName","params",1,"dd-style"],[1,"flex"],["label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","icon","pi pi-times",1,"cancel-add-data","mr-3",3,"onClick"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c","icon","pi pi-check",1,"chart-button",3,"disabled","onClick"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"span",1),c._uU(2,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438"),c.qZA(),c.TgZ(3,"div",2),c.TgZ(4,"form",3),c._UZ(5,"p-dropdown",4),c._UZ(6,"p-dropdown",5),c._UZ(7,"input",6),c.qZA(),c.qZA(),c.TgZ(8,"div",7),c.TgZ(9,"p-button",8),c.NdJ("onClick",function(){return i.closeDialog()}),c.qZA(),c.TgZ(10,"p-button",9),c.NdJ("onClick",function(){return i.submitForm()}),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(4),c.Q6J("formGroup",i.addDataForm),c.xp6(1),c.Q6J("options",i.chartDD),c.xp6(1),c.Q6J("options",i.monthDD),c.xp6(4),c.Q6J("disabled",i.addDataForm.invalid))},directives:[$b,Vb,Yf,_w,Va,Qm,Gb,Hf,yw,Hl],styles:[".cancel-add-data .p-button{background:#607D8B!important;border:1px solid #607D8B!important;border-radius:8px}.cancel-add-data .p-button:focus{box-shadow:none}.dd-style{background:#ace7e0;width:280px}.dd-style .p-dropdown{width:280px!important;background:#ace7e0}.dd-style .p-dropdown-panel .p-dropdown-items:not(.p-dropdown-virtualscroll){background:var(--teal-100)}.dd-style .p-dropdown-panel .p-dropdown-items .p-dropdown-item.p-highlight{background:var(--teal-200)}\n"],encapsulation:2,changeDetection:0}),n})();var Qi=L(1394),Ha=L(8213);class qd{constructor(t){return t}}class GI{constructor(){return(0,Ha.C6)()}}const up=new c.OlP("angularfire2._apps"),DF={provide:qd,useFactory:function(n){return n&&1===n.length?n[0]:new qd((0,Ha.Mq)())},deps:[[new c.FiY,up]]},IF={provide:GI,deps:[[new c.FiY,up]]};function O6(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new qd(i)}}let P6=(()=>{class n{constructor(e){(0,Ha.KN)("angularfire",Qi.q4.full,"core"),(0,Ha.KN)("angularfire",Qi.q4.full,"app"),(0,Ha.KN)("angular",c.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[DF,IF]}),n})();function F6(n,...t){return{ngModule:P6,providers:[{provide:up,useFactory:O6(n),multi:!0,deps:[c.R0b,c.zs3,Qi.HU,...t]}]}}const V6=(0,Qi.u3)(Ha.ZF,!0);var we=L(8239),Rt=L(3854),Wr=L(158);function a(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]])}return e}var Zs=L(5422),du=L(3910);const I9=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},U6=new Rt.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ZI=new Zs.Yd("@firebase/auth");function QI(n,...t){ZI.logLevel<=Zs.in.ERROR&&ZI.error(`Auth (${Wr.SDK_VERSION}): ${n}`,...t)}function Qs(n,...t){throw SF(n,...t)}function Ql(n,...t){return SF(n,...t)}function H6(n,t,e){const i=Object.assign(Object.assign({},I9()),{[t]:e});return new Rt.LL("auth","Firebase",i).create(t,{appName:n.name})}function SF(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return U6.create(n,...t)}function Ne(n,t,...e){if(!n)throw SF(t,...e)}function Jl(n){const t="INTERNAL ASSERTION FAILED: "+n;throw QI(t),new Error(t)}function Kd(n,t){n||Jl(t)}function z6(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Hw{constructor(t,e){this.shortDelay=t,this.longDelay=e,Kd(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,Rt.uI)()||(0,Rt.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===z6()||"https:"===z6()||(0,Rt.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}class j6{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Jl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Jl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Jl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const k9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},R9=new Hw(3e4,6e4);function li(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function gi(n,t,e,i){return kF.apply(this,arguments)}function kF(){return(kF=(0,we.Z)(function*(n,t,e,i,r={}){return $6(n,r,(0,we.Z)(function*(){let s={},l={};i&&("GET"===t?l=i:s={body:JSON.stringify(i)});const d=(0,Rt.xO)(Object.assign({key:n.config.apiKey},l)).slice(1),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode),j6.fetch()(G6(n,n.config.apiHost,e,d),Object.assign({method:t,headers:f,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function $6(n,t,e){return RF.apply(this,arguments)}function RF(){return(RF=(0,we.Z)(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},k9),t);try{const r=new O9(n),s=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();const l=yield s.json();if("needConfirmation"in l)throw zw(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const d=s.ok?l.errorMessage:l.error.message,[f,g]=d.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===f)throw zw(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===f)throw zw(n,"email-already-in-use",l);if("USER_DISABLED"===f)throw zw(n,"user-disabled",l);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw H6(n,_,g);Qs(n,_)}}catch(r){if(r instanceof Rt.ZR)throw r;Qs(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function G6(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?function(n,t){Kd(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}(n.config,r):`${n.config.apiScheme}://${r}`}class O9{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ql(this.auth,"network-request-failed")),R9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zw(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Ql(n,t,i);return r.customData._tokenResponse=e,r}function PF(){return(PF=(0,we.Z)(function*(n,t){return gi(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function N9(n,t){return NF.apply(this,arguments)}function NF(){return(NF=(0,we.Z)(function*(n,t){return gi(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function jw(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function LF(){return(LF=(0,we.Z)(function*(n,t=!1){const e=(0,Rt.m9)(n),i=yield e.getIdToken(t),r=JI(i);Ne(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,l=null==s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:jw(VF(r.auth_time)),issuedAtTime:jw(VF(r.iat)),expirationTime:jw(VF(r.exp)),signInProvider:l||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function VF(n){return 1e3*Number(n)}function JI(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return QI("JWT malformed, contained fewer than 3 sections"),null;try{const r=(0,Rt.tV)(e);return r?JSON.parse(r):(QI("Failed to decode base64 JWT payload"),null)}catch(r){return QI("Caught error parsing JWT payload as JSON",null==r?void 0:r.toString()),null}}function fu(n,t){return BF.apply(this,arguments)}function BF(){return(BF=(0,we.Z)(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof Rt.ZR&&B9(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}function B9({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class U9{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout((0,we.Z)(function*(){yield e.iteration()}),i)}iteration(){var t=this;return(0,we.Z)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&t.schedule(!0))}t.schedule()})()}}class W6{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=jw(this.lastLoginAt),this.creationTime=jw(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $w(n){return UF.apply(this,arguments)}function UF(){return(UF=(0,we.Z)(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),r=yield fu(n,N9(e,{idToken:i}));Ne(null==r?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const l=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?j9(s.providerUserInfo):[],d=z9(n.providerData,l),_=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==d?void 0:d.length)),b={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:d,metadata:new W6(s.createdAt,s.lastLoginAt),isAnonymous:_};Object.assign(n,b)})).apply(this,arguments)}function HF(){return(HF=(0,we.Z)(function*(n){const t=(0,Rt.m9)(n);yield $w(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function z9(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function j9(n){return n.map(t=>{var{providerId:e}=t,i=a(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function zF(){return(zF=(0,we.Z)(function*(n,t){const e=yield $6(n,{},(0,we.Z)(function*(){const i=(0,Rt.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,l=G6(n,r,"/v1/token",`key=${s}`),d=yield n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",j6.fetch()(l,{method:"POST",headers:d,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}class Gw{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ne(t.idToken,"internal-error"),Ne(void 0!==t.idToken,"internal-error"),Ne(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(n){const t=JI(n);return Ne(t,"internal-error"),Ne(void 0!==t.exp,"internal-error"),Ne(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var i=this;return(0,we.Z)(function*(){return Ne(!i.accessToken||i.refreshToken,t,"user-token-expired"),e||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return(0,we.Z)(function*(){const{accessToken:r,refreshToken:s,expiresIn:l}=yield function(n,t){return zF.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(r,s,Number(l))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:s}=e,l=new Gw;return i&&(Ne("string"==typeof i,"internal-error",{appName:t}),l.refreshToken=i),r&&(Ne("string"==typeof r,"internal-error",{appName:t}),l.accessToken=r),s&&(Ne("number"==typeof s,"internal-error",{appName:t}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Gw,this.toJSON())}_performRefresh(){return Jl("not implemented")}}function Yd(n,t){Ne("string"==typeof n||void 0===n,"internal-error",{appName:t})}class pp{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=a(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new U9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new W6(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,we.Z)(function*(){const i=yield fu(e,e.stsTokenManager.getToken(e.auth,t));return Ne(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function(n){return LF.apply(this,arguments)}(this,t)}reload(){return function(n){return HF.apply(this,arguments)}(this)}_assign(t){this!==t&&(Ne(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new pp(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return(0,we.Z)(function*(){let r=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield $w(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return(0,we.Z)(function*(){const e=yield t.getIdToken();return yield fu(t,function(n,t){return PF.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,l,d,f,g,_;const b=null!==(i=e.displayName)&&void 0!==i?i:void 0,E=null!==(r=e.email)&&void 0!==r?r:void 0,x=null!==(s=e.phoneNumber)&&void 0!==s?s:void 0,M=null!==(l=e.photoURL)&&void 0!==l?l:void 0,k=null!==(d=e.tenantId)&&void 0!==d?d:void 0,R=null!==(f=e._redirectEventId)&&void 0!==f?f:void 0,B=null!==(g=e.createdAt)&&void 0!==g?g:void 0,G=null!==(_=e.lastLoginAt)&&void 0!==_?_:void 0,{uid:Q,emailVerified:ce,isAnonymous:de,providerData:Ce,stsTokenManager:xe}=e;Ne(Q&&xe,t,"internal-error");const Ae=Gw.fromJSON(this.name,xe);Ne("string"==typeof Q,t,"internal-error"),Yd(b,t.name),Yd(E,t.name),Ne("boolean"==typeof ce,t,"internal-error"),Ne("boolean"==typeof de,t,"internal-error"),Yd(x,t.name),Yd(M,t.name),Yd(k,t.name),Yd(R,t.name),Yd(B,t.name),Yd(G,t.name);const Le=new pp({uid:Q,auth:t,email:E,emailVerified:ce,displayName:b,isAnonymous:de,photoURL:M,phoneNumber:x,tenantId:k,stsTokenManager:Ae,createdAt:B,lastLoginAt:G});return Ce&&Array.isArray(Ce)&&(Le.providerData=Ce.map(ot=>Object.assign({},ot))),R&&(Le._redirectEventId=R),Le}static _fromIdTokenResponse(t,e,i=!1){return(0,we.Z)(function*(){const r=new Gw;r.updateFromServerResponse(e);const s=new pp({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield $w(s),s})()}}const q6=new Map;function pu(n){Kd(n instanceof Function,"Expected a class definition");let t=q6.get(n);return t?(Kd(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,q6.set(n,t),t)}const K6=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,we.Z)(function*(){return!0})()}_set(e,i){var r=this;return(0,we.Z)(function*(){r.storage[e]=i})()}_get(e){var i=this;return(0,we.Z)(function*(){const r=i.storage[e];return void 0===r?null:r})()}_remove(e){var i=this;return(0,we.Z)(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function XI(n,t,e){return`firebase:${n}:${t}:${e}`}class v_{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=XI(this.userKey,r.apiKey,s),this.fullPersistenceKey=XI("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,we.Z)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?pp._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,we.Z)(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return(0,we.Z)(function*(){if(!e.length)return new v_(pu(K6),t,i);const r=(yield Promise.all(e.map(function(){var g=(0,we.Z)(function*(_){if(yield _._isAvailable())return _});return function(_){return g.apply(this,arguments)}}()))).filter(g=>g);let s=r[0]||pu(K6);const l=XI(i,t.config.apiKey,t.name);let d=null;for(const g of e)try{const _=yield g._get(l);if(_){const b=pp._fromJSON(t,_);g!==s&&(d=b),s=g;break}}catch(_){}const f=r.filter(g=>g._shouldAllowMigration);return s._shouldAllowMigration&&f.length?(s=f[0],d&&(yield s._set(l,d.toJSON())),yield Promise.all(e.map(function(){var g=(0,we.Z)(function*(_){if(_!==s)try{yield _._remove(l)}catch(b){}});return function(_){return g.apply(this,arguments)}}())),new v_(s,t,i)):new v_(s,t,i)})()}}function Y6(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(function(n=(0,Rt.z$)()){return/iemobile/i.test(n)}(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(function(n=(0,Rt.z$)()){return/firefox\//i.test(n)}(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(function(n=(0,Rt.z$)()){return/blackberry/i.test(n)}(t))return"Blackberry";if(function(n=(0,Rt.z$)()){return/webos/i.test(n)}(t))return"Webos";if(function(n=(0,Rt.z$)()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}(t))return"Safari";if((t.includes("chrome/")||function(n=(0,Rt.z$)()){return/crios\//i.test(n)}(t))&&!t.includes("edge/"))return"Chrome";if(function(n=(0,Rt.z$)()){return/android/i.test(n)}(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==i?void 0:i.length))return i[1]}return"Other"}function nz(n,t=[]){let e;switch(n){case"Browser":e=Y6((0,Rt.z$)());break;case"Worker":e=`${Y6((0,Rt.z$)())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Wr.SDK_VERSION}/${i}`}function iz(n,t){return GF.apply(this,arguments)}function GF(){return(GF=(0,we.Z)(function*(n,t){return gi(n,"GET","/v2/recaptchaConfig",li(n,t))})).apply(this,arguments)}function sz(n){return void 0!==n&&void 0!==n.enterprise}class oz{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}class lz{constructor(t){this.type="recaptcha-enterprise",this.auth=xr(t)}verify(t="verify",e=!1){var i=this;return(0,we.Z)(function*(){function s(){return s=(0,we.Z)(function*(d){if(!e){if(null==d.tenantId&&null!=d._agentRecaptchaConfig)return d._agentRecaptchaConfig.siteKey;if(null!=d.tenantId&&void 0!==d._tenantRecaptchaConfigs[d.tenantId])return d._tenantRecaptchaConfigs[d.tenantId].siteKey}return new Promise(function(){var f=(0,we.Z)(function*(g,_){iz(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(b=>{if(void 0!==b.recaptchaKey){const E=new oz(b);return null==d.tenantId?d._agentRecaptchaConfig=E:d._tenantRecaptchaConfigs[d.tenantId]=E,g(E.siteKey)}_(new Error("recaptcha Enterprise site key undefined"))}).catch(b=>{_(b)})});return function(g,_){return f.apply(this,arguments)}}())}),s.apply(this,arguments)}function l(d,f,g){const _=window.grecaptcha;sz(_)?_.enterprise.ready(()=>{_.enterprise.execute(d,{action:t}).then(b=>{f(b)}).catch(()=>{f("NO_RECAPTCHA")})}):g(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((d,f)=>{(function(d){return s.apply(this,arguments)})(i.auth).then(g=>{if(!e&&sz(window.grecaptcha))l(g,d,f);else{if("undefined"==typeof window)return void f(new Error("RecaptchaVerifier is only supported in browser"));(function(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const s=Ql("internal-error");s.customData=r,e(s)},i.type="text/javascript",i.charset="UTF-8",function(){var n,t;return null!==(t=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==t?t:document}().appendChild(i)})})("https://www.google.com/recaptcha/enterprise.js?render="+g).then(()=>{l(g,d,f)}).catch(_=>{f(_)})}}).catch(g=>{f(g)})})})()}}class J9{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=s=>new Promise((l,d)=>{try{l(t(s))}catch(f){d(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return(0,we.Z)(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const r of e.queue)yield r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const s of i)try{s()}catch(l){}throw e.auth._errorFactory.create("login-blocked",{originalMessage:null==r?void 0:r.message})}})()}}class X9{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cz(this),this.idTokenSubscription=new cz(this),this.beforeStateQueue=new J9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=pu(e)),this._initializationPromise=this.queue((0,we.Z)(function*(){var r,s;if(!i._deleted&&(i.persistenceManager=yield v_.create(i,t),!i._deleted)){if(null===(r=i._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch(l){}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(s=i.currentUser)||void 0===s?void 0:s.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,we.Z)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUser(t){var e=this;return(0,we.Z)(function*(){var i;const r=yield e.assertedPersistence.getCurrentUser();let s=r,l=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const d=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,f=null==s?void 0:s._redirectEventId,g=yield e.tryRedirectSignIn(t);(!d||d===f)&&(null==g?void 0:g.user)&&(s=g.user,l=!0)}if(!s)return e.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{yield e.beforeStateQueue.runMiddleware(s)}catch(d){s=r,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(d))}return s?e.reloadAndSetCurrentUserOrClear(s):e.directlySetCurrentUser(null)}return Ne(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===s._redirectEventId?e.directlySetCurrentUser(s):e.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(t){var e=this;return(0,we.Z)(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch(r){yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,we.Z)(function*(){try{yield $w(t)}catch(i){if("auth/network-request-failed"!==(null==i?void 0:i.code))return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return(0,we.Z)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,we.Z)(function*(){const i=t?(0,Rt.m9)(t):null;return i&&Ne(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return(0,we.Z)(function*(){if(!i._deleted)return t&&Ne(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue((0,we.Z)(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,we.Z)(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var e=this;return this.queue((0,we.Z)(function*(){yield e.assertedPersistence.setPersistence(pu(t))}))}initializeRecaptchaConfig(){var t=this;return(0,we.Z)(function*(){const e=yield iz(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new oz(e);null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,i.emailPasswordEnabled&&new lz(t).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Rt.LL("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return(0,we.Z)(function*(){const r=yield i.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,we.Z)(function*(){if(!e.redirectPersistenceManager){const i=t&&pu(t)||e._popupRedirectResolver;Ne(i,e,"argument-error"),e.redirectPersistenceManager=yield v_.create(e,[pu(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,we.Z)(function*(){var i,r;return e._isInitialized&&(yield e.queue((0,we.Z)(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,we.Z)(function*(){if(t===e.currentUser)return e.queue((0,we.Z)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const s="function"==typeof e?e:e.next.bind(e),l=this._isInitialized?Promise.resolve():this._initializationPromise;return Ne(l,this,"internal-error"),l.then(()=>s(this.currentUser)),"function"==typeof e?t.addObserver(e,i,r):t.addObserver(e)}directlySetCurrentUser(t){var e=this;return(0,we.Z)(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,we.Z)(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const r=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const s=yield t._getAppCheckToken();return s&&(i["X-Firebase-AppCheck"]=s),i})()}_getAppCheckToken(){var t=this;return(0,we.Z)(function*(){var e;const i=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return(null==i?void 0:i.error)&&function(n,...t){ZI.logLevel<=Zs.in.WARN&&ZI.warn(`Auth (${Wr.SDK_VERSION}): ${n}`,...[])}(`Error while retrieving App Check token: ${i.error}`),null==i?void 0:i.token})()}}function xr(n){return(0,Rt.m9)(n)}class cz{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,Rt.ne)(e=>this.observer=e)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}new WeakMap,Math.floor(1e6*Math.random()),new Hw(3e4,6e4),new Hw(2e3,1e4),new Map,new Hw(3e4,6e4),new Hw(5e3,15e3),new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]),encodeURIComponent("fac");var n,Vz="@firebase/auth";class GY{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,we.Z)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((null==i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);!e||(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,Rt.Pz)("authIdTokenMaxAge"),n="Browser",(0,Wr._registerComponent)(new du.wA("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=i.options;Ne(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:l,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nz(n)},g=new X9(i,r,s,f);return function(n,t){const e=(null==t?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(pu);(null==t?void 0:t.errorMap)&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),(0,Wr._registerComponent)(new du.wA("auth-internal",t=>{const e=xr(t.getProvider("auth").getImmediate());return new GY(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Wr.registerVersion)(Vz,"0.23.2",void 0),(0,Wr.registerVersion)(Vz,"0.23.2","esm2017");class zz{constructor(){return(0,Qi.vb)("auth")}}const PL=new Map,jz={activated:!1,tokenObservers:[]},eZ={initialized:!1,enabled:!1};function mi(n){return PL.get(n)||Object.assign({},jz)}function hS(){return eZ}class oZ{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,we.Z)(function*(){e.stop();try{e.pending=new Rt.BH,yield function(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Rt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const qr=new Rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function NL(n){if(!mi(n).activated)throw qr.create("use-before-activation",{appName:n.name})}function gS(n,t){return VL.apply(this,arguments)}function VL(){return VL=(0,we.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const b=yield r.getHeartbeatsHeader();b&&(i["X-Firebase-Client"]=b)}const s={method:"POST",body:JSON.stringify(t),headers:i};let l,d;try{l=yield fetch(n,s)}catch(b){throw qr.create("fetch-network-error",{originalErrorMessage:null==b?void 0:b.message})}if(200!==l.status)throw qr.create("fetch-status-error",{httpStatus:l.status});try{d=yield l.json()}catch(b){throw qr.create("fetch-parse-error",{originalErrorMessage:null==b?void 0:b.message})}const f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw qr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const g=1e3*Number(f[1]),_=Date.now();return{token:d.token,expireTimeMillis:_+g,issuedAtTimeMillis:_}}),VL.apply(this,arguments)}function Gz(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Zw="firebase-app-check-store";let mS=null;function qz(){return mS||(mS=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(qr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Zw,{keyPath:"compositeKey"})}}catch(e){t(qr.create("storage-open",{originalErrorMessage:null==e?void 0:e.message}))}}),mS)}function BL(){return BL=(0,we.Z)(function*(n,t){const i=(yield qz()).transaction(Zw,"readwrite"),s=i.objectStore(Zw).put({compositeKey:n,value:t});return new Promise((l,d)=>{s.onsuccess=f=>{l()},i.onerror=f=>{var g;d(qr.create("storage-set",{originalErrorMessage:null===(g=f.target.error)||void 0===g?void 0:g.message}))}})}),BL.apply(this,arguments)}const Qw=new Zs.Yd("@firebase/app-check");function zL(n,t){return(0,Rt.hl)()?function(n,t){return function(n,t){return BL.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Qw.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function $L(){return hS().enabled}function GL(){return WL.apply(this,arguments)}function WL(){return WL=(0,we.Z)(function*(){const n=hS();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),WL.apply(this,arguments)}const bZ={error:"UNKNOWN_ERROR"};function wZ(n){return Rt.US.encodeString(JSON.stringify(n),!1)}function _S(n){return qL.apply(this,arguments)}function qL(){return qL=(0,we.Z)(function*(n,t=!1){const e=n.app;NL(e);const i=mi(e);let s,r=i.token;if(r&&!w_(r)&&(i.token=void 0,r=void 0),!r){const f=yield i.cachedTokenPromise;f&&(w_(f)?r=f:yield zL(e,void 0))}if(!t&&r&&w_(r))return{token:r.token};let d,l=!1;if($L()){i.exchangeTokenPromise||(i.exchangeTokenPromise=gS(Gz(e,yield GL()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const f=yield i.exchangeTokenPromise;return yield zL(e,f),i.token=f,{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield mi(e).exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?Qw.warn(f.message):Qw.error(f),s=f}return r?s?d=w_(r)?{token:r.token,internalError:s}:ej(s):(d={token:r.token},i.token=r,yield zL(e,r)):d=ej(s),l&&Xz(e,d),d}),qL.apply(this,arguments)}function KL(){return KL=(0,we.Z)(function*(n){const t=n.app;NL(t);const{provider:e}=mi(t);if($L()){const i=yield GL(),{token:r}=yield gS(Gz(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}}),KL.apply(this,arguments)}function ZL(n,t){const e=mi(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function Jz(n){const{app:t}=n,e=mi(t);let i=e.tokenRefresher;i||(i=function(n){const{app:t}=n;return new oZ((0,we.Z)(function*(){let i;if(i=mi(t).token?yield _S(n,!0):yield _S(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=mi(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function Xz(n,t){const e=mi(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function w_(n){return n.expireTimeMillis-Date.now()>0}function ej(n){return{token:wZ(bZ),error:n}}class EZ{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=mi(this.app);for(const e of t)ZL(this.app,e.next);return Promise.resolve()}}const lj="app-check-internal";(0,Wr._registerComponent)(new du.wA("app-check",n=>function(n,t){return new EZ(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(lj).initialize()})),(0,Wr._registerComponent)(new du.wA(lj,n=>function(n){return{getToken:t=>_S(n,t),getLimitedUseToken:()=>function(n){return KL.apply(this,arguments)}(n),addTokenListener:t=>function(n,t,e,i){const{app:r}=n,s=mi(r);if(s.tokenObservers=[...s.tokenObservers,{next:e,error:i,type:t}],s.token&&w_(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),Jz(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Jz(n))}(n,"INTERNAL",t),removeTokenListener:t=>ZL(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wr.registerVersion)("@firebase/app-check","0.8.0");class uj{constructor(){return(0,Qi.vb)("app-check")}}"undefined"!=typeof window&&window;var ze,zZ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},za={},t2=t2||{},kt=zZ||self;function vS(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Jw(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var n2="closure_uid_"+(1e9*Math.random()>>>0),$Z=0;function GZ(n,t,e){return n.call.apply(n.bind,arguments)}function WZ(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function us(n,t,e){return(us=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?GZ:WZ).apply(null,arguments)}function bS(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Dr(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,s){for(var l=Array(arguments.length-2),d=2;d<arguments.length;d++)l[d-2]=arguments[d];return t.prototype[r].apply(i,l)}}function Qd(){this.s=this.s,this.o=this.o}Qd.prototype.s=!1,Qd.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(n){Object.prototype.hasOwnProperty.call(n,n2)&&n[n2]||(n[n2]=++$Z)}(this)},Qd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const dj=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function r2(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function hj(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(vS(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let l=0;l<s;l++)n[r+l]=i[l]}else n.push(i)}}function ds(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}ds.prototype.h=function(){this.defaultPrevented=!0};var KZ=function(){if(!kt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kt.addEventListener("test",()=>{},t),kt.removeEventListener("test",()=>{},t)}catch(e){}return n}();function Xw(n){return/^[\s\xa0]*$/.test(n)}function wS(){var n=kt.navigator;return n&&(n=n.userAgent)?n:""}function Xl(n){return-1!=wS().indexOf(n)}function s2(n){return s2[" "](n),n}s2[" "]=function(){};var a2,ZZ=Xl("Opera"),C_=Xl("Trident")||Xl("MSIE"),fj=Xl("Edge"),o2=fj||C_,pj=Xl("Gecko")&&!(-1!=wS().toLowerCase().indexOf("webkit")&&!Xl("Edge"))&&!(Xl("Trident")||Xl("MSIE"))&&!Xl("Edge"),QZ=-1!=wS().toLowerCase().indexOf("webkit")&&!Xl("Edge");function gj(){var n=kt.document;return n?n.documentMode:void 0}e:{var l2="",c2=function(){var n=wS();return pj?/rv:([^\);]+)(\)|;)/.exec(n):fj?/Edge\/([\d\.]+)/.exec(n):C_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):QZ?/WebKit\/(\S+)/.exec(n):ZZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(c2&&(l2=c2?c2[1]:""),C_){var u2=gj();if(null!=u2&&u2>parseFloat(l2)){a2=String(u2);break e}}a2=l2}var JZ=kt.document&&C_&&(gj()||parseInt(a2,10))||void 0;function e0(n,t){if(ds.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(pj){e:{try{s2(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:XZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&e0.$.h.call(this)}}Dr(e0,ds);var XZ={2:"touch",3:"pen",4:"mouse"};e0.prototype.h=function(){e0.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var t0="closure_listenable_"+(1e6*Math.random()|0),eQ=0;function tQ(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++eQ,this.fa=this.ia=!1}function CS(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function h2(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function _j(n){const t={};for(const e in n)t[e]=n[e];return t}const yj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vj(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<yj.length;s++)e=yj[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function ES(n){this.src=n,this.g={},this.h=0}function f2(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=dj(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(CS(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function p2(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.fa&&s.listener==t&&s.capture==!!e&&s.la==i)return r}return-1}ES.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=p2(n,t,i,r);return-1<l?(t=n[l],e||(t.ia=!1)):((t=new tQ(t,this.src,s,!!i,r)).ia=e,n.push(t)),t};var g2="closure_lm_"+(1e6*Math.random()|0),m2={};function bj(n,t,e,i,r){if(i&&i.once)return Cj(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)bj(n,t[s],e,i,r);return null}return e=b2(e),n&&n[t0]?n.O(t,e,Jw(i)?!!i.capture:!!i,r):wj(n,t,e,!1,i,r)}function wj(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var l=Jw(r)?!!r.capture:!!r,d=y2(n);if(d||(n[g2]=d=new ES(n)),(e=d.add(t,e,i,l,s)).proxy)return e;if(i=function(){const t=rQ;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)KZ||(r=l),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(Tj(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Cj(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Cj(n,t[s],e,i,r);return null}return e=b2(e),n&&n[t0]?n.P(t,e,Jw(i)?!!i.capture:!!i,r):wj(n,t,e,!0,i,r)}function Ej(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)Ej(n,t[s],e,i,r);else i=Jw(i)?!!i.capture:!!i,e=b2(e),n&&n[t0]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=p2(s=n.g[t],e,i,r))&&(CS(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=y2(n))&&(t=n.g[t.toString()],n=-1,t&&(n=p2(t,e,i,r)),(e=-1<n?t[n]:null)&&_2(e))}function _2(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[t0])f2(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(Tj(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=y2(t))?(f2(e,n),0==e.h&&(e.src=null,t[g2]=null)):CS(n)}}}function Tj(n){return n in m2?m2[n]:m2[n]="on"+n}function rQ(n,t){if(n.fa)n=!0;else{t=new e0(t,this);var e=n.listener,i=n.la||n.src;n.ia&&_2(n),n=e.call(i,t)}return n}function y2(n){return(n=n[g2])instanceof ES?n:null}var v2="__closure_events_fn_"+(1e9*Math.random()>>>0);function b2(n){return"function"==typeof n?n:(n[v2]||(n[v2]=function(t){return n.handleEvent(t)}),n[v2])}function Ir(){Qd.call(this),this.i=new ES(this),this.S=this,this.J=null}function Kr(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new ds(t,n);else if(t instanceof ds)t.target=t.target||n;else{var r=t;vj(t=new ds(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var l=t.g=e[s];r=TS(l,i,!0,t)&&r}if(r=TS(l=t.g=n,i,!0,t)&&r,r=TS(l,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=TS(l=t.g=e[s],i,!1,t)&&r}function TS(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var l=t[s];if(l&&!l.fa&&l.capture==e){var d=l.listener,f=l.la||l.src;l.ia&&f2(n.i,l),r=!1!==d.call(f,i)&&r}}return r&&!i.defaultPrevented}Dr(Ir,Qd),Ir.prototype[t0]=!0,Ir.prototype.removeEventListener=function(n,t,e,i){Ej(this,n,t,e,i)},Ir.prototype.N=function(){if(Ir.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)CS(e[i]);delete n.g[t],n.h--}}this.J=null},Ir.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Ir.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var w2=kt.JSON.stringify;function oQ(){var n=C2;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var xj=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new lQ,n=>n.reset());class lQ{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function cQ(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function uQ(n){kt.setTimeout(()=>{throw n},0)}let n0,r0=!1,C2=new class{constructor(){this.h=this.g=null}add(t,e){const i=xj.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},Dj=()=>{const n=kt.Promise.resolve(void 0);n0=()=>{n.then(dQ)}};var dQ=()=>{for(var n;n=oQ();){try{n.h.call(n.g)}catch(e){uQ(e)}var t=xj;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}r0=!1};function xS(n,t){Ir.call(this),this.h=n||1,this.g=t||kt,this.j=us(this.qb,this),this.l=Date.now()}function E2(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function T2(n,t,e){if("function"==typeof n)e&&(n=us(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=us(n.handleEvent,n)}return 2147483647<Number(t)?-1:kt.setTimeout(n,t||0)}function Ij(n){n.g=T2(()=>{n.g=null,n.i&&(n.i=!1,Ij(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Dr(xS,Ir),(ze=xS.prototype).ga=!1,ze.T=null,ze.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kr(this,"tick"),this.ga&&(E2(this),this.start()))}},ze.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ze.N=function(){xS.$.N.call(this),E2(this),delete this.g};class hQ extends Qd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Ij(this)}N(){super.N(),this.g&&(kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function s0(n){Qd.call(this),this.h=n,this.g={}}Dr(s0,Qd);var Sj=[];function Aj(n,t,e,i){Array.isArray(e)||(e&&(Sj[0]=e.toString()),e=Sj);for(var r=0;r<e.length;r++){var s=bj(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Mj(n){h2(n.g,function(t,e){this.g.hasOwnProperty(e)&&_2(t)},n),n.g={}}function DS(){this.g=!0}function E_(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return w2(e)}catch(d){return t}}(n,e)+(i?" "+i:"")})}s0.prototype.N=function(){s0.$.N.call(this),Mj(this)},s0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},DS.prototype.Ea=function(){this.g=!1},DS.prototype.info=function(){};var yp={},kj=null;function IS(){return kj=kj||new Ir}function Rj(n){ds.call(this,yp.Ta,n)}function o0(n){const t=IS();Kr(t,new Rj(t))}function Oj(n,t){ds.call(this,yp.STAT_EVENT,n),this.stat=t}function Ps(n){const t=IS();Kr(t,new Oj(t,n))}function Pj(n,t){ds.call(this,yp.Ua,n),this.size=t}function a0(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kt.setTimeout(function(){n()},t)}yp.Ta="serverreachability",Dr(Rj,ds),yp.STAT_EVENT="statevent",Dr(Oj,ds),yp.Ua="timingevent",Dr(Pj,ds);var SS={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Fj={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function x2(){}function Lj(){}x2.prototype.h=null;var S2,l0={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function D2(){ds.call(this,"d")}function I2(){ds.call(this,"c")}function AS(){}function c0(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new s0(this),this.P=_Q,this.V=new xS(n=o2?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Vj}function Vj(){this.i=null,this.g="",this.h=!1}Dr(D2,ds),Dr(I2,ds),Dr(AS,x2),AS.prototype.g=function(){return new XMLHttpRequest},AS.prototype.i=function(){return{}},S2=new AS;var _Q=45e3,A2={},MS={};function M2(n,t,e){n.L=1,n.v=PS(mu(t)),n.s=e,n.S=!0,Bj(n,null)}function Bj(n,t){n.G=Date.now(),u0(n),n.A=mu(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Yj(e.i,"t",i),n.C=0,e=n.l.J,n.h=new Vj,n.g=v$(n.l,e?t:null,!n.s),0<n.O&&(n.M=new hQ(us(n.Pa,n,n.g),n.O)),Aj(n.U,n.g,"readystatechange",n.nb),t=n.I?_j(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),o0(),function(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var l="",d=s.split("&"),f=0;f<d.length;f++){var g=d[f].split("=");if(1<g.length){var _=g[0];g=g[1];var b=_.split("_");l=2<=b.length&&"type"==b[1]?l+(_+"=")+g+"&":l+(_+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Uj(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Hj(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=yQ(n,e),r==MS){4==t&&(n.o=4,Ps(14),i=!1),E_(n.j,n.m,null,"[Incomplete Response]");break}if(r==A2){n.o=4,Ps(15),E_(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}E_(n.j,n.m,r,null),k2(n,r)}Uj(n)&&r!=MS&&r!=A2&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ps(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),V2(t),t.M=!0,Ps(11))):(E_(n.j,n.m,e,"[Invalid Chunked Response]"),vp(n),d0(n))}function yQ(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?MS:(e=Number(t.substring(e,i)),isNaN(e)?A2:(i+=1)+e>t.length?MS:(t=t.slice(i,i+e),n.C=i+e,t))}function u0(n){n.Y=Date.now()+n.P,zj(n,n.P)}function zj(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=a0(us(n.lb,n),t)}function kS(n){n.B&&(kt.clearTimeout(n.B),n.B=null)}function d0(n){0==n.l.H||n.J||g$(n.l,n)}function vp(n){kS(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,E2(n.V),Mj(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function k2(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||R2(e.i,n)))if(!n.K&&R2(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch(g){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=a0(us(e.ib,e),6e3));else{if(e.g){if(!(e.g.G+3e3<n.G))break e;US(e),VS(e)}L2(e),Ps(18)}if(1>=Jj(e.i)&&e.oa){try{e.oa()}catch(g){}e.oa=void 0}}else wp(e,11)}else if((n.K||e.g==n)&&US(e),!Xw(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let g=r[t];if(e.V=g[0],g=g[1],2==e.H)if("c"==g[0]){e.K=g[1],e.pa=g[2];const _=g[3];null!=_&&(e.ra=_,e.l.info("VER="+e.ra));const b=g[4];null!=b&&(e.Ga=b,e.l.info("SVER="+e.Ga));const E=g[5];null!=E&&"number"==typeof E&&0<E&&(e.L=i=1.5*E,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const x=n.g;if(x){const M=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(M){var s=i.i;s.g||-1==M.indexOf("spdy")&&-1==M.indexOf("quic")&&-1==M.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(O2(s,s.h),s.h=null))}if(i.F){const k=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;k&&(i.Da=k,Vn(i.I,i.F,k))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var l=n;if((i=e).wa=y$(i,i.J?i.pa:null,i.Y),l.K){Xj(i.i,l);var d=l,f=i.L;f&&d.setTimeout(f),d.B&&(kS(d),u0(d)),i.g=l}else f$(i);0<e.j.length&&BS(e)}else"stop"!=g[0]&&"close"!=g[0]||wp(e,7);else 3==e.H&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?wp(e,7):N2(e):"noop"!=g[0]&&e.h&&e.h.Aa(g),e.A=0)}o0()}catch(g){}}function jj(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(vS(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(vS(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(vS(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(ze=c0.prototype).setTimeout=function(n){this.P=n},ze.nb=function(n){n=n.target;const t=this.M;t&&3==ec(n)?t.l():this.Pa(n)},ze.Pa=function(n){try{if(n==this.g)e:{const _=ec(this.g);var t=this.g.Ia();if(this.g.da(),!(3>_)&&(3!=_||o2||this.g&&(this.h.h||this.g.ja()||a$(this.g)))){this.J||4!=_||7==t||o0(),kS(this);var e=this.g.da();this.ca=e;t:if(Uj(this)){var i=a$(this.g);n="";var r=i.length,s=4==ec(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){vp(this),d0(this);var l="";break t}this.h.i=new kt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==e,function(n,t,e,i,r,s,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.W,_,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xw(d)){var g=d;break t}}g=null}if(!(e=g)){this.i=!1,this.o=3,Ps(12),vp(this),d0(this);break e}E_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,k2(this,e)}this.S?(Hj(this,_,l),o2&&this.i&&3==_&&(Aj(this.U,this.V,"tick",this.mb),this.V.start())):(E_(this.j,this.m,l,null),k2(this,l)),4==_&&vp(this),this.i&&!this.J&&(4==_?g$(this.l,this):(this.i=!1,u0(this)))}else(function(n){const t={};n=(n.g&&2<=ec(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Xw(n[i]))continue;var e=cQ(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const s=t[r]||[];t[r]=s,s.push(e)}!function(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<l.indexOf("Unknown SID")?(this.o=3,Ps(12)):(this.o=0,Ps(13)),vp(this),d0(this)}}}catch(_){}},ze.mb=function(){if(this.g){var n=ec(this.g),t=this.g.ja();this.C<t.length&&(kS(this),Hj(this,n,t),this.i&&4!=n&&u0(this))}},ze.cancel=function(){this.J=!0,vp(this)},ze.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(o0(),Ps(17)),vp(this),this.o=2,d0(this)):zj(this,this.Y-n)};var $j=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bp(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof bp){this.h=n.h,RS(this,n.j),this.s=n.s,this.g=n.g,OS(this,n.m),this.l=n.l;var t=n.i,e=new p0;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),Gj(this,e),this.o=n.o}else n&&(t=String(n).match($j))?(this.h=!1,RS(this,t[1]||"",!0),this.s=h0(t[2]||""),this.g=h0(t[3]||"",!0),OS(this,t[4]),this.l=h0(t[5]||"",!0),Gj(this,t[6]||"",!0),this.o=h0(t[7]||"")):(this.h=!1,this.i=new p0(null,this.h))}function mu(n){return new bp(n)}function RS(n,t,e){n.j=e?h0(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function OS(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function Gj(n,t,e){t instanceof p0?(n.i=t,function(n,t){t&&!n.j&&(Jd(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(qj(this,i),Yj(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=f0(t,xQ)),n.i=new p0(t,n.h))}function Vn(n,t,e){n.i.set(t,e)}function PS(n){return Vn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function h0(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function f0(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,CQ),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function CQ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(f0(t,Wj,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(f0(t,Wj,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(f0(e,"/"==e.charAt(0)?TQ:EQ,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",f0(e,DQ)),n.join("")};var Wj=/[#\/\?@]/g,EQ=/[#\?:]/g,TQ=/[#\?]/g,xQ=/[#\?@]/g,DQ=/#/g;function p0(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Jd(n){n.g||(n.g=new Map,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function qj(n,t){Jd(n),t=T_(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function Kj(n,t){return Jd(n),t=T_(n,t),n.g.has(t)}function Yj(n,t,e){qj(n,t),0<e.length&&(n.i=null,n.g.set(T_(n,t),r2(e)),n.h+=e.length)}function T_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Zj(n){this.l=n||AQ,n=kt.PerformanceNavigationTiming?0<(n=kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kt.g&&kt.g.Ka&&kt.g.Ka()&&kt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ze=p0.prototype).add=function(n,t){Jd(this),this.i=null,n=T_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ze.forEach=function(n,t){Jd(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},ze.ta=function(){Jd(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},ze.Z=function(n){Jd(this);let t=[];if("string"==typeof n)Kj(this,n)&&(t=t.concat(this.g.get(T_(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},ze.set=function(n,t){return Jd(this),this.i=null,Kj(this,n=T_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ze.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},ze.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=s;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var AQ=10;function Qj(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Jj(n){return n.h?1:n.g?n.g.size:0}function R2(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function O2(n,t){n.g?n.g.add(t):n.h=t}function Xj(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function e$(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return r2(n.i)}function kQ(){this.g=new class{stringify(n){return kt.JSON.stringify(n,void 0)}parse(n){return kt.JSON.parse(n,void 0)}}}function RQ(n,t,e){const i=e||"";try{jj(n,function(r,s){let l=r;Jw(r)&&(l=w2(r)),t.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function FS(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function g0(n){this.l=n.fc||null,this.j=n.ob||!1}function NS(n,t){Ir.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=P2,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zj.prototype.cancel=function(){if(this.i=e$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Dr(g0,x2),g0.prototype.g=function(){return new NS(this.l,this.j)},g0.prototype.i=function(n){return function(){return n}}({}),Dr(NS,Ir);var P2=0;function t$(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function m0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_0(n)}function _0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ze=NS.prototype).open=function(n,t){if(this.readyState!=P2)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,_0(this)},ze.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||kt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},ze.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,m0(this)),this.readyState=P2},ze.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_0(this)),this.g&&(this.readyState=3,_0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==kt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;t$(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ze.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?m0(this):_0(this),3==this.readyState&&t$(this)}},ze.Za=function(n){this.g&&(this.response=this.responseText=n,m0(this))},ze.Ya=function(n){this.g&&(this.response=n,m0(this))},ze.ka=function(){this.g&&m0(this)},ze.setRequestHeader=function(n,t){this.v.append(n,t)},ze.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ze.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(NS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var PQ=kt.JSON.parse;function _i(n){Ir.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=n$,this.L=this.M=!1}Dr(_i,Ir);var n$="",FQ=/^https?$/i,NQ=["POST","PUT"];function i$(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,r$(n),LS(n)}function r$(n){n.F||(n.F=!0,Kr(n,"complete"),Kr(n,"error"))}function s$(n){if(n.h&&void 0!==t2&&(!n.C[1]||4!=ec(n)||2!=n.da()))if(n.v&&4==ec(n))T2(n.La,0,n);else if(Kr(n,"readystatechange"),4==ec(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===l){var r=String(n.I).match($j)[1]||null;!r&&kt.self&&kt.self.location&&(r=kt.self.location.protocol.slice(0,-1)),i=!FQ.test(r?r.toLowerCase():"")}e=i}if(e)Kr(n,"complete"),Kr(n,"success");else{n.m=6;try{var s=2<ec(n)?n.g.statusText:""}catch(d){s=""}n.j=s+" ["+n.da()+"]",r$(n)}}finally{LS(n)}}}function LS(n,t){if(n.g){o$(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Kr(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function o$(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(kt.clearTimeout(n.A),n.A=null)}function ec(n){return n.g?n.g.readyState:0}function a$(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case n$:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function l$(n){let t="";return h2(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function F2(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=l$(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Vn(n,t,e))}function y0(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function c$(n){this.Ga=0,this.j=[],this.l=new DS,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=y0("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=y0("baseRetryDelayMs",5e3,n),this.hb=y0("retryDelaySeedMs",1e4,n),this.eb=y0("forwardChannelMaxRetries",2,n),this.xa=y0("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Zj(n&&n.concurrentRequestLimit),this.Ja=new kQ,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function N2(n){if(u$(n),3==n.H){var t=n.W++,e=mu(n.I);if(Vn(e,"SID",n.K),Vn(e,"RID",t),Vn(e,"TYPE","terminate"),v0(n,e),(t=new c0(n,n.l,t)).L=2,t.v=PS(mu(e)),e=!1,kt.navigator&&kt.navigator.sendBeacon)try{e=kt.navigator.sendBeacon(t.v.toString(),"")}catch(i){}!e&&kt.Image&&((new Image).src=t.v,e=!0),e||(t.g=v$(t.l,null),t.g.ha(t.v)),t.G=Date.now(),u0(t)}_$(n)}function VS(n){n.g&&(V2(n),n.g.cancel(),n.g=null)}function u$(n){VS(n),n.u&&(kt.clearTimeout(n.u),n.u=null),US(n),n.i.cancel(),n.m&&("number"==typeof n.m&&kt.clearTimeout(n.m),n.m=null)}function BS(n){if(!Qj(n.i)&&!n.m){n.m=!0;var t=n.Na;n0||Dj(),r0||(n0(),r0=!0),C2.add(t,n),n.C=0}}function d$(n,t){var e;e=t?t.m:n.W++;const i=mu(n.I);Vn(i,"SID",n.K),Vn(i,"RID",e),Vn(i,"AID",n.V),v0(n,i),n.o&&n.s&&F2(i,n.o,n.s),e=new c0(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=h$(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),O2(n.i,e),M2(e,i,t)}function v0(n,t){n.na&&h2(n.na,function(e,i){Vn(t,i,e)}),n.h&&jj({},function(e,i){Vn(t,i,e)})}function h$(n,t,e){e=Math.min(n.j.length,e);var i=n.h?us(n.h.Va,n.h,n):null;e:{var r=n.j;let s=-1;for(;;){const l=["count="+e];-1==s?0<e?(s=r[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let d=!0;for(let f=0;f<e;f++){let g=r[f].g;const _=r[f].map;if(g-=s,0>g)s=Math.max(0,r[f].g-100),d=!1;else try{RQ(_,l,"req"+g+"_")}catch(b){i&&i(_)}}if(d){i=l.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function f$(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;n0||Dj(),r0||(n0(),r0=!0),C2.add(t,n),n.A=0}}function L2(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=a0(us(n.Ma,n),m$(n,n.A)),n.A++,0))}function V2(n){null!=n.B&&(kt.clearTimeout(n.B),n.B=null)}function p$(n){n.g=new c0(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=mu(n.wa);Vn(t,"RID","rpc"),Vn(t,"SID",n.K),Vn(t,"AID",n.V),Vn(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&Vn(t,"TO",n.qa),Vn(t,"TYPE","xmlhttp"),v0(n,t),n.o&&n.s&&F2(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=PS(mu(t)),e.s=null,e.S=!0,Bj(e,n)}function US(n){null!=n.v&&(kt.clearTimeout(n.v),n.v=null)}function g$(n,t){var e=null;if(n.g==t){US(n),V2(n),n.g=null;var i=2}else{if(!R2(n.i,t))return;e=t.F,Xj(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Kr(i=IS(),new Pj(i,e)),BS(n)}else f$(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function(n,t){return!(Jj(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=a0(us(n.Na,n,t),m$(n,n.C)),n.C++,0)))}(n,t)||2==i&&L2(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:wp(n,5);break;case 4:wp(n,10);break;case 3:wp(n,6);break;default:wp(n,2)}}function m$(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function wp(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=us(n.pb,n);e||(e=new bp("//www.google.com/images/cleardot.gif"),kt.location&&"http"==kt.location.protocol||RS(e,"https"),PS(e)),function(n,t){const e=new DS;if(kt.Image){const i=new Image;i.onload=bS(FS,e,i,"TestLoadImage: loaded",!0,t),i.onerror=bS(FS,e,i,"TestLoadImage: error",!1,t),i.onabort=bS(FS,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=bS(FS,e,i,"TestLoadImage: timeout",!1,t),kt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ps(2);n.H=0,n.h&&n.h.za(t),_$(n),u$(n)}function _$(n){if(n.H=0,n.ma=[],n.h){const t=e$(n.i);(0!=t.length||0!=n.j.length)&&(hj(n.ma,t),hj(n.ma,n.j),n.i.i.length=0,r2(n.j),n.j.length=0),n.h.ya()}}function y$(n,t,e){var i=e instanceof bp?mu(e):new bp(e);if(""!=i.g)t&&(i.g=t+"."+i.g),OS(i,i.m);else{var r=kt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new bp(null);i&&RS(s,i),t&&(s.g=t),r&&OS(s,r),e&&(s.l=e),i=s}return t=n.Da,(e=n.F)&&t&&Vn(i,e,t),Vn(i,"VER",n.ra),v0(n,i),i}function v$(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new _i(e&&n.Ha&&!n.va?new g0({ob:!0}):n.va)).Oa(n.J),t}function b$(){}function HS(){if(C_&&!(10<=Number(JZ)))throw Error("Environmental error: no available transport.")}function Co(n,t){Ir.call(this),this.g=new c$(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Xw(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Xw(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new x_(this)}function w$(n){D2.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function C$(){I2.call(this),this.status=1}function x_(n){this.g=n}function ja(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function B2(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var s=n.g[3],l=(t=n.g[0])+(s^(e=n.g[1])&((r=n.g[2])^s))+i[0]+3614090360&4294967295;l=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=(e=(r=(s=(t=e+(l<<7&4294967295|l>>>25))+((l=s+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^s&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=t+(s^e&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^s&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=t+(s^e&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^s&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=t+(s^e&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^s&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=t+(r^s&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^s&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^s&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^s&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=e+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=t+(e^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^s)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^t^e)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=t+(r^(e|~s))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(s|~e))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=e+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=t+(r^(e|~s))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(s|~e))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=e+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=t+(r^(e|~s))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(s|~e))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=e+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(t=e+((l=t+(r^(e|~s))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=s+((l=r+(t^(s|~e))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+s&4294967295}function bn(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var s=0|n[r];i&&s==t||(e[r]=s,i=!1)}this.g=e}(ze=_i.prototype).Oa=function(n){this.M=n},ze.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():S2.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:S2),this.g.onreadystatechange=us(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(s){return void i$(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=kt.FormData&&n instanceof kt.FormData,!(0<=dj(NQ,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of e)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{o$(this),0<this.B&&((this.L=function(n){return C_&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=us(this.ua,this)):this.A=T2(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){i$(this,s)}},ze.ua=function(){void 0!==t2&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kr(this,"timeout"),this.abort(8))},ze.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Kr(this,"complete"),Kr(this,"abort"),LS(this))},ze.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),LS(this,!0)),_i.$.N.call(this)},ze.La=function(){this.s||(this.G||this.v||this.l?s$(this):this.kb())},ze.kb=function(){s$(this)},ze.isActive=function(){return!!this.g},ze.da=function(){try{return 2<ec(this)?this.g.status:-1}catch(n){return-1}},ze.ja=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ze.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),PQ(t)}},ze.Ia=function(){return this.m},ze.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ze=c$.prototype).ra=8,ze.H=1,ze.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new c0(this,this.l,n);let s=this.s;if(this.U&&(s?(s=_j(s),vj(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=h$(this,r,t),Vn(e=mu(this.I),"RID",n),Vn(e,"CVER",22),this.F&&Vn(e,"X-HTTP-Session-Id",this.F),v0(this,e),s&&(this.O?t="headers="+encodeURIComponent(String(l$(s)))+"&"+t:this.o&&F2(e,this.o,s)),O2(this.i,r),this.bb&&Vn(e,"TYPE","init"),this.P?(Vn(e,"$req",t),Vn(e,"SID","null"),r.aa=!0,M2(r,e,null)):M2(r,e,t),this.H=2}}else 3==this.H&&(n?d$(this,n):0==this.j.length||Qj(this.i)||d$(this))},ze.Ma=function(){if(this.u=null,p$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=a0(us(this.jb,this),n)}},ze.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ps(10),VS(this),p$(this))},ze.ib=function(){null!=this.v&&(this.v=null,VS(this),L2(this),Ps(19))},ze.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ps(2)):(this.l.info("Failed to ping google.com"),Ps(1))},ze.isActive=function(){return!!this.h&&this.h.isActive(this)},(ze=b$.prototype).Ba=function(){},ze.Aa=function(){},ze.za=function(){},ze.ya=function(){},ze.isActive=function(){return!0},ze.Va=function(){},HS.prototype.g=function(n,t){return new Co(n,t)},Dr(Co,Ir),Co.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Ps(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=y$(n,null,n.Y),BS(n)},Co.prototype.close=function(){N2(this.g)},Co.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=w2(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&BS(t)},Co.prototype.N=function(){this.g.h=null,delete this.j,N2(this.g),delete this.g,Co.$.N.call(this)},Dr(w$,D2),Dr(C$,I2),Dr(x_,b$),x_.prototype.Ba=function(){Kr(this.g,"a")},x_.prototype.Aa=function(n){Kr(this.g,new w$(n))},x_.prototype.za=function(n){Kr(this.g,new C$)},x_.prototype.ya=function(){Kr(this.g,"b")},Dr(ja,function(){this.blockSize=-1}),ja.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ja.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=e;)B2(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<t;)if(i[r++]=n.charCodeAt(s++),r==this.blockSize){B2(this,i),r=0;break}}else for(;s<t;)if(i[r++]=n[s++],r==this.blockSize){B2(this,i),r=0;break}}this.h=r,this.i+=t},ja.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var HQ={};function U2(n){return-128<=n&&128>n?function(n,t){var e=HQ;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=function(t){return new bn([0|t],0>t?-1:0)}(n)}(n):new bn([0|n],0>n?-1:0)}function tc(n){if(isNaN(n)||!isFinite(n))return D_;if(0>n)return Yr(tc(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=H2;return new bn(t,0)}var H2=4294967296,D_=U2(0),z2=U2(1),T$=U2(16777216);function _u(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function na(n){return-1==n.h}function Yr(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new bn(e,~n.h).add(z2)}function zS(n,t){return n.add(Yr(t))}function jS(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function b0(n,t){this.g=n,this.h=t}function $S(n,t){if(_u(t))throw Error("division by zero");if(_u(n))return new b0(D_,D_);if(na(n))return t=$S(Yr(n),t),new b0(Yr(t.g),Yr(t.h));if(na(t))return t=$S(n,Yr(t)),new b0(Yr(t.g),t.h);if(30<n.g.length){if(na(n)||na(t))throw Error("slowDivide_ only works with positive integers.");for(var e=z2,i=t;0>=i.X(n);)e=x$(e),i=x$(i);var r=I_(e,1),s=I_(i,1);for(i=I_(i,2),e=I_(e,2);!_u(i);){var l=s.add(i);0>=l.X(n)&&(r=r.add(e),s=l),i=I_(i,1),e=I_(e,1)}return t=zS(n,r.R(t)),new b0(r,t)}for(r=D_;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),l=(s=tc(e)).R(t);na(l)||0<l.X(n);)l=(s=tc(e-=i)).R(t);_u(s)&&(s=z2),r=r.add(s),n=zS(n,l)}return new b0(r,n)}function x$(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new bn(e,n.h)}function I_(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],s=0;s<i;s++)r[s]=0<t?n.D(s+e)>>>t|n.D(s+e+1)<<32-t:n.D(s+e);return new bn(r,n.h)}(ze=bn.prototype).ea=function(){if(na(this))return-Yr(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:H2+i)*t,t*=H2}return n},ze.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(_u(this))return"0";if(na(this))return"-"+Yr(this).toString(n);for(var t=tc(Math.pow(n,6)),e=this,i="";;){var r=$S(e,t).g,s=((0<(e=zS(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(_u(e=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},ze.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ze.X=function(n){return na(n=zS(this,n))?-1:_u(n)?0:1},ze.abs=function(){return na(this)?Yr(this):this},ze.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&n.D(r)),l=(s>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,e[r]=(l&=65535)<<16|(s&=65535)}return new bn(e,-2147483648&e[e.length-1]?-1:0)},ze.R=function(n){if(_u(this)||_u(n))return D_;if(na(this))return na(n)?Yr(this).R(Yr(n)):Yr(Yr(this).R(n));if(na(n))return Yr(this.R(Yr(n)));if(0>this.X(T$)&&0>n.X(T$))return tc(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var s=this.D(i)>>>16,l=65535&this.D(i),d=n.D(r)>>>16,f=65535&n.D(r);e[2*i+2*r]+=l*f,jS(e,2*i+2*r),e[2*i+2*r+1]+=s*f,jS(e,2*i+2*r+1),e[2*i+2*r+1]+=l*d,jS(e,2*i+2*r+1),e[2*i+2*r+2]+=s*d,jS(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new bn(e,0)},ze.gb=function(n){return $S(this,n).h},ze.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new bn(e,this.h&n.h)},ze.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new bn(e,this.h|n.h)},ze.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new bn(e,this.h^n.h)},HS.prototype.createWebChannel=HS.prototype.g,Co.prototype.send=Co.prototype.u,Co.prototype.open=Co.prototype.m,Co.prototype.close=Co.prototype.close,SS.NO_ERROR=0,SS.TIMEOUT=8,SS.HTTP_ERROR=6,Fj.COMPLETE="complete",Lj.EventType=l0,l0.OPEN="a",l0.CLOSE="b",l0.ERROR="c",l0.MESSAGE="d",Ir.prototype.listen=Ir.prototype.O,_i.prototype.listenOnce=_i.prototype.P,_i.prototype.getLastError=_i.prototype.Sa,_i.prototype.getLastErrorCode=_i.prototype.Ia,_i.prototype.getStatus=_i.prototype.da,_i.prototype.getResponseJson=_i.prototype.Wa,_i.prototype.getResponseText=_i.prototype.ja,_i.prototype.send=_i.prototype.ha,_i.prototype.setWithCredentials=_i.prototype.Oa,ja.prototype.digest=ja.prototype.l,ja.prototype.reset=ja.prototype.reset,ja.prototype.update=ja.prototype.j,bn.prototype.add=bn.prototype.add,bn.prototype.multiply=bn.prototype.R,bn.prototype.modulo=bn.prototype.gb,bn.prototype.compare=bn.prototype.X,bn.prototype.toNumber=bn.prototype.ea,bn.prototype.toString=bn.prototype.toString,bn.prototype.getBits=bn.prototype.D,bn.fromNumber=tc,bn.fromString=function E$(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Yr(E$(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=tc(Math.pow(t,8)),i=D_,r=0;r<n.length;r+=8){var s=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+s),t);8>s?(s=tc(Math.pow(t,s)),i=i.R(s).add(tc(l))):i=(i=i.R(e)).add(tc(l))}return i};var zQ=za.createWebChannelTransport=function(){return new HS},jQ=za.getStatEventTarget=function(){return IS()},j2=za.ErrorCode=SS,$Q=za.EventType=Fj,GQ=za.Event=yp,D$=za.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},WQ=za.FetchXmlHttpFactory=g0,GS=za.WebChannel=Lj,qQ=za.XhrIo=_i,KQ=za.Md5=ja,S_=za.Integer=bn;const I$="@firebase/firestore";class Sr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Sr.UNAUTHENTICATED=new Sr(null),Sr.GOOGLE_CREDENTIALS=new Sr("google-credentials-uid"),Sr.FIRST_PARTY=new Sr("first-party-uid"),Sr.MOCK_USER=new Sr("mock-user");let A_="9.22.2";const Xd=new Zs.Yd("@firebase/firestore");function $2(){return Xd.logLevel}function Me(n,...t){if(Xd.logLevel<=Zs.in.DEBUG){const e=t.map(G2);Xd.debug(`Firestore (${A_}): ${n}`,...e)}}function Fi(n,...t){if(Xd.logLevel<=Zs.in.ERROR){const e=t.map(G2);Xd.error(`Firestore (${A_}): ${n}`,...e)}}function $a(n,...t){if(Xd.logLevel<=Zs.in.WARN){const e=t.map(G2);Xd.warn(`Firestore (${A_}): ${n}`,...e)}}function G2(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function Ye(n="Unexpected state"){const t=`FIRESTORE (${A_}) INTERNAL ASSERTION FAILED: `+n;throw Fi(t),new Error(t)}function et(n,t){n||Ye()}function Ue(n,t){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Rt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class S${constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class YQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Sr.UNAUTHENTICATED))}shutdown(){}}class ZQ{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class QQ{constructor(t){this.t=t,this.currentUser=Sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=g=>this.i!==r?(r=this.i,e(g)):Promise.resolve();let l=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hr,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const g=l;t.enqueueRetryable((0,we.Z)(function*(){yield g.promise,yield s(i.currentUser)}))},f=g=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(et("string"==typeof i.accessToken),new S$(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return et(null===t||"string"==typeof t),new Sr(t)}}class JQ{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Sr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class XQ{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new JQ(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Sr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A${constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eJ{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=s=>{null!=s.error&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.T;return this.T=s.token,Me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(et("string"==typeof e.token),this.T=e.token,new A$(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function tJ(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class M${static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=tJ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function St(n,t){return n<t?-1:n>t?1:0}function M_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}class ci{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Se(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Se(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Se(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Se(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ci.fromMillis(Date.now())}static fromDate(t){return ci.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ci(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?St(this.nanoseconds,t.nanoseconds):St(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new nt(t)}static min(){return new nt(new ci(0,0))}static max(){return new nt(new ci(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class w0{constructor(t,e,i){void 0===e?e=0:e>t.length&&Ye(),void 0===i?i=t.length-e:i>t.length-e&&Ye(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===w0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof w0?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),l=e.get(r);if(s<l)return-1;if(s>l)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class an extends w0{construct(t,e,i){return new an(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Se(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new an(e)}static emptyPath(){return new an([])}}const nJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ni extends w0{construct(t,e,i){return new Ni(t,e,i)}static isValidIdentifier(t){return nJ.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ni.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ni(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Se(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Se(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new Se(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else"`"===d?(l=!l,r++):"."!==d||l?(i+=d,r++):(s(),r++)}if(s(),l)throw new Se(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ni(e)}static emptyPath(){return new Ni([])}}class Be{constructor(t){this.path=t}static fromPath(t){return new Be(an.fromString(t))}static fromName(t){return new Be(an.fromString(t).popFirst(5))}static empty(){return new Be(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===an.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return an.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Be(new an(t.slice()))}}function O$(n){return new Eo(n.readTime,n.key,-1)}class Eo{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Eo(nt.min(),Be.empty(),-1)}static max(){return new Eo(nt.max(),Be.empty(),-1)}}function q2(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Be.comparator(n.documentKey,t.documentKey),0!==e?e:St(n.largestBatchId,t.largestBatchId))}const P$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function eh(n){return K2.apply(this,arguments)}function K2(){return K2=(0,we.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==P$)throw n;Me("LocalStore","Unexpectedly lost primary lease")}),K2.apply(this,arguments)}class oe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new oe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof oe?e:oe.resolve(e)}catch(e){return oe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):oe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):oe.reject(e)}static resolve(t){return new oe((e,i)=>{e(t)})}static reject(t){return new oe((e,i)=>{i(t)})}static waitFor(t){return new oe((e,i)=>{let r=0,s=0,l=!1;t.forEach(d=>{++r,d.next(()=>{++s,l&&s===r&&e()},f=>i(f))}),l=!0,s===r&&e()})}static or(t){let e=oe.resolve(!1);for(const i of t)e=e.next(r=>r?oe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new oe((i,r)=>{const s=t.length,l=new Array(s);let d=0;for(let f=0;f<s;f++){const g=f;e(t[g]).next(_=>{l[g]=_,++d,d===s&&i(l)},_=>r(_))}})}static doWhile(t,e){return new oe((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}function th(n){return"IndexedDbTransactionError"===n.name}let To=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function T0(n){return null==n}function x0(n){return 0===n&&1/n==-1/0}function j$(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function nh(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function $$(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Fn{constructor(t,e){this.comparator=t,this.root=e||Zr.EMPTY}insert(t,e){return new Fn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(t){return new Fn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ZS(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ZS(this.root,t,this.comparator,!1)}getReverseIterator(){return new ZS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ZS(this.root,t,this.comparator,!0)}}class ZS{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Zr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=null!=i?i:Zr.RED,this.left=null!=r?r:Zr.EMPTY,this.right=null!=s?s:Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Zr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Zr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const t=this.left.check();if(t!==this.right.check())throw Ye();return t+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1,Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Zr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bn{constructor(t){this.comparator=t,this.data=new Fn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new G$(this.data.getIterator())}getIteratorFrom(t){return new G$(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Bn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Bn(this.comparator);return e.data=t,e}}class G${constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Js{constructor(t){this.fields=t,t.sort(Ni.comparator)}static empty(){return new Js([])}unionWith(t){let e=new Bn(Ni.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Js(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return M_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class W$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw"undefined"!=typeof DOMException&&r instanceof DOMException?new W$("Invalid base64 string: "+r):r}}(t);return new fr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new fr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return St(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fr.EMPTY_BYTE_STRING=new fr("");const SJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ih(n){if(et(!!n),"string"==typeof n){let t=0;const e=SJ.exec(n);if(et(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:yi(n.seconds),nanos:yi(n.nanos)}}function yi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function yu(n){return"string"==typeof n?fr.fromBase64String(n):fr.fromUint8Array(n)}function QS(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function JS(n){const t=n.mapValue.fields.__previous_value__;return QS(t)?JS(t):t}function D0(n){const t=ih(n.mapValue.fields.__local_write_time__.timestampValue);return new ci(t.seconds,t.nanos)}class AJ{constructor(t,e,i,r,s,l,d,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=g}}class Tp{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Tp("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Tp&&t.projectId===this.projectId&&t.database===this.database}}const rh_mapValue={fields:{__type__:{stringValue:"__max__"}}};function sh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?QS(n)?4:Z$(n)?9007199254740991:10:Ye()}function ic(n,t){if(n===t)return!0;const e=sh(n);if(e!==sh(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return D0(n).isEqual(D0(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=ih(i.timestampValue),l=ih(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,yu(n.bytesValue).isEqual(yu(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return yi(i.geoPointValue.latitude)===yi(r.geoPointValue.latitude)&&yi(i.geoPointValue.longitude)===yi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return yi(i.integerValue)===yi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=yi(i.doubleValue),l=yi(r.doubleValue);return s===l?x0(s)===x0(l):isNaN(s)&&isNaN(l)}return!1}(n,t);case 9:return M_(n.arrayValue.values||[],t.arrayValue.values||[],ic);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(j$(s)!==j$(l))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===l[d]||!ic(s[d],l[d])))return!1;return!0}(n,t);default:return Ye()}var r}function I0(n,t){return void 0!==(n.values||[]).find(e=>ic(e,t))}function oh(n,t){if(n===t)return 0;const e=sh(n),i=sh(t);if(e!==i)return St(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return St(n.booleanValue,t.booleanValue);case 2:return function(r,s){const l=yi(r.integerValue||r.doubleValue),d=yi(s.integerValue||s.doubleValue);return l<d?-1:l>d?1:l===d?0:isNaN(l)?isNaN(d)?0:-1:1}(n,t);case 3:return q$(n.timestampValue,t.timestampValue);case 4:return q$(D0(n),D0(t));case 5:return St(n.stringValue,t.stringValue);case 6:return function(r,s){const l=yu(r),d=yu(s);return l.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const l=r.split("/"),d=s.split("/");for(let f=0;f<l.length&&f<d.length;f++){const g=St(l[f],d[f]);if(0!==g)return g}return St(l.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const l=St(yi(r.latitude),yi(s.latitude));return 0!==l?l:St(yi(r.longitude),yi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const l=r.values||[],d=s.values||[];for(let f=0;f<l.length&&f<d.length;++f){const g=oh(l[f],d[f]);if(g)return g}return St(l.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===rh_mapValue&&s===rh_mapValue)return 0;if(r===rh_mapValue)return 1;if(s===rh_mapValue)return-1;const l=r.fields||{},d=Object.keys(l),f=s.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const b=St(d[_],g[_]);if(0!==b)return b;const E=oh(l[d[_]],f[g[_]]);if(0!==E)return E}return St(d.length,g.length)}(n.mapValue,t.mapValue);default:throw Ye()}}function q$(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return St(n,t);const e=ih(n),i=ih(t),r=St(e.seconds,i.seconds);return 0!==r?r:St(e.nanos,i.nanos)}function R_(n){return Q2(n)}function Q2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ih(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?yu(n.bytesValue).toBase64():"referenceValue"in n?Be.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=Q2(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const d of r)l?l=!1:s+=",",s+=`${d}:${Q2(i.fields[d])}`;return s+"}"}(n.mapValue):Ye();var t}function J2(n){return!!n&&"integerValue"in n}function S0(n){return!!n&&"arrayValue"in n}function K$(n){return!!n&&"nullValue"in n}function Y$(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function t1(n){return!!n&&"mapValue"in n}function A0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return nh(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=A0(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=A0(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Z$(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Qr{constructor(t){this.value=t}static empty(){return new Qr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!t1(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=A0(e)}setAll(t){let e=Ni.emptyPath(),i={},r=[];t.forEach((l,d)=>{if(!e.isImmediateParentOf(d)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=d.popLast()}l?i[d.lastSegment()]=A0(l):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());t1(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ic(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];t1(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){nh(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Qr(A0(this.value))}}function X$(n){const t=[];return nh(n.fields,(e,i)=>{const r=new Ni([e]);if(t1(i)){const s=X$(i.mapValue).fields;if(0===s.length)t.push(r);else for(const l of s)t.push(r.child(l))}else t.push(r)}),new Js(t)}class Un{constructor(t,e,i,r,s,l,d){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=l,this.documentState=d}static newInvalidDocument(t){return new Un(t,0,nt.min(),nt.min(),nt.min(),Qr.empty(),0)}static newFoundDocument(t,e,i,r){return new Un(t,1,e,nt.min(),i,r,0)}static newNoDocument(t,e){return new Un(t,2,e,nt.min(),nt.min(),Qr.empty(),0)}static newUnknownDocument(t,e){return new Un(t,3,e,nt.min(),nt.min(),Qr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(t,e){this.position=t,this.inclusive=e}}function eG(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],l=n.position[r];if(i=s.field.isKeyField()?Be.comparator(Be.fromName(l.referenceValue),e.key):oh(l,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function tG(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ic(n.position[e],t.position[e]))return!1;return!0}class O_{constructor(t,e="asc"){this.field=t,this.dir=e}}function RJ(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class nG{}class Xt extends nG{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new OJ(t,e,i):"array-contains"===e?new NJ(t,i):"in"===e?new lG(t,i):"not-in"===e?new LJ(t,i):"array-contains-any"===e?new VJ(t,i):new Xt(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new PJ(t,i):new FJ(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(oh(e,this.value)):null!==e&&sh(this.value)===sh(e)&&this.matchesComparison(oh(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class wn extends nG{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new wn(t,e)}matches(t){return P_(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function P_(n){return"and"===n.op}function eV(n){return function(n){for(const t of n.filters)if(t instanceof wn)return!1;return!0}(n)&&P_(n)}function tV(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+R_(n.value);if(eV(n))return n.filters.map(t=>tV(t)).join(",");{const t=n.filters.map(e=>tV(e)).join(",");return`${n.op}(${t})`}}function rG(n,t){return n instanceof Xt?(e=n,(i=t)instanceof Xt&&e.op===i.op&&e.field.isEqual(i.field)&&ic(e.value,i.value)):n instanceof wn?function(e,i){return i instanceof wn&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,s,l)=>r&&rG(s,i.filters[l]),!0)}(n,t):void Ye();var e,i}function oG(n){return n instanceof Xt?`${(t=n).field.canonicalString()} ${t.op} ${R_(t.value)}`:n instanceof wn?function(t){return t.op.toString()+" {"+t.getFilters().map(oG).join(" ,")+"}"}(n):"Filter";var t}class OJ extends Xt{constructor(t,e,i){super(t,e,i),this.key=Be.fromName(i.referenceValue)}matches(t){const e=Be.comparator(t.key,this.key);return this.matchesComparison(e)}}class PJ extends Xt{constructor(t,e){super(t,"in",e),this.keys=aG(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class FJ extends Xt{constructor(t,e){super(t,"not-in",e),this.keys=aG(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function aG(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Be.fromName(i.referenceValue))}class NJ extends Xt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return S0(e)&&I0(e.arrayValue,this.value)}}class lG extends Xt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&I0(this.value.arrayValue,e)}}class LJ extends Xt{constructor(t,e){super(t,"not-in",e)}matches(t){if(I0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!I0(this.value.arrayValue,e)}}class VJ extends Xt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!S0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>I0(this.value.arrayValue,i))}}class BJ{constructor(t,e=null,i=[],r=[],s=null,l=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=d,this.dt=null}}function nV(n,t=null,e=[],i=[],r=null,s=null,l=null){return new BJ(n,t,e,i,r,s,l)}function Dp(n){const t=Ue(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>tV(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),T0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>R_(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>R_(i)).join(",")),t.dt=e}return t.dt}function M0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!RJ(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!rG(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!tG(n.startAt,t.startAt)&&tG(n.endAt,t.endAt)}function n1(n){return Be.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class vu{constructor(t,e=null,i=[],r=[],s=null,l="F",d=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=d,this.endAt=f,this.wt=null,this._t=null}}function F_(n){return new vu(n)}function hG(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ip(n){const t=Ue(n);if(null===t.wt){t.wt=[];const e=function(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}(t),i=function(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new O_(e)),t.wt.push(new O_(Ni.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new O_(Ni.keyField(),s))}}}return t.wt}function Fs(n){const t=Ue(n);if(!t._t)if("F"===t.limitType)t._t=nV(t.path,t.collectionGroup,Ip(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Ip(t))e.push(new O_(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new ah(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ah(t.startAt.position,t.startAt.inclusive):null;t._t=nV(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function o1(n,t,e){return new vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function k0(n,t){return M0(Fs(n),Fs(t))&&n.limitType===t.limitType}function fG(n){return`${Dp(Fs(n))}|lt:${n.limitType}`}function oV(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>oG(i)).join(", ")}]`),T0(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>R_(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>R_(i)).join(",")),`Target(${e})`}(Fs(n))}; limitType=${n.limitType})`}function R0(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Be.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Ip(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,l){const d=eG(r,s,l);return r.inclusive?d<=0:d<0}(e.startAt,Ip(e),i)||e.endAt&&!function(r,s,l){const d=eG(r,s,l);return r.inclusive?d>=0:d>0}(e.endAt,Ip(e),i)));var e,i}function gG(n){return(t,e)=>{let i=!1;for(const r of Ip(n)){const s=UJ(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function UJ(n,t,e){const i=n.field.isKeyField()?Be.comparator(t.key,e.key):function(r,s,l){const d=s.data.field(r),f=l.data.field(r);return null!==d&&null!==f?oh(d,f):Ye()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ye()}}class bu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){nh(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return $$(this.inner)}size(){return this.innerSize}}const HJ=new Fn(Be.comparator);function Xs(){return HJ}const mG=new Fn(Be.comparator);function O0(...n){let t=mG;for(const e of n)t=t.insert(e.key,e);return t}function _G(n){let t=mG;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function rc(){return P0()}function yG(){return P0()}function P0(){return new bu(n=>n.toString(),(n,t)=>n.isEqual(t))}const zJ=new Fn(Be.comparator),jJ=new Bn(Be.comparator);function Lt(...n){let t=jJ;for(const e of n)t=t.add(e);return t}const $J=new Bn(St);function vG(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:x0(t)?"-0":t}}function bG(n){return{integerValue:""+n}}function wG(n,t){return function(n){return"number"==typeof n&&Number.isInteger(n)&&!x0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?bG(t):vG(n,t)}class a1{constructor(){this._=void 0}}function GJ(n,t,e){return n instanceof N_?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&QS(r)&&(r=JS(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Sp?EG(n,t):n instanceof Ap?TG(n,t):function(i,r){const s=CG(i,r),l=xG(s)+xG(i.gt);return J2(s)&&J2(i.gt)?bG(l):vG(i.serializer,l)}(n,t)}function WJ(n,t,e){return n instanceof Sp?EG(n,t):n instanceof Ap?TG(n,t):e}function CG(n,t){return n instanceof L_?J2(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class N_ extends a1{}class Sp extends a1{constructor(t){super(),this.elements=t}}function EG(n,t){const e=DG(t);for(const i of n.elements)e.some(r=>ic(r,i))||e.push(i);return{arrayValue:{values:e}}}class Ap extends a1{constructor(t){super(),this.elements=t}}function TG(n,t){let e=DG(t);for(const i of n.elements)e=e.filter(r=>!ic(r,i));return{arrayValue:{values:e}}}class L_ extends a1{constructor(t,e){super(),this.serializer=t,this.gt=e}}function xG(n){return yi(n.integerValue||n.doubleValue)}function DG(n){return S0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class KJ{constructor(t,e){this.version=t,this.transformResults=e}}class ti{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ti}static exists(t){return new ti(void 0,t)}static updateTime(t){return new ti(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function l1(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class c1{}function IG(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new B_(n.key,ti.none()):new V_(n.key,n.data,ti.none());{const e=n.data,i=Qr.empty();let r=new Bn(Ni.comparator);for(let s of t.fields)if(!r.has(s)){let l=e.field(s);null===l&&s.length>1&&(s=s.popLast(),l=e.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new wu(n.key,i,new Js(r.toArray()),ti.none())}}function YJ(n,t,e){n instanceof V_?function(i,r,s){const l=i.value.clone(),d=MG(i.fieldTransforms,r,s.transformResults);l.setAll(d),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,t,e):n instanceof wu?function(i,r,s){if(!l1(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=MG(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(AG(i)),d.setAll(l),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function N0(n,t,e,i){return n instanceof V_?function(r,s,l,d){if(!l1(r.precondition,s))return l;const f=r.value.clone(),g=kG(r.fieldTransforms,d,s);return f.setAll(g),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof wu?function(r,s,l,d){if(!l1(r.precondition,s))return l;const f=kG(r.fieldTransforms,d,s),g=s.data;return g.setAll(AG(r)),g.setAll(f),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(_=>_.field))}(n,t,e,i):(l=e,l1(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function ZJ(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=CG(i.transform,r||null);null!=s&&(null===e&&(e=Qr.empty()),e.set(i.field,s))}return e||null}function SG(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&M_(e,i,(r,s)=>function(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Sp&&i instanceof Sp||e instanceof Ap&&i instanceof Ap?M_(e.elements,i.elements,ic):e instanceof L_&&i instanceof L_?ic(e.gt,i.gt):e instanceof N_&&i instanceof N_);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class V_ extends c1{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wu extends c1{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AG(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function MG(n,t,e){const i=new Map;et(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],l=s.transform,d=t.data.field(s.field);i.set(s.field,WJ(l,d,e[r]))}return i}function kG(n,t,e){const i=new Map;for(const r of n){const s=r.transform,l=e.data.field(r.field);i.set(r.field,GJ(s,l,t))}return i}class B_ extends c1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lV extends c1{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cV{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&YJ(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=N0(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=N0(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=yG();return this.mutations.forEach(r=>{const s=t.get(r.key),l=s.overlayedDocument;let d=this.applyToLocalView(l,s.mutatedFields);d=e.has(r.key)?null:d;const f=IG(l,d);null!==f&&i.set(r.key,f),l.isValidDocument()||l.convertToNoDocument(nt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Lt())}isEqual(t){return this.batchId===t.batchId&&M_(this.mutations,t.mutations,(e,i)=>SG(e,i))&&M_(this.baseMutations,t.baseMutations,(e,i)=>SG(e,i))}}class uV{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){et(t.mutations.length===i.length);let r=zJ;const s=t.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new uV(t,e,i,r)}}class dV{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class JJ{constructor(t,e){this.count=t,this.unchangedNames=e}}var er,ln;function RG(n){switch(n){default:return Ye();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function OG(n){if(void 0===n)return Fi("GRPC error has no .code"),fe.UNKNOWN;switch(n){case er.OK:return fe.OK;case er.CANCELLED:return fe.CANCELLED;case er.UNKNOWN:return fe.UNKNOWN;case er.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case er.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case er.INTERNAL:return fe.INTERNAL;case er.UNAVAILABLE:return fe.UNAVAILABLE;case er.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case er.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case er.NOT_FOUND:return fe.NOT_FOUND;case er.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case er.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case er.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case er.ABORTED:return fe.ABORTED;case er.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case er.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case er.DATA_LOSS:return fe.DATA_LOSS;default:return Ye()}}(ln=er||(er={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";class hV{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return u1}static getOrCreateInstance(){return null===u1&&(u1=new hV),u1}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let u1=null;const XJ=new S_([4294967295,4294967295],0);function FG(n){const t=(new TextEncoder).encode(n),e=new KQ;return e.update(t),new Uint8Array(e.digest())}function NG(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new S_([e,i],0),new S_([r,s],0)]}class fV{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new L0(`Invalid padding: ${e}`);if(i<0)throw new L0(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new L0(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new L0(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=S_.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(S_.fromNumber(i)));return 1===r.compare(XJ)&&(r=new S_([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=FG(t),[i,r]=NG(e);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);if(!this.At(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),l=new fV(s,r,e);return i.forEach(d=>l.insert(d)),l}insert(t){if(0===this.It)return;const e=FG(t),[i,r]=NG(e);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);this.Rt(l)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class L0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class V0{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,B0.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new V0(nt.min(),r,new Fn(St),Xs(),Lt())}}class B0{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new B0(i,e,Lt(),Lt(),Lt())}}class d1{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class LG{constructor(t,e){this.targetId=t,this.Vt=e}}class VG{constructor(t,e,i=fr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class BG{constructor(){this.St=0,this.Dt=HG(),this.Ct=fr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Lt(),e=Lt(),i=Lt();return this.Dt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Ye()}}),new B0(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=HG()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class eX{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=Xs(),this.zt=UG(),this.Wt=new Fn(St)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:Ye()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,s=this.se(i);if(s){const l=s.target;if(n1(l))if(0===r){const d=new Be(l.path);this.Yt(i,d,Un.newNoDocument(d,nt.min()))}else et(1===r);else{const d=this.ie(i);if(d!==r){const f=this.re(t,d);0!==f&&(this.ee(i),this.Wt=this.Wt.insert(i,2===f?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=hV.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(g,_,b){var E,x,M,k,R,B;const G={localCacheCount:_,existenceFilterCount:b.count},Q=b.unchangedNames;return Q&&(G.bloomFilter={applied:0===g,hashCount:null!==(E=null==Q?void 0:Q.hashCount)&&void 0!==E?E:0,bitmapLength:null!==(k=null===(M=null===(x=null==Q?void 0:Q.bits)||void 0===x?void 0:x.bitmap)||void 0===M?void 0:M.length)&&void 0!==k?k:0,padding:null!==(B=null===(R=null==Q?void 0:Q.bits)||void 0===R?void 0:R.padding)&&void 0!==B?B:0}),G}(f,d,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:l=0},hashCount:d=0}=i;let f,g;try{f=yu(s).toUint8Array()}catch(_){if(_ instanceof W$)return $a("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw _}try{g=new fV(f,l,d)}catch(_){return $a(_ instanceof L0?"BloomFilter error: ":"Applying bloom filter failed: ",_),1}return 0===g.It?1:r!==e-this.oe(t.targetId,g)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(s=>{const l=this.Gt.ue(),d=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.vt(d)||(this.Yt(t,s,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((s,l)=>{const d=this.se(l);if(d){if(s.current&&n1(d.target)){const f=new Be(d.target.path);null!==this.jt.get(f)||this.ae(l,f)||this.Yt(l,f,Un.newNoDocument(f,t))}s.Mt&&(e.set(l,s.Ot()),s.Ft())}});let i=Lt();this.zt.forEach((s,l)=>{let d=!0;l.forEachWhile(f=>{const g=this.se(f);return!g||"TargetPurposeLimboResolution"===g.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.jt.forEach((s,l)=>l.setReadTime(t));const r=new V0(t,e,this.Wt,this.jt,i);return this.jt=Xs(),this.zt=UG(),this.Wt=new Fn(St),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new BG,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new Bn(St),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Me("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new BG),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function UG(){return new Fn(Be.comparator)}function HG(){return new Fn(Be.comparator)}const tX={asc:"ASCENDING",desc:"DESCENDING"},nX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iX={and:"AND",or:"OR"};class rX{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function pV(n,t){return n.useProto3Json||T0(t)?t:{value:t}}function U_(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function zG(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function sX(n,t){return U_(n,t.toTimestamp())}function Li(n){return et(!!n),nt.fromTimestamp(function(t){const e=ih(t);return new ci(e.seconds,e.nanos)}(n))}function gV(n,t){return(e=n,new an(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function jG(n){const t=an.fromString(n);return et(JG(t)),t}function U0(n,t){return gV(n.databaseId,t.path)}function sc(n,t){const e=jG(t);if(e.get(1)!==n.databaseId.projectId)throw new Se(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Se(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Be(GG(e))}function mV(n,t){return gV(n.databaseId,t)}function H0(n){return new an(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GG(n){return et(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function WG(n,t,e){return{name:U0(n,t),fields:e.value.mapValue.fields}}function KG(n,t){return{documents:[mV(n,t.path)]}}function yV(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=mV(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=mV(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0!==f.length)return QG(wn.create(f,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const s=function(f){if(0!==f.length)return f.map(g=>{return{field:lh((_=g).field),direction:uX(_.dir)};var _})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const l=pV(n,t.limit);var d,f;return null!==l&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(f=t.endAt).inclusive,values:f.position}),e}function YG(n){let t=function(n){const t=jG(n);return 4===t.length?an.emptyPath():GG(t)}(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){et(1===i);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let s=[];e.where&&(s=function(_){const b=ZG(_);return b instanceof wn&&eV(b)?b.getFilters():[b]}(e.where));let l=[];e.orderBy&&(l=e.orderBy.map(_=>{return new O_(H_((b=_).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let d=null;e.limit&&(d=function(_){let b;return b="object"==typeof _?_.value:_,T0(b)?null:b}(e.limit));let f=null;var _;e.startAt&&(f=new ah((_=e.startAt).values||[],!!_.before));let g=null;return e.endAt&&(g=function(_){return new ah(_.values||[],!_.before)}(e.endAt)),function(n,t,e,i,r,s,l,d){return new vu(n,t,e,i,r,s,l,d)}(t,r,l,s,d,"F",f,g)}function ZG(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=H_(t.unaryFilter.field);return Xt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=H_(t.unaryFilter.field);return Xt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=H_(t.unaryFilter.field);return Xt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=H_(t.unaryFilter.field);return Xt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(n):void 0!==n.fieldFilter?Xt.create(H_((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return wn.create(t.compositeFilter.filters.map(e=>ZG(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ye()}}(t.compositeFilter.op))}(n):Ye();var t}function uX(n){return tX[n]}function dX(n){return nX[n]}function hX(n){return iX[n]}function lh(n){return{fieldPath:n.canonicalString()}}function H_(n){return Ni.fromServerFormat(n.fieldPath)}function QG(n){return n instanceof Xt?function(t){if("=="===t.op){if(Y$(t.value))return{unaryFilter:{field:lh(t.field),op:"IS_NAN"}};if(K$(t.value))return{unaryFilter:{field:lh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Y$(t.value))return{unaryFilter:{field:lh(t.field),op:"IS_NOT_NAN"}};if(K$(t.value))return{unaryFilter:{field:lh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lh(t.field),op:dX(t.op),value:t.value}}}(n):n instanceof wn?function(t){const e=t.getFilters().map(i=>QG(i));return 1===e.length?e[0]:{compositeFilter:{op:hX(t.op),filters:e}}}(n):Ye()}function fX(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function JG(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Cu{constructor(t,e,i,r,s=nt.min(),l=nt.min(),d=fr.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(t){return new Cu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class XG{constructor(t){this.fe=t}}function vV(n){const t=YG({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?o1(t,t.limit,"L"):t}class Op{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(yi(t.integerValue));else if("doubleValue"in t){const i=yi(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),x0(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(yu(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?Z$(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):Ye()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),Be.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}Op.Ve=new Op;class CX{constructor(){this.rn=new xV}addToCollectionParentIndex(t,e){return this.rn.add(e),oe.resolve()}getCollectionParents(t,e){return oe.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return oe.resolve()}deleteFieldIndex(t,e){return oe.resolve()}getDocumentsMatchingTarget(t,e){return oe.resolve(null)}getIndexType(t,e){return oe.resolve(0)}getFieldIndexes(t,e){return oe.resolve([])}getNextCollectionGroupToUpdate(t){return oe.resolve(null)}getMinOffset(t,e){return oe.resolve(Eo.min())}getMinOffsetFromCollectionGroup(t,e){return oe.resolve(Eo.min())}updateCollectionGroup(t,e,i){return oe.resolve()}updateIndexEntries(t,e){return oe.resolve()}}class xV{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Bn(an.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Bn(an.comparator)).toArray()}}new Uint8Array(0);class fs{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new fs(t,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}fs.DEFAULT_COLLECTION_PERCENTILE=10,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fs.DEFAULT=new fs(41943040,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fs.DISABLED=new fs(-1,0,0);class Fp{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new Fp(0)}static Mn(){return new Fp(-1)}}class kX{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class D5{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&N0(i.mutation,r,Js.empty(),ci.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Lt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Lt()){const r=rc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let l=O0();return s.forEach((d,f)=>{l=l.insert(d,f.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=rc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Lt()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((l,d)=>{e.set(l,d)})})}computeViews(t,e,i,r){let s=Xs();const l=P0(),d=P0();return e.forEach((f,g)=>{const _=i.get(g.key);r.has(g.key)&&(void 0===_||_.mutation instanceof wu)?s=s.insert(g.key,g):void 0!==_?(l.set(g.key,_.mutation.getFieldMask()),N0(_.mutation,g,_.mutation.getFieldMask(),ci.now())):l.set(g.key,Js.empty())}),this.recalculateAndSaveOverlays(t,s).next(f=>(f.forEach((g,_)=>l.set(g,_)),e.forEach((g,_)=>{var b;return d.set(g,new kX(_,null!==(b=l.get(g))&&void 0!==b?b:null))}),d))}recalculateAndSaveOverlays(t,e){const i=P0();let r=new Fn((l,d)=>l-d),s=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const d of l)d.keys().forEach(f=>{const g=e.get(f);if(null===g)return;let _=i.get(f)||Js.empty();_=d.applyToLocalView(g,_),i.set(f,_);const b=(r.get(d.batchId)||Lt()).add(f);r=r.insert(d.batchId,b)})}).next(()=>{const l=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),g=f.key,_=f.value,b=yG();_.forEach(E=>{if(!s.has(E)){const x=IG(e.get(E),i.get(E));null!==x&&b.set(E,x),s=s.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(t,g,b))}return oe.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Be.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):function(n){return null!==n.collectionGroup}(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):oe.resolve(rc());let d=-1,f=s;return l.next(g=>oe.forEach(g,(_,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),s.get(_)?oe.resolve():this.remoteDocumentCache.getEntry(t,_).next(E=>{f=f.insert(_,E)}))).next(()=>this.populateOverlays(t,g,s)).next(()=>this.computeViews(t,f,g,Lt())).next(_=>({batchId:d,changes:_G(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Be(e)).next(i=>{let r=O0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=O0();return this.indexManager.getCollectionParents(t,r).next(l=>oe.forEach(l,d=>{const f=(g=e,_=d.child(r),new vu(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,_;return this.getDocumentsMatchingCollectionQuery(t,f,i).next(g=>{g.forEach((_,b)=>{s=s.insert(_,b)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(s=>{r.forEach((d,f)=>{const g=f.getKey();null===s.get(g)&&(s=s.insert(g,Un.newInvalidDocument(g)))});let l=O0();return s.forEach((d,f)=>{const g=r.get(d);void 0!==g&&N0(g.mutation,f,Js.empty(),ci.now()),R0(e,f)&&(l=l.insert(d,f))}),l})}}class RX{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return oe.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:Li(i.createTime)}),oe.resolve()}getNamedQuery(t,e){return oe.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:vV(i.bundledQuery),readTime:Li(i.readTime)}),oe.resolve();var i}}class OX{constructor(){this.overlays=new Fn(Be.comparator),this.ls=new Map}getOverlay(t,e){return oe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=rc();return oe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.we(t,e,s)}),oe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),oe.resolve()}getOverlaysForCollection(t,e,i){const r=rc(),s=e.length+1,l=new Be(e.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const f=d.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return oe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Fn((g,_)=>g-_);const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let _=s.get(g.largestBatchId);null===_&&(_=rc(),s=s.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=rc(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=r)););return oe.resolve(d)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new dV(e,i));let s=this.ls.get(e);void 0===s&&(s=Lt(),this.ls.set(e,s)),this.ls.set(e,s.add(i.key))}}class DV{constructor(){this.fs=new Bn(Mr.ds),this.ws=new Bn(Mr._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new Mr(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new Mr(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new Be(new an([])),i=new Mr(e,t),r=new Mr(e,t+1),s=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),s.push(l.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new Be(new an([])),i=new Mr(e,t),r=new Mr(e,t+1);let s=Lt();return this.ws.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(t){const e=new Mr(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Mr{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return Be.comparator(t.key,e.key)||St(t.As,e.As)}static _s(t,e){return St(t.As,e.As)||Be.comparator(t.key,e.key)}}class PX{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new Bn(Mr.ds)}checkEmpty(t){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.vs;this.vs++;const l=new cV(s,e,i,r);this.mutationQueue.push(l);for(const d of r)this.Rs=this.Rs.add(new Mr(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return oe.resolve(l)}lookupMutationBatch(t,e){return oe.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),s=r<0?0:r;return oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Mr(e,0),r=new Mr(e,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],l=>{const d=this.Ps(l.As);s.push(d)}),oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Bn(St);return e.forEach(r=>{const s=new Mr(r,0),l=new Mr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,l],d=>{i=i.add(d.As)})}),oe.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;Be.isDocumentKey(s)||(s=s.child(""));const l=new Mr(new Be(s),0);let d=new Bn(St);return this.Rs.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(d=d.add(f.As)),!0)},l),oe.resolve(this.Vs(d))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){et(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return oe.forEach(e.mutations,r=>{const s=new Mr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new Mr(e,0),r=this.Rs.firstAfterOrEqual(i);return oe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return oe.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class FX{constructor(t){this.Ds=t,this.docs=new Fn(Be.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,l=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return oe.resolve(i?i.document.mutableCopy():Un.newInvalidDocument(e))}getEntries(t,e){let i=Xs();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Un.newInvalidDocument(r))}),oe.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=Xs();const l=e.path,d=new Be(l.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:g,value:{document:_}}=f.getNext();if(!l.isPrefixOf(g.path))break;g.path.length>l.length+1||q2(O$(_),i)<=0||(r.has(_.key)||R0(e,_))&&(s=s.insert(_.key,_.mutableCopy()))}return oe.resolve(s)}getAllFromCollectionGroup(t,e,i,r){Ye()}Cs(t,e){return oe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new NX(this)}getSize(t){return oe.resolve(this.size)}}class NX extends class{constructor(){this.changes=new bu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?oe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),oe.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class LX{constructor(t){this.persistence=t,this.xs=new bu(e=>Dp(e),M0),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new DV,this.targetCount=0,this.Ms=Fp.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),oe.resolve()}getLastRemoteSnapshotVersion(t){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return oe.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),oe.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new Fp(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,oe.resolve()}updateTargetData(t,e){return this.Fn(e),oe.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,oe.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.xs.forEach((l,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.xs.delete(l),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),oe.waitFor(s).next(()=>r)}getTargetCount(t){return oe.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return oe.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),oe.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(l=>{s.push(r.markPotentiallyOrphaned(t,l))}),oe.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),oe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return oe.resolve(i)}containsKey(t,e){return oe.resolve(this.ks.containsKey(e))}}class IV{constructor(t,e){this.$s={},this.overlays={},this.Os=new To(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new LX(this),this.indexManager=new CX,this.remoteDocumentCache=new FX(i=>this.referenceDelegate.Ls(i)),this.serializer=new XG(e),this.qs=new RX(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new OX,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new PX(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){Me("MemoryPersistence","Starting transaction:",t);const r=new VX(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(t,e){return oe.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class VX extends class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}{constructor(t){super(),this.currentSequenceNumber=t}}class b1{constructor(t){this.persistence=t,this.Qs=new DV,this.js=null}static zs(t){return new b1(t)}get Ws(){if(this.js)return this.js;throw Ye()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),oe.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),oe.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ws,i=>{const r=Be.fromPath(i);return this.Hs(t,r).next(s=>{s||e.removeEntry(r,nt.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return oe.or([()=>oe.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class kV{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=Lt(),r=Lt();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new kV(t,e.fromCache,i,r)}}class S5{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(s=>s||this.Gi(t,e,r,i)).next(s=>s||this.Qi(t,e))}Ki(t,e){if(hG(e))return oe.resolve(null);let i=Fs(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=o1(e,null,"F"),i=Fs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const l=Lt(...s);return this.Ui.getDocuments(t,l).next(d=>this.indexManager.getMinOffset(t,i).next(f=>{const g=this.ji(e,d);return this.zi(e,g,l,f.readTime)?this.Ki(t,o1(e,null,"F")):this.Wi(t,g,e,f)}))})))}Gi(t,e,i,r){return hG(e)||r.isEqual(nt.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(s=>{const l=this.ji(e,s);return this.zi(e,l,i,r)?this.Qi(t,e):($2()<=Zs.in.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),oV(e)),this.Wi(t,l,e,function(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=nt.fromTimestamp(1e9===i?new ci(e+1,0):new ci(e,i));return new Eo(r,Be.empty(),t)}(r,-1)))})}ji(t,e){let i=new Bn(gG(t));return e.forEach((r,s)=>{R0(t,s)&&(i=i.add(s))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(t,e){return $2()<=Zs.in.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",oV(e)),this.Ui.getDocumentsMatchingQuery(t,e,Eo.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(l=>{s=s.insert(l.key,l)}),s))}}class UX{constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new Fn(St),this.Yi=new bu(s=>Dp(s),M0),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new D5(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function M5(n,t){return RV.apply(this,arguments)}function RV(){return RV=(0,we.Z)(function*(n,t){const e=Ue(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],d=[];let f=Lt();for(const g of r){l.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}for(const g of s){d.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}return e.localDocuments.getDocuments(i,f).next(g=>({er:g,removedBatchIds:l,addedBatchIds:d}))})})}),RV.apply(this,arguments)}function HX(n,t){const e=Ue(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Zi.newChangeBuffer({trackRemovals:!0});return function(l,d,f,g){const _=f.batch,b=_.keys();let E=oe.resolve();return b.forEach(x=>{E=E.next(()=>g.getEntry(d,x)).next(M=>{const k=f.docVersions.get(x);et(null!==k),M.version.compareTo(k)<0&&(_.applyToRemoteDocument(M,f),M.isValidDocument()&&(M.setReadTime(f.commitVersion),g.addEntry(M)))})}),E.next(()=>l.mutationQueue.removeMutationBatch(d,_))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let d=Lt();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(d=d.add(l.batch.mutations[f].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function k5(n){const t=Ue(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function zX(n,t){const e=Ue(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const d=[];t.targetChanges.forEach((_,b)=>{const E=r.get(b);if(!E)return;d.push(e.Bs.removeMatchingKeys(s,_.removedDocuments,b).next(()=>e.Bs.addMatchingKeys(s,_.addedDocuments,b)));let x=E.withSequenceNumber(s.currentSequenceNumber);var M,k,R;null!==t.targetMismatches.get(b)?x=x.withResumeToken(fr.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,i)),r=r.insert(b,x),k=x,R=_,(0===(M=E).resumeToken.approximateByteSize()||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8||R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0)&&d.push(e.Bs.updateTargetData(s,x))});let f=Xs(),g=Lt();if(t.documentUpdates.forEach(_=>{t.resolvedLimboDocuments.has(_)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,_))}),d.push(function(n,t,e){let i=Lt(),r=Lt();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let l=Xs();return e.forEach((d,f)=>{const g=s.get(d);f.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(nt.min())?(t.removeEntry(d,f.readTime),l=l.insert(d,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(t.addEntry(f),l=l.insert(d,f)):Me("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",f.version)}),{nr:l,sr:r}})}(s,l,t.documentUpdates).next(_=>{f=_.nr,g=_.sr})),!i.isEqual(nt.min())){const _=e.Bs.getLastRemoteSnapshotVersion(s).next(b=>e.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(_)}return oe.waitFor(d).next(()=>l.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,f,g)).next(()=>f)}).then(s=>(e.Ji=r,s))}function jX(n,t){const e=Ue(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function $_(n,t){const e=Ue(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(s=>s?(r=s,oe.resolve(r)):e.Bs.allocateTargetId(i).next(l=>(r=new Cu(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function G_(n,t,e){return OV.apply(this,arguments)}function OV(){return OV=(0,we.Z)(function*(n,t,e){const i=Ue(n),r=i.Ji.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!th(l))throw l;Me("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),OV.apply(this,arguments)}function E1(n,t,e){const i=Ue(n);let r=nt.min(),s=Lt();return i.persistence.runTransaction("Execute query","readonly",l=>function(d,f,g){const _=Ue(d),b=_.Yi.get(g);return void 0!==b?oe.resolve(_.Ji.get(b)):_.Bs.getTargetData(f,g)}(i,l,Fs(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,d.targetId).next(f=>{s=f})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,t,e?r:nt.min(),e?s:Lt())).next(d=>(function(n,t,e){let i=n.Xi.get(t)||nt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Xi.set(t,i)}(i,function(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),d),{documents:d,ir:s})))}class VV{constructor(){this.activeTargetIds=$J}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class V5{constructor(){this.Hr=new VV,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new VV,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class WX{Yr(t){}shutdown(){}}class B5{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let D1=null;function UV(){return null===D1?D1=268435456+Math.round(2147483648*Math.random()):D1++,"0x"+D1.toString(16)}const qX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KX{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const ps="WebChannelConnection";class YX extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,s){const l=UV(),d=this.To(t,e);Me("RestConnection",`Sending RPC '${t}' ${l}:`,d,i);const f={};return this.Eo(f,r,s),this.Ao(t,d,f,i).then(g=>(Me("RestConnection",`Received RPC '${t}' ${l}: `,g),g),g=>{throw $a("RestConnection",`RPC '${t}' ${l} failed with error: `,g,"url: ",d,"request:",i),g})}vo(t,e,i,r,s,l){return this.Io(t,e,i,r,s)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+A_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}To(t,e){return`${this.mo}/v1/${e}:${qX[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const s=UV();return new Promise((l,d)=>{const f=new qQ;f.setWithCredentials(!0),f.listenOnce($Q.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case j2.NO_ERROR:const _=f.getResponseJson();Me(ps,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(_)),l(_);break;case j2.TIMEOUT:Me(ps,`RPC '${t}' ${s} timed out`),d(new Se(fe.DEADLINE_EXCEEDED,"Request time out"));break;case j2.HTTP_ERROR:const b=f.getStatus();if(Me(ps,`RPC '${t}' ${s} failed with status:`,b,"response text:",f.getResponseText()),b>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=null==E?void 0:E.error;if(x&&x.status&&x.message){const M=function(k){const R=k.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(R)>=0?R:fe.UNKNOWN}(x.status);d(new Se(M,x.message))}else d(new Se(fe.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Se(fe.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{Me(ps,`RPC '${t}' ${s} completed.`)}});const g=JSON.stringify(r);Me(ps,`RPC '${t}' ${s} sending request:`,r),f.send(e,"POST",g,i,15)})}Ro(t,e,i){const r=UV(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=zQ(),d=jQ(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;void 0!==g&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.xmlHttpFactory=new WQ({})),this.Eo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const _=s.join("");Me(ps,`Creating RPC '${t}' stream ${r}: ${_}`,f);const b=l.createWebChannel(_,f);let E=!1,x=!1;const M=new KX({ro:R=>{x?Me(ps,`Not sending because RPC '${t}' stream ${r} is closed:`,R):(E||(Me(ps,`Opening RPC '${t}' stream ${r} transport.`),b.open(),E=!0),Me(ps,`RPC '${t}' stream ${r} sending:`,R),b.send(R))},oo:()=>b.close()}),k=(R,B,G)=>{R.listen(B,Q=>{try{G(Q)}catch(ce){setTimeout(()=>{throw ce},0)}})};return k(b,GS.EventType.OPEN,()=>{x||Me(ps,`RPC '${t}' stream ${r} transport opened.`)}),k(b,GS.EventType.CLOSE,()=>{x||(x=!0,Me(ps,`RPC '${t}' stream ${r} transport closed`),M.wo())}),k(b,GS.EventType.ERROR,R=>{x||(x=!0,$a(ps,`RPC '${t}' stream ${r} transport errored:`,R),M.wo(new Se(fe.UNAVAILABLE,"The operation could not be completed")))}),k(b,GS.EventType.MESSAGE,R=>{var B;if(!x){const G=R.data[0];et(!!G);const Q=G,ce=Q.error||(null===(B=Q[0])||void 0===B?void 0:B.error);if(ce){Me(ps,`RPC '${t}' stream ${r} received error:`,ce);const de=ce.status;let Ce=function(Ae){const Le=er[Ae];if(void 0!==Le)return OG(Le)}(de),xe=ce.message;void 0===Ce&&(Ce=fe.INTERNAL,xe="Unknown error status: "+de+" with message "+ce.message),x=!0,M.wo(new Se(Ce,xe)),b.close()}else Me(ps,`RPC '${t}' stream ${r} received:`,G),M._o(G)}}),k(d,GQ.STAT_EVENT,R=>{R.stat===D$.PROXY?Me(ps,`RPC '${t}' stream ${r} detected buffering proxy`):R.stat===D$.NOPROXY&&Me(ps,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{M.fo()},0),M}}function I1(){return"undefined"!=typeof document?document:null}function Q0(n){return new rX(n,!0)}class HV{constructor(t,e,i=1e3,r=1.5,s=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&Me("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class H5{constructor(t,e,i,r,s,l,d,f){this.ii=t,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new HV(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,we.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,we.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,we.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===fe.RESOURCE_EXHAUSTED?(Fi(e.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new Se(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,we.Z)(function*(){t.state=0,t.start()}))}tu(t){return Me("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(Me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZX extends H5{constructor(t,e,i,r,s,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=s}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:Ye(),r=t.targetChange.targetIds||[],s=function(f,g){return f.useProto3Json?(et(void 0===g||"string"==typeof g),fr.fromBase64String(g||"")):(et(void 0===g||g instanceof Uint8Array),fr.fromUint8Array(g||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,d=l&&function(f){const g=void 0===f.code?fe.UNKNOWN:OG(f.code);return new Se(g,f.message||"")}(l);e=new VG(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=sc(n,i.document.name),s=Li(i.document.updateTime),l=i.document.createTime?Li(i.document.createTime):nt.min(),d=new Qr({mapValue:{fields:i.document.fields}}),f=Un.newFoundDocument(r,s,l,d);e=new d1(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,r=sc(n,i.document),s=i.readTime?Li(i.readTime):nt.min(),l=Un.newNoDocument(r,s);e=new d1([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in t){const i=t.documentRemove,r=sc(n,i.document);e=new d1([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Ye();{const i=t.filter,{count:r=0,unchangedNames:s}=i,l=new JJ(r,s);e=new LG(i.targetId,l)}}var f;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return nt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?nt.min():s.readTime?Li(s.readTime):nt.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=H0(this.serializer),e.addTarget=function(r,s){let l;const d=s.target;if(l=n1(d)?{documents:KG(r,d)}:{query:yV(r,d)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=zG(r,s.resumeToken);const f=pV(r,s.expectedCount);null!==f&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(nt.min())>0){l.readTime=U_(r,s.snapshotVersion.toTimestamp());const f=pV(r,s.expectedCount);null!==f&&(l.expectedCount=f)}return l}(this.serializer,t);const i=function(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=H0(this.serializer),e.removeTarget=t,this.Wo(e)}}class QX extends H5{constructor(t,e,i,r,s,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(et(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function(n,t){return n&&n.length>0?(et(void 0!==t),n.map(e=>function(i,r){let s=Li(i.updateTime?i.updateTime:r);return s.isEqual(nt.min())&&(s=Li(r)),new KJ(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Li(t.commitTime);return this.listener.cu(i,e)}return et(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=H0(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>function(n,t){let e;if(t instanceof V_)e={update:WG(n,t.key,t.value)};else if(t instanceof B_)e={delete:U0(n,t.key)};else if(t instanceof wu)e={update:WG(n,t.key,t.data),updateMask:fX(t.fieldMask)};else{if(!(t instanceof lV))return Ye();e={verify:U0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof N_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Sp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ap)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof L_)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw Ye()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:sX(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Ye()),e;var r}(this.serializer,i))};this.Wo(e)}}class JX extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Se(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Se(fe.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.vo(t,e,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(fe.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class eee{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Fi(e),this.mu=!1):Me("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class tee{constructor(t,e,i,r,s){var l=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(d=>{i.enqueueAndForget((0,we.Z)(function*(){var f;hh(l)&&(Me("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,we.Z)(function*(g){const _=Ue(g);_.vu.add(4),yield W_(_),_.bu.set("Unknown"),_.vu.delete(4),yield J0(_)}),function(g){return f.apply(this,arguments)})(l))}))}),this.bu=new eee(i,r)}}function J0(n){return jV.apply(this,arguments)}function jV(){return jV=(0,we.Z)(function*(n){if(hh(n))for(const t of n.Ru)yield t(!0)}),jV.apply(this,arguments)}function W_(n){return $V.apply(this,arguments)}function $V(){return $V=(0,we.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),$V.apply(this,arguments)}function S1(n,t){const e=Ue(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),qV(e)?WV(e):K_(e).Ko()&&GV(e,t))}function X0(n,t){const e=Ue(n),i=K_(e);e.Au.delete(t),i.Ko()&&z5(e,t),0===e.Au.size&&(i.Ko()?i.jo():hh(e)&&e.bu.set("Unknown"))}function GV(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(nt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}K_(n).su(t)}function z5(n,t){n.Vu.qt(t),K_(n).iu(t)}function WV(n){n.Vu=new eX({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),K_(n).start(),n.bu.gu()}function qV(n){return hh(n)&&!K_(n).Uo()&&n.Au.size>0}function hh(n){return 0===Ue(n).vu.size}function j5(n){n.Vu=void 0}function nee(n){return KV.apply(this,arguments)}function KV(){return KV=(0,we.Z)(function*(n){n.Au.forEach((t,e)=>{GV(n,t)})}),KV.apply(this,arguments)}function iee(n,t){return YV.apply(this,arguments)}function YV(){return YV=(0,we.Z)(function*(n,t){j5(n),qV(n)?(n.bu.Iu(t),WV(n)):n.bu.set("Unknown")}),YV.apply(this,arguments)}function ree(n,t,e){return ZV.apply(this,arguments)}function ZV(){return ZV=(0,we.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof VG&&2===t.state&&t.cause)try{yield(i=(0,we.Z)(function*(r,s){const l=s.cause;for(const d of s.targetIds)r.Au.has(d)&&(yield r.remoteSyncer.rejectListen(d,l),r.Au.delete(d),r.Vu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Me("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield A1(n,i)}else if(t instanceof d1?n.Vu.Ht(t):t instanceof LG?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(nt.min()))try{const i=yield k5(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const l=r.Vu.ce(s);return l.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=r.Au.get(f);g&&r.Au.set(f,g.withResumeToken(d.resumeToken,s))}}),l.targetMismatches.forEach((d,f)=>{const g=r.Au.get(d);if(!g)return;r.Au.set(d,g.withResumeToken(fr.EMPTY_BYTE_STRING,g.snapshotVersion)),z5(r,d);const _=new Cu(g.target,d,f,g.sequenceNumber);GV(r,_)}),r.remoteSyncer.applyRemoteEvent(l)}(n,e))}catch(i){Me("RemoteStore","Failed to raise snapshot:",i),yield A1(n,i)}var i}),ZV.apply(this,arguments)}function A1(n,t,e){return QV.apply(this,arguments)}function QV(){return QV=(0,we.Z)(function*(n,t,e){if(!th(t))throw t;n.vu.add(1),yield W_(n),n.bu.set("Offline"),e||(e=()=>k5(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Me("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield J0(n)}))}),QV.apply(this,arguments)}function $5(n,t){return t().catch(e=>A1(n,e,t))}function q_(n){return JV.apply(this,arguments)}function JV(){return JV=(0,we.Z)(function*(n){const t=Ue(n),e=fh(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;see(t);)try{const r=yield jX(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,oee(t,r)}catch(r){yield A1(t,r)}G5(t)&&W5(t)}),JV.apply(this,arguments)}function see(n){return hh(n)&&n.Eu.length<10}function oee(n,t){n.Eu.push(t);const e=fh(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function G5(n){return hh(n)&&!fh(n).Uo()&&n.Eu.length>0}function W5(n){fh(n).start()}function aee(n){return XV.apply(this,arguments)}function XV(){return XV=(0,we.Z)(function*(n){fh(n).hu()}),XV.apply(this,arguments)}function lee(n){return eB.apply(this,arguments)}function eB(){return eB=(0,we.Z)(function*(n){const t=fh(n);for(const e of n.Eu)t.uu(e.mutations)}),eB.apply(this,arguments)}function cee(n,t,e){return tB.apply(this,arguments)}function tB(){return tB=(0,we.Z)(function*(n,t,e){const i=n.Eu.shift(),r=uV.from(i,t,e);yield $5(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield q_(n)}),tB.apply(this,arguments)}function uee(n,t){return nB.apply(this,arguments)}function nB(){return nB=(0,we.Z)(function*(n,t){var e;t&&fh(n).ou&&(yield(e=(0,we.Z)(function*(i,r){if(RG(s=r.code)&&s!==fe.ABORTED){const l=i.Eu.shift();fh(i).Qo(),yield $5(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield q_(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),G5(n)&&W5(n)}),nB.apply(this,arguments)}function q5(n,t){return iB.apply(this,arguments)}function iB(){return iB=(0,we.Z)(function*(n,t){const e=Ue(n);e.asyncQueue.verifyOperationInProgress(),Me("RemoteStore","RemoteStore received new credentials");const i=hh(e);e.vu.add(3),yield W_(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield J0(e)}),iB.apply(this,arguments)}function sB(){return sB=(0,we.Z)(function*(n,t){const e=Ue(n);t?(e.vu.delete(2),yield J0(e)):t||(e.vu.add(2),yield W_(e),e.bu.set("Unknown"))}),sB.apply(this,arguments)}function K_(n){return n.Su||(n.Su=function(t,e,i){const r=Ue(t);return r.fu(),new ZX(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:nee.bind(null,n),ao:iee.bind(null,n),nu:ree.bind(null,n)}),n.Ru.push(function(){var t=(0,we.Z)(function*(e){e?(n.Su.Qo(),qV(n)?WV(n):n.bu.set("Unknown")):(yield n.Su.stop(),j5(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function fh(n){return n.Du||(n.Du=function(t,e,i){const r=Ue(t);return r.fu(),new QX(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:aee.bind(null,n),ao:uee.bind(null,n),au:lee.bind(null,n),cu:cee.bind(null,n)}),n.Ru.push(function(){var t=(0,we.Z)(function*(e){e?(n.Du.Qo(),yield q_(n)):(yield n.Du.stop(),n.Eu.length>0&&(Me("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class oB{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(t,e,i,r,s){const l=Date.now()+i,d=new oB(t,e,l,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y_(n,t){if(Fi("AsyncQueue",`${t}: ${n}`),th(n))return new Se(fe.UNAVAILABLE,`${t}: ${n}`);throw n}class Z_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Be.comparator(e.key,i.key):(e,i)=>Be.comparator(e.key,i.key),this.keyedMap=O0(),this.sortedSet=new Fn(this.comparator)}static emptySet(t){return new Z_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Z_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Z_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class K5{constructor(){this.Cu=new Fn(Be.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):Ye():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Q_{constructor(t,e,i,r,s,l,d,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,r,s){const l=[];return e.forEach(d=>{l.push({type:0,doc:d})}),new Q_(t,e,Z_.emptySet(e),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&k0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class dee{constructor(){this.Nu=void 0,this.listeners=[]}}class hee{constructor(){this.queries=new bu(t=>fG(t),k0),this.onlineState="Unknown",this.ku=new Set}}function lB(){return lB=(0,we.Z)(function*(n,t){const e=Ue(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new dee),r)try{s.Nu=yield e.onListen(i)}catch(l){const d=Y_(l,`Initialization of query '${oV(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.Mu(e.onlineState),s.Nu&&t.$u(s.Nu)&&dB(e)}),lB.apply(this,arguments)}function uB(){return uB=(0,we.Z)(function*(n,t){const e=Ue(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const l=s.listeners.indexOf(t);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),uB.apply(this,arguments)}function fee(n,t){const e=Ue(n);let i=!1;for(const r of t){const l=e.queries.get(r.query);if(l){for(const d of l.listeners)d.$u(r)&&(i=!0);l.Nu=r}}i&&dB(e)}function pee(n,t,e){const i=Ue(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function dB(n){n.ku.forEach(t=>{t.next()})}class hB{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Q_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=Q_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class Q5{constructor(t){this.key=t}}class J5{constructor(t){this.key=t}}class X5{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Lt(),this.mutatedKeys=Lt(),this.tc=gG(t),this.ec=new Z_(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new K5,r=e?e.ec:this.ec;let s=e?e.mutatedKeys:this.mutatedKeys,l=r,d=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,g="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((_,b)=>{const E=r.get(_),x=R0(this.query,b)?b:null,M=!!E&&this.mutatedKeys.has(E.key),k=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let R=!1;E&&x?E.data.isEqual(x.data)?M!==k&&(i.track({type:3,doc:x}),R=!0):this.rc(E,x)||(i.track({type:2,doc:x}),R=!0,(f&&this.tc(x,f)>0||g&&this.tc(x,g)<0)&&(d=!0)):!E&&x?(i.track({type:0,doc:x}),R=!0):E&&!x&&(i.track({type:1,doc:E}),R=!0,(f||g)&&(d=!0)),R&&(x?(l=l.add(x),s=k?s.add(_):s.delete(_)):(l=l.delete(_),s=s.delete(_)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const _="F"===this.query.limitType?l.last():l.first();l=l.delete(_.key),s=s.delete(_.key),i.track({type:1,doc:_})}return{ec:l,ic:i,zi:d,mutatedKeys:s}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((g,_)=>function(b,E){const x=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return x(b)-x(E)}(g.type,_.type)||this.tc(g.doc,_.doc)),this.oc(i);const l=e?this.uc():[],d=0===this.Zu.size&&this.current?1:0,f=d!==this.Xu;return this.Xu=d,0!==s.length||f?{snapshot:new Q_(this.query,t.ec,r,s,t.mutatedKeys,0===d,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new K5,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Lt(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new J5(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new Q5(i))}),e}hc(t){this.Yu=t.ir,this.Zu=Lt();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return Q_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class _ee{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class yee{constructor(t){this.key=t,this.fc=!1}}class vee{constructor(t,e,i,r,s,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new bu(d=>fG(d),k0),this._c=new Map,this.mc=new Set,this.gc=new Fn(Be.comparator),this.yc=new Map,this.Ic=new DV,this.Tc={},this.Ec=new Map,this.Ac=Fp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function bee(n,t){return fB.apply(this,arguments)}function fB(){return fB=(0,we.Z)(function*(n,t){const e=NB(n);let i,r;const s=e.wc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const l=yield $_(e.localStore,Fs(t)),d=e.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield pB(e,t,i,"current"===d,l.resumeToken),e.isPrimaryClient&&S1(e.remoteStore,l)}return r}),fB.apply(this,arguments)}function pB(n,t,e,i,r){return gB.apply(this,arguments)}function gB(){return gB=(0,we.Z)(function*(n,t,e,i,r){n.Rc=(b,E,x)=>{return(M=(0,we.Z)(function*(k,R,B,G){let Q=R.view.sc(B);Q.zi&&(Q=yield E1(k.localStore,R.query,!1).then(({documents:Ce})=>R.view.sc(Ce,Q)));const ce=G&&G.targetChanges.get(R.targetId),de=R.view.applyChanges(Q,k.isPrimaryClient,ce);return xB(k,R.targetId,de.cc),de.snapshot}),function(k,R,B,G){return M.apply(this,arguments)})(n,b,E,x);var M};const s=yield E1(n.localStore,t,!0),l=new X5(t,s.ir),d=l.sc(s.documents),f=B0.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),g=l.applyChanges(d,n.isPrimaryClient,f);xB(n,e,g.cc);const _=new _ee(t,e,l);return n.wc.set(t,_),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),g.snapshot}),gB.apply(this,arguments)}function wee(n,t){return mB.apply(this,arguments)}function mB(){return mB=(0,we.Z)(function*(n,t){const e=Ue(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(s=>!k0(s,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield G_(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),X0(e.remoteStore,i.targetId),J_(e,i.targetId)}).catch(eh))):(J_(e,i.targetId),yield G_(e.localStore,i.targetId,!0))}),mB.apply(this,arguments)}function _B(){return _B=(0,we.Z)(function*(n,t,e){const i=LB(n);try{const r=yield function(s,l){const d=Ue(s),f=ci.now(),g=l.reduce((E,x)=>E.add(x.key),Lt());let _,b;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let x=Xs(),M=Lt();return d.Zi.getEntries(E,g).next(k=>{x=k,x.forEach((R,B)=>{B.isValidDocument()||(M=M.add(R))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,x)).next(k=>{_=k;const R=[];for(const B of l){const G=ZJ(B,_.get(B.key).overlayedDocument);null!=G&&R.push(new wu(B.key,G,X$(G.value.mapValue),ti.exists(!0)))}return d.mutationQueue.addMutationBatch(E,f,R,l)}).next(k=>{b=k;const R=k.applyToLocalDocumentSet(_,M);return d.documentOverlayCache.saveOverlays(E,k.batchId,R)})}).then(()=>({batchId:b.batchId,changes:_G(_)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,d){let f=s.Tc[s.currentUser.toKey()];f||(f=new Fn(St)),f=f.insert(l,d),s.Tc[s.currentUser.toKey()]=f}(i,r.batchId,e),yield Eu(i,r.changes),yield q_(i.remoteStore)}catch(r){const s=Y_(r,"Failed to persist write");e.reject(s)}}),_B.apply(this,arguments)}function eW(n,t){return yB.apply(this,arguments)}function yB(){return yB=(0,we.Z)(function*(n,t){const e=Ue(n);try{const i=yield zX(e.localStore,t);t.targetChanges.forEach((r,s)=>{const l=e.yc.get(s);l&&(et(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?et(l.fc):r.removedDocuments.size>0&&(et(l.fc),l.fc=!1))}),yield Eu(e,i,t)}catch(i){yield eh(i)}}),yB.apply(this,arguments)}function tW(n,t,e){const i=Ue(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((s,l)=>{const d=l.view.Mu(t);d.snapshot&&r.push(d.snapshot)}),function(s,l){const d=Ue(s);d.onlineState=l;let f=!1;d.queries.forEach((g,_)=>{for(const b of _.listeners)b.Mu(l)&&(f=!0)}),f&&dB(d)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Eee(n,t,e){return vB.apply(this,arguments)}function vB(){return vB=(0,we.Z)(function*(n,t,e){const i=Ue(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),s=r&&r.key;if(s){let l=new Fn(Be.comparator);l=l.insert(s,Un.newNoDocument(s,nt.min()));const d=Lt().add(s),f=new V0(nt.min(),new Map,new Fn(St),l,d);yield eW(i,f),i.gc=i.gc.remove(s),i.yc.delete(t),DB(i)}else yield G_(i.localStore,t,!1).then(()=>J_(i,t,e)).catch(eh)}),vB.apply(this,arguments)}function Tee(n,t){return bB.apply(this,arguments)}function bB(){return bB=(0,we.Z)(function*(n,t){const e=Ue(n),i=t.batch.batchId;try{const r=yield HX(e.localStore,t);TB(e,i,null),EB(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Eu(e,r)}catch(r){yield eh(r)}}),bB.apply(this,arguments)}function xee(n,t,e){return wB.apply(this,arguments)}function wB(){return wB=(0,we.Z)(function*(n,t,e){const i=Ue(n);try{const r=yield function(s,l){const d=Ue(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,l).next(_=>(et(null!==_),g=_.keys(),d.mutationQueue.removeMutationBatch(f,_))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,l)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(i.localStore,t);TB(i,t,e),EB(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Eu(i,r)}catch(r){yield eh(r)}}),wB.apply(this,arguments)}function EB(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function TB(n,t,e){const i=Ue(n);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function J_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||nW(n,i)})}function nW(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(X0(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),DB(n))}function xB(n,t,e){for(const i of e)i instanceof Q5?(n.Ic.addReference(i.key,t),Iee(n,i)):i instanceof J5?(Me("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||nW(n,i.key)):Ye()}function Iee(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(Me("SyncEngine","New document in limbo: "+e),n.mc.add(i),DB(n))}function DB(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new Be(an.fromString(t)),i=n.Ac.next();n.yc.set(i,new yee(e)),n.gc=n.gc.insert(e,i),S1(n.remoteStore,new Cu(Fs(F_(e.path)),i,"TargetPurposeLimboResolution",To.ct))}}function Eu(n,t,e){return IB.apply(this,arguments)}function IB(){return IB=(0,we.Z)(function*(n,t,e){const i=Ue(n),r=[],s=[],l=[];var d;i.wc.isEmpty()||(i.wc.forEach((d,f)=>{l.push(i.Rc(f,t,e).then(g=>{if((g||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,(null==g?void 0:g.fromCache)?"not-current":"current"),g){r.push(g);const _=kV.Li(f.targetId,g);s.push(_)}}))}),yield Promise.all(l),i.dc.nu(r),yield(d=(0,we.Z)(function*(f,g){const _=Ue(f);try{yield _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>oe.forEach(g,E=>oe.forEach(E.Fi,x=>_.persistence.referenceDelegate.addReference(b,E.targetId,x)).next(()=>oe.forEach(E.Bi,x=>_.persistence.referenceDelegate.removeReference(b,E.targetId,x)))))}catch(b){if(!th(b))throw b;Me("LocalStore","Failed to update sequence numbers: "+b)}for(const b of g){const E=b.targetId;if(!b.fromCache){const x=_.Ji.get(E),k=x.withLastLimboFreeSnapshotVersion(x.snapshotVersion);_.Ji=_.Ji.insert(E,k)}}}),function(f,g){return d.apply(this,arguments)})(i.localStore,s))}),IB.apply(this,arguments)}function See(n,t){return SB.apply(this,arguments)}function SB(){return SB=(0,we.Z)(function*(n,t){const e=Ue(n);if(!e.currentUser.isEqual(t)){Me("SyncEngine","User change. New user:",t.toKey());const i=yield M5(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(l=>{l.forEach(d=>{d.reject(new Se(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Eu(e,i.er)}var r}),SB.apply(this,arguments)}function Aee(n,t){const e=Ue(n),i=e.yc.get(t);if(i&&i.fc)return Lt().add(i.key);{let r=Lt();const s=e._c.get(t);if(!s)return r;for(const l of s){const d=e.wc.get(l);r=r.unionWith(d.view.nc)}return r}}function NB(n){const t=Ue(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=eW.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Aee.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Eee.bind(null,t),t.dc.nu=fee.bind(null,t.eventManager),t.dc.Pc=pee.bind(null,t.eventManager),t}function LB(n){const t=Ue(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Tee.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xee.bind(null,t),t}class M1{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,we.Z)(function*(){e.serializer=Q0(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function(n,t,e,i){return new UX(n,t,e,i)}(this.persistence,new S5,t.initialUser,this.serializer)}createPersistence(t){return new IV(b1.zs,this.serializer)}createSharedClientState(t){return new V5}terminate(){var t=this;return(0,we.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class X_{initialize(t,e){var i=this;return(0,we.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>tW(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=See.bind(null,i.syncEngine),yield function(n,t){return sB.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new hee}createDatastore(t){const e=Q0(t.databaseInfo.databaseId),i=new YX(t.databaseInfo);return new JX(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>tW(this.syncEngine,d,0),l=B5.D()?new B5:new WX,new tee(e,i,r,s,l);var e,i,r,s,l}createSyncEngine(t,e){return function(i,r,s,l,d,f,g){const _=new vee(i,r,s,l,d,f);return g&&(_.vc=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,we.Z)(function*(e){const i=Ue(e);Me("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield W_(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}class k1{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):Fi("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class zee{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Sr.UNAUTHENTICATED,this.clientId=M$.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,we.Z)(function*(d){Me("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(Me("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var t=this;return(0,we.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Y_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function R1(n,t){return VB.apply(this,arguments)}function VB(){return VB=(0,we.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Me("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,we.Z)(function*(s){i.isEqual(s)||(yield M5(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),VB.apply(this,arguments)}function BB(n,t){return UB.apply(this,arguments)}function UB(){return UB=(0,we.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield HB(n);Me("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>q5(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>q5(t.remoteStore,s)),n._onlineComponents=t}),UB.apply(this,arguments)}function lW(n){return"FirebaseError"===n.name?n.code===fe.FAILED_PRECONDITION||n.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function HB(n){return zB.apply(this,arguments)}function zB(){return zB=(0,we.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Me("FirestoreClient","Using user provided OfflineComponentProvider");try{yield R1(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!lW(e))throw e;$a("Error using user provided cache. Falling back to memory cache: "+e),yield R1(n,new M1)}}else Me("FirestoreClient","Using default OfflineComponentProvider"),yield R1(n,new M1);return n._offlineComponents}),zB.apply(this,arguments)}function O1(n){return jB.apply(this,arguments)}function jB(){return jB=(0,we.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Me("FirestoreClient","Using user provided OnlineComponentProvider"),yield BB(n,n._uninitializedComponentsProvider._online)):(Me("FirestoreClient","Using default OnlineComponentProvider"),yield BB(n,new X_))),n._onlineComponents}),jB.apply(this,arguments)}function ey(n){return GB.apply(this,arguments)}function GB(){return GB=(0,we.Z)(function*(n){const t=yield O1(n),e=t.eventManager;return e.onListen=bee.bind(null,t.syncEngine),e.onUnlisten=wee.bind(null,t.syncEngine),e}),GB.apply(this,arguments)}function pW(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const gW=new Map;function WB(n,t,e){if(!e)throw new Se(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function mW(n){if(!Be.isDocumentKey(n))throw new Se(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _W(n){if(Be.isDocumentKey(n))throw new Se(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function F1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":Ye()}function sn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Se(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=F1(n);throw new Se(fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class vW{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Se(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Se(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(n,t,e,i){if(!0===t&&!0===i)throw new Se(fe.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=pW(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class eC{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vW({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Se(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Se(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vW(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new YQ;switch(e.type){case"firstParty":return new XQ(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Se(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=gW.get(t);e&&(Me("ComponentProvider","Removing Datastore"),gW.delete(t),e.terminate())}(this),Promise.resolve()}}class Vi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vi(this.firestore,t,this._key)}}class Jr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Jr(this.firestore,t,this._query)}}class oc extends Jr{constructor(t,e,i){super(t,e,F_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vi(this.firestore,null,new Be(t))}withConverter(t){return new oc(this.firestore,t,this._path)}}function Xee(n,t,...e){if(n=(0,Rt.m9)(n),WB("collection","path",t),n instanceof eC){const i=an.fromString(t,...e);return _W(i),new oc(n,null,i)}{if(!(n instanceof Vi||n instanceof oc))throw new Se(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(an.fromString(t,...e));return _W(i),new oc(n.firestore,null,i)}}function bW(n,t,...e){if(n=(0,Rt.m9)(n),1===arguments.length&&(t=M$.A()),WB("doc","path",t),n instanceof eC){const i=an.fromString(t,...e);return mW(i),new Vi(n,null,new Be(i))}{if(!(n instanceof Vi||n instanceof oc))throw new Se(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(an.fromString(t,...e));return mW(i),new Vi(n.firestore,n instanceof oc?n.converter:null,new Be(i))}}class ete{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new HV(this,"async_queue_retry"),this.Xc=()=>{const e=I1();e&&Me("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=I1();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=I1();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new hr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,we.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!th(e))throw e;Me("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,Fi("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=oB.createAndSchedule(this,t,e,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&Ye()}verifyOperationInProgress(){}sa(){var t=this;return(0,we.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function qB(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Hn extends eC{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new ete,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||CW(this),this._firestoreClient.terminate()}}function nte(n,t){const e="object"==typeof n?n:(0,Wr.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,Wr._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,Rt.P0)("firestore");s&&function(n,t,e,i={}){var r;const s=(n=sn(n,eC))._getSettings(),l=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==l&&$a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),i.mockUserToken){let d,f;if("string"==typeof i.mockUserToken)d=i.mockUserToken,f=Sr.MOCK_USER;else{d=(0,Rt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Se(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Sr(g)}n._authCredentials=new ZQ(new S$(d,f))}}(r,...s)}return r}function tr(n){return n._firestoreClient||CW(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function CW(n){var t,e,i;const r=n._freezeSettings(),s=(d=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new AJ(n._databaseId,d,n._persistenceKey,(g=r).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,pW(g.experimentalLongPollingOptions),g.useFetchStreams));var d,g;n._firestoreClient=new zee(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(e=r.cache)||void 0===e?void 0:e._offlineComponentProvider)&&(null===(i=r.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}class Lp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Lp(fr.fromBase64String(t))}catch(e){throw new Se(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Lp(fr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class ty{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Se(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ni(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class KB{constructor(t){this._methodName=t}}class YB{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Se(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Se(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return St(this._lat,t._lat)||St(this._long,t._long)}}const rte=/^__.*__$/;class xW{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new wu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function DW(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class N1{constructor(t,e,i,r,s,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new N1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return V1(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(DW(this.ca)&&rte.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class ote{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Q0(t)}ya(t,e,i,r=!1){return new N1({ca:t,methodName:e,ga:i,path:Ni.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}class nC extends KB{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof nC}}function Vp(n,t){if(RW(n=(0,Rt.m9)(n)))return JB("Unsupported field value:",t,n),function(n,t){const e={};return $$(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nh(n,(i,r)=>{const s=Vp(r,t.ha(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}(n,t);if(n instanceof KB)return function(e,i){if(!DW(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const l of e){let d=Vp(l,i.wa(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Rt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return wG(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ci.fromDate(e);return{timestampValue:U_(i.serializer,r)}}if(e instanceof ci){const r=new ci(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:U_(i.serializer,r)}}if(e instanceof YB)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Lp)return{bytesValue:zG(i.serializer,e._byteString)};if(e instanceof Vi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:gV(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${F1(e)}`)}(n,t)}function RW(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ci||n instanceof YB||n instanceof Lp||n instanceof Vi||n instanceof KB)}function JB(n,t,e){if(!RW(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=F1(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function iC(n,t,e){if((t=(0,Rt.m9)(t))instanceof ty)return t._internalPath;if("string"==typeof t)return L1(n,t);throw V1("Field path arguments must be of type string or ",n,!1,void 0,e)}const ute=new RegExp("[~\\*/\\[\\]]");function L1(n,t,e){if(t.search(ute)>=0)throw V1(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ty(...t.split("."))._internalPath}catch(i){throw V1(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function V1(n,t,e,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${i}`),l&&(f+=` in document ${r}`),f+=")"),new Se(fe.INVALID_ARGUMENT,d+n+f)}function OW(n,t){return n.some(e=>e.isEqual(t))}class XB{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new dte(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(B1("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class dte extends XB{data(){return super.data()}}function B1(n,t){return"string"==typeof t?L1(n,t):t instanceof ty?t._internalPath:t._delegate._internalPath}class Bp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ry extends XB{constructor(t,e,i,r,s,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new j1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(B1("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class j1 extends ry{data(t={}){return super.data(t)}}class sy{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Bp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new j1(this._firestore,this._userDataWriter,i.key,i,new Bp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Se(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new j1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bp(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const d=new j1(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Bp(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return 0!==l.type&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),g=s.indexOf(l.doc.key)),{type:gte(l.type),doc:d,oldIndex:f,newIndex:g}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function gte(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}class ph extends class{convertValue(t,e="none"){switch(sh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(yu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ye()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return nh(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new YB(yi(t.latitude),yi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=JS(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(D0(t));default:return null}}convertTimestamp(t){const e=ih(t);return new ci(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=an.fromString(t);et(JG(i));const r=new Tp(i.get(1),i.get(3)),s=new Be(i.popFirst(5));return r.isEqual(e)||Fi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}{constructor(t){super(),this.firestore=t}convertBytes(t){return new Lp(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vi(this.firestore,null,e)}}function mte(n,t,e,...i){n=sn(n,Vi);const r=sn(n.firestore,Hn),s=function(n){const t=n._freezeSettings(),e=Q0(n._databaseId);return new ote(n._databaseId,!!t.ignoreUndefinedProperties,e)}(r);let l;return l="string"==typeof(t=(0,Rt.m9)(t))||t instanceof ty?function(n,t,e,i,r,s){const l=n.ya(1,t,e),d=[iC(t,i,e)],f=[r];if(s.length%2!=0)throw new Se(fe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<s.length;E+=2)d.push(iC(t,s[E])),f.push(s[E+1]);const g=[],_=Qr.empty();for(let E=d.length-1;E>=0;--E)if(!OW(g,d[E])){const x=d[E];let M=f[E];M=(0,Rt.m9)(M);const k=l.da(x);if(M instanceof nC)g.push(x);else{const R=Vp(M,k);null!=R&&(g.push(x),_.set(x,R))}}const b=new Js(g);return new xW(_,b,l.fieldTransforms)}(s,"updateDoc",n._key,t,e,i):function(n,t,e,i){const r=n.ya(1,t,e);JB("Data must be an object, but it was:",r,i);const s=[],l=Qr.empty();nh(i,(f,g)=>{const _=L1(t,f,e);g=(0,Rt.m9)(g);const b=r.da(_);if(g instanceof nC)s.push(_);else{const E=Vp(g,b);null!=E&&(s.push(_),l.set(_,E))}});const d=new Js(s);return new xW(l,d,r.fieldTransforms)}(s,"updateDoc",n._key,t),function(n,t){return function(e,i){const r=new hr;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(n,t,e){return _B.apply(this,arguments)}(yield function(n){return O1(n).then(t=>t.syncEngine)}(e),i,r)})),r.promise}(tr(n),t)}(r,[l.toMutation(n._key,ti.exists(!0))])}!function(n,t=!0){A_=Wr.SDK_VERSION,(0,Wr._registerComponent)(new du.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),l=new Hn(new QQ(e.getProvider("auth-internal")),new eJ(e.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Se(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tp(d.options.projectId,f)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,Wr.registerVersion)(I$,"3.12.2",n),(0,Wr.registerVersion)(I$,"3.12.2","esm2017")}();var Ate={includeMetadataChanges:!1};function i3(n,t){return void 0===t&&(t=Ate),new ki.y(function(e){var i=function(n,...t){var e,i,r;n=(0,Rt.m9)(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof t[l]||qB(t[l])||(s=t[l],l++);const d={includeMetadataChanges:s.includeMetadataChanges};if(qB(t[l])){const b=t[l];t[l]=null===(e=b.next)||void 0===e?void 0:e.bind(b),t[l+1]=null===(i=b.error)||void 0===i?void 0:i.bind(b),t[l+2]=null===(r=b.complete)||void 0===r?void 0:r.bind(b)}let f,g,_;if(n instanceof Vi)g=sn(n.firestore,Hn),_=F_(n._key.path),f={next:b=>{t[l]&&t[l](function(n,t,e){const i=e.docs.get(t._key),r=new ph(n);return new ry(n,r,t._key,i,new Bp(e.hasPendingWrites,e.fromCache),t.converter)}(g,n,b))},error:t[l+1],complete:t[l+2]};else{const b=sn(n,Jr);g=sn(b.firestore,Hn),_=b._query;const E=new ph(g);f={next:x=>{t[l]&&t[l](new sy(g,E,b,x))},error:t[l+1],complete:t[l+2]},function(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Se(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(b,E,x,M){const k=new k1(M),R=new hB(E,k,x);return b.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(n,t){return lB.apply(this,arguments)}(yield ey(b),R)})),()=>{k.Dc(),b.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(n,t){return uB.apply(this,arguments)}(yield ey(b),R)}))}}(tr(g),_,d,f)}(n,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)});return{unsubscribe:i}})}function Nte(n,t){return void 0===t&&(t={}),function(n){return i3(n,{includeMetadataChanges:!0}).pipe((0,Mt.U)(function(t){return t.docs}))}(n).pipe((0,Mt.U)(function(e){return e.map(function(i){return function(n,t){void 0===t&&(t={});var e=n.data();return!n.exists()||"object"!=typeof e||null===e||t.idField&&(e[t.idField]=n.id),e}(i,t)})}))}class oy{constructor(t){return t}}const WW="firestore",o3=new c.OlP("angularfire2.firestore-instances");function Bte(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new oy(i)}}const Ute={provide:class{constructor(){return(0,Qi.vb)(WW)}},deps:[[new c.FiY,o3]]},Hte={provide:oy,useFactory:function(n,t){const e=(0,Qi.JM)(WW,n,t);return e&&new oy(e)},deps:[[new c.FiY,o3],qd]};let zte=(()=>{class n{constructor(){(0,Ha.KN)("angularfire",Qi.q4.full,"fst")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Hte,Ute]}),n})();function jte(n,...t){return{ngModule:zte,providers:[{provide:o3,useFactory:Bte(n),multi:!0,deps:[c.R0b,c.zs3,Qi.HU,GI,[new c.FiY,zz],[new c.FiY,uj],...t]}]}}const a3=(0,Qi.u3)(Nte,!0),l3=(0,Qi.u3)(Xee,!0),$te=(0,Qi.u3)(bW,!0),Gte=(0,Qi.u3)(nte,!0),Wte=(0,Qi.u3)(mte,!0),qte=function(n,t,e){return{"p-inputswitch p-component":!0,"p-inputswitch-checked":n,"p-disabled":t,"p-focus":e}},Kte={provide:Ki,useExisting:(0,c.Gpc)(()=>qW),multi:!0};let qW=(()=>{class n{constructor(e){this.cd=e,this.trueValue=!0,this.falseValue=!1,this.onChange=new c.vpe,this.modelValue=!1,this.focused=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(e,i){!this.disabled&&!this.readonly&&(e.preventDefault(),this.toggle(e),i.focus())}onInputChange(e){this.readonly||this.updateModel(e,e.target.checked)}toggle(e){this.updateModel(e,!this.checked())}updateModel(e,i){this.modelValue=i?this.trueValue:this.falseValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:e,checked:this.modelValue})}onFocus(e){this.focused=!0}onBlur(e){this.focused=!1,this.onModelTouched()}writeValue(e){this.modelValue=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-inputSwitch"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:"tabindex",inputId:"inputId",name:"name",disabled:"disabled",readonly:"readonly",trueValue:"trueValue",falseValue:"falseValue",ariaLabelledBy:"ariaLabelledBy"},outputs:{onChange:"onChange"},features:[c._Bn([Kte])],decls:5,vars:15,consts:[[3,"ngClass","ngStyle","click"],[1,"p-hidden-accessible"],["type","checkbox","role","switch",3,"checked","disabled","change","focus","blur"],["cb",""],[1,"p-inputswitch-slider"]],template:function(e,i){if(1&e){const r=c.EpF();c.TgZ(0,"div",0),c.NdJ("click",function(l){c.CHM(r);const d=c.MAs(3);return i.onClick(l,d)}),c.TgZ(1,"div",1),c.TgZ(2,"input",2,3),c.NdJ("change",function(l){return i.onInputChange(l)})("focus",function(l){return i.onFocus(l)})("blur",function(l){return i.onBlur(l)}),c.qZA(),c.qZA(),c._UZ(4,"span",4),c.qZA()}2&e&&(c.Tol(i.styleClass),c.Q6J("ngClass",c.kEZ(11,qte,i.checked(),i.disabled,i.focused))("ngStyle",i.style),c.xp6(2),c.Q6J("checked",i.checked())("disabled",i.disabled),c.uIk("id",i.inputId)("name",i.name)("tabindex",i.tabindex)("aria-checked",i.checked())("aria-labelledby",i.ariaLabelledBy))},directives:[hi,Sn],styles:['.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;-ms-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}'],encapsulation:2,changeDetection:0}),n})(),Yte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii]]}),n})();function ay(n){return n+.5|0}const Tu=(n,t,e)=>Math.max(Math.min(n,e),t);function oC(n){return Tu(ay(2.55*n),0,255)}function gh(n){return Tu(ay(255*n),0,255)}function xu(n){return Tu(ay(n/2.55)/100,0,1)}function KW(n){return Tu(ay(100*n),0,100)}const ia={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},c3=[..."0123456789ABCDEF"],Zte=n=>c3[15&n],Qte=n=>c3[(240&n)>>4]+c3[15&n],G1=n=>(240&n)>>4==(15&n);const nne=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function YW(n,t,e){const i=t*Math.min(e,1-e),r=(s,l=(s+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function ine(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function rne(n,t,e){const i=YW(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function u3(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),l=Math.min(e,i,r),d=(s+l)/2;let f,g,_;return s!==l&&(_=s-l,g=d>.5?_/(2-s-l):_/(s+l),f=function(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,_,s),f=60*f+.5),[0|f,g||0,d]}function d3(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(gh)}function h3(n,t,e){return d3(YW,n,t,e)}function ZW(n){return(n%360+360)%360}const QW={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},JW={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let W1;const fne=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,f3=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,ly=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function q1(n,t,e){if(n){let i=u3(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=h3(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function XW(n,t){return n&&Object.assign(t||{},n)}function eq(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=gh(n[3]))):(t=XW(n,{r:0,g:0,b:0,a:1})).a=gh(t.a),t}function _ne(n){return"r"===n.charAt(0)?function(n){const t=fne.exec(n);let i,r,s,e=255;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?oC(l):Tu(255*l,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?oC(i):Tu(i,0,255)),r=255&(t[4]?oC(r):Tu(r,0,255)),s=255&(t[6]?oC(s):Tu(s,0,255)),{r:i,g:r,b:s,a:e}}}(n):function(n){const t=nne.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?oC(+t[5]):gh(+t[5]));const r=ZW(+t[2]),s=+t[3]/100,l=+t[4]/100;return i="hwb"===t[1]?function(n,t,e){return d3(rne,n,t,e)}(r,s,l):"hsv"===t[1]?function(n,t,e){return d3(ine,n,t,e)}(r,s,l):h3(r,s,l),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class cy{constructor(t){if(t instanceof cy)return t;const e=typeof t;let i;"object"===e?i=eq(t):"string"===e&&(i=function(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*ia[n[1]],g:255&17*ia[n[2]],b:255&17*ia[n[3]],a:5===t?17*ia[n[4]]:255}:(7===t||9===t)&&(e={r:ia[n[1]]<<4|ia[n[2]],g:ia[n[3]]<<4|ia[n[4]],b:ia[n[5]]<<4|ia[n[6]],a:9===t?ia[n[7]]<<4|ia[n[8]]:255})),e}(t)||function(n){W1||(W1=function(){const n={},t=Object.keys(JW),e=Object.keys(QW);let i,r,s,l,d;for(i=0;i<t.length;i++){for(l=d=t[i],r=0;r<e.length;r++)s=e[r],d=d.replace(s,QW[s]);s=parseInt(JW[l],16),n[d]=[s>>16&255,s>>8&255,255&s]}return n}(),W1.transparent=[0,0,0,0]);const t=W1[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||_ne(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=XW(this._rgb);return t&&(t.a=xu(t.a)),t}set rgb(t){this._rgb=eq(t)}rgbString(){return this._valid?function(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${xu(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function(n){var t=(n=>G1(n.r)&&G1(n.g)&&G1(n.b)&&G1(n.a))(n)?Zte:Qte;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function(n){if(!n)return;const t=u3(n),e=t[0],i=KW(t[1]),r=KW(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${xu(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const l=e===s?.5:e,d=2*l-1,f=i.a-r.a,g=((d*f==-1?d:(d+f)/(1+d*f))+1)/2;s=1-g,i.r=255&g*i.r+s*r.r+.5,i.g=255&g*i.g+s*r.g+.5,i.b=255&g*i.b+s*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function(n,t,e){const i=ly(xu(n.r)),r=ly(xu(n.g)),s=ly(xu(n.b));return{r:gh(f3(i+e*(ly(xu(t.r))-i))),g:gh(f3(r+e*(ly(xu(t.g))-r))),b:gh(f3(s+e*(ly(xu(t.b))-s))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new cy(this.rgb)}alpha(t){return this._rgb.a=gh(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=ay(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return q1(this._rgb,2,t),this}darken(t){return q1(this._rgb,2,-t),this}saturate(t){return q1(this._rgb,1,t),this}desaturate(t){return q1(this._rgb,1,-t),this}rotate(t){return function(n,t){var e=u3(n);e[0]=ZW(e[0]+t),e=h3(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function Du(){}const yne=(()=>{let n=0;return()=>n++})();function cn(n){return null==n}function zn(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function en(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function vi(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function xo(n,t){return vi(n)?n:t}function Vt(n,t){return void 0===n?t:n}const tq=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Nn(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function Cn(n,t,e,i){let r,s,l;if(zn(n))if(s=n.length,i)for(r=s-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<s;r++)t.call(e,n[r],r);else if(en(n))for(l=Object.keys(n),s=l.length,r=0;r<s;r++)t.call(e,n[l[r]],l[r])}function K1(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Y1(n){if(zn(n))return n.map(Y1);if(en(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Y1(n[e[r]]);return t}return n}function nq(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function bne(n,t,e,i){if(!nq(n))return;const r=t[n],s=e[n];en(r)&&en(s)?aC(r,s,i):t[n]=Y1(s)}function aC(n,t,e){const i=zn(t)?t:[t],r=i.length;if(!en(n))return n;const s=(e=e||{}).merger||bne;let l;for(let d=0;d<r;++d){if(l=i[d],!en(l))continue;const f=Object.keys(l);for(let g=0,_=f.length;g<_;++g)s(f[g],n,l,e)}return n}function lC(n,t){return aC(n,t,{merger:wne})}function wne(n,t,e){if(!nq(n))return;const i=t[n],r=e[n];en(i)&&en(r)?lC(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Y1(r))}const iq={"":n=>n,x:n=>n.x,y:n=>n.y};function mh(n,t){return(iq[t]||(iq[t]=function(n){const t=function(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function p3(n){return n.charAt(0).toUpperCase()+n.slice(1)}const cC=n=>void 0!==n,_h=n=>"function"==typeof n,rq=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},ni=Math.PI,jn=2*ni,xne=jn+ni,Z1=Number.POSITIVE_INFINITY,Dne=ni/180,bi=ni/2,Up=ni/4,sq=2*ni/3,yh=Math.log10,ac=Math.sign;function uC(n,t,e){return Math.abs(n-t)<e}function oq(n){const t=Math.round(n);n=uC(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(yh(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function uy(n){return!isNaN(parseFloat(n))&&isFinite(n)}function aq(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function Wa(n){return n*(ni/180)}function g3(n){return n*(180/ni)}function lq(n){if(!vi(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function cq(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*ni&&(s+=jn),{angle:s,distance:r}}function m3(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Ane(n,t){return(n-t+xne)%jn-ni}function Do(n){return(n%jn+jn)%jn}function dC(n,t,e,i){const r=Do(n),s=Do(t),l=Do(e),d=Do(s-r),f=Do(l-r),g=Do(r-s),_=Do(r-l);return r===s||r===l||i&&s===l||d>f&&g<_}function kr(n,t,e){return Math.max(t,Math.min(e,n))}function Iu(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function _3(n,t,e){e=e||(l=>n[l]<t);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const Su=(n,t,e,i)=>_3(n,e,i?r=>{const s=n[r][t];return s<e||s===e&&n[r+1][t]===e}:r=>n[r][t]<e),kne=(n,t,e)=>_3(n,e,i=>n[i][t]>=e),uq=["push","pop","shift","splice","unshift"];function dq(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(uq.forEach(s=>{delete n[s]}),delete n._chartjs)}function hq(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const fq="undefined"==typeof window?function(n){return n()}:window.requestAnimationFrame;function pq(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,fq.call(window,()=>{i=!1,n.apply(t,e)}))}}const y3=n=>"start"===n?"left":"end"===n?"right":"center",gs=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function gq(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:l,_parsed:d}=n,f=l.axis,{min:g,max:_,minDefined:b,maxDefined:E}=l.getUserBounds();b&&(r=kr(Math.min(Su(d,l.axis,g).lo,e?i:Su(t,f,l.getPixelForValue(g)).lo),0,i-1)),s=E?kr(Math.max(Su(d,l.axis,_,!0).hi+1,e?0:Su(t,f,l.getPixelForValue(_),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function mq(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const Q1=n=>0===n||1===n,_q=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*jn/e),yq=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*jn/e)+1,hC={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*bi),easeOutSine:n=>Math.sin(n*bi),easeInOutSine:n=>-.5*(Math.cos(ni*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>Q1(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Q1(n)?n:_q(n,.075,.3),easeOutElastic:n=>Q1(n)?n:yq(n,.075,.3),easeInOutElastic(n){const t=.1125;return Q1(n)?n:n<.5?.5*_q(2*n,t,.45):.5+.5*yq(2*n-1,t,.45)},easeInBack(n){const t=1.70158;return n*n*((t+1)*n-t)},easeOutBack(n){const t=1.70158;return(n-=1)*n*((t+1)*n+t)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-hC.easeOutBounce(1-n),easeOutBounce(n){const t=7.5625,e=2.75;return n<1/e?t*n*n:n<2/e?t*(n-=1.5/e)*n+.75:n<2.5/e?t*(n-=2.25/e)*n+.9375:t*(n-=2.625/e)*n+.984375},easeInOutBounce:n=>n<.5?.5*hC.easeInBounce(2*n):.5*hC.easeOutBounce(2*n-1)+.5};function v3(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function vq(n){return v3(n)?n:new cy(n)}function b3(n){return v3(n)?n:new cy(n).saturate(.5).darken(.1).hexString()}const Nne=["x","y","borderWidth","radius","tension"],Lne=["color","borderColor","backgroundColor"],bq=new Map;function fC(n,t,e){return function(n,t){t=t||{};const e=n+JSON.stringify(t);let i=bq.get(e);return i||(i=new Intl.NumberFormat(n,t),bq.set(e,i)),i}(t,e).format(n)}const wq={values:n=>zn(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),s=function(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const l=yh(Math.abs(s)),d=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:r,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(f,this.options.ticks.format),fC(n,i,f)},logarithmic(n,t,e){if(0===n)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(yh(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?wq.numeric.call(this,n,t,e):""}};var J1={formatters:wq};const Hp=Object.create(null),w3=Object.create(null);function pC(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function C3(n,t,e){return"string"==typeof t?aC(pC(n,t),e):aC(pC(n,""),t)}class jne{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>b3(r.backgroundColor),this.hoverBorderColor=(i,r)=>b3(r.borderColor),this.hoverColor=(i,r)=>b3(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return C3(this,t,e)}get(t){return pC(this,t)}describe(t,e){return C3(w3,t,e)}override(t,e){return C3(Hp,t,e)}route(t,e,i,r){const s=pC(this,t),l=pC(this,i),d="_"+e;Object.defineProperties(s,{[d]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[d],g=l[r];return en(f)?Object.assign({},g,f):Vt(f,g)},set(f){this[d]=f}}})}apply(t){t.forEach(e=>e(this))}}var wi=new jne({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),n.set("animations",{colors:{type:"color",properties:Lne},numbers:{type:"number",properties:Nne}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:J1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function X1(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function Gne(n,t,e,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const d=e.length;let f,g,_,b,E;for(f=0;f<d;f++)if(b=e[f],null==b||zn(b)){if(zn(b))for(g=0,_=b.length;g<_;g++)E=b[g],null!=E&&!zn(E)&&(l=X1(n,r,s,l,E))}else l=X1(n,r,s,l,b);n.restore();const x=s.length/2;if(x>e.length){for(f=0;f<x;f++)delete r[s[f]];s.splice(0,x)}return l}function zp(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function Cq(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function E3(n,t,e,i){Eq(n,t,e,i,null)}function Eq(n,t,e,i,r){let s,l,d,f,g,_,b,E;const x=t.pointStyle,M=t.rotation,k=t.radius;let R=(M||0)*Dne;if(x&&"object"==typeof x&&(s=x.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(e,i),n.rotate(R),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),void n.restore();if(!(isNaN(k)||k<=0)){switch(n.beginPath(),x){default:r?n.ellipse(e,i,r/2,k,0,0,jn):n.arc(e,i,k,0,jn),n.closePath();break;case"triangle":_=r?r/2:k,n.moveTo(e+Math.sin(R)*_,i-Math.cos(R)*k),R+=sq,n.lineTo(e+Math.sin(R)*_,i-Math.cos(R)*k),R+=sq,n.lineTo(e+Math.sin(R)*_,i-Math.cos(R)*k),n.closePath();break;case"rectRounded":g=.516*k,f=k-g,l=Math.cos(R+Up)*f,b=Math.cos(R+Up)*(r?r/2-g:f),d=Math.sin(R+Up)*f,E=Math.sin(R+Up)*(r?r/2-g:f),n.arc(e-b,i-d,g,R-ni,R-bi),n.arc(e+E,i-l,g,R-bi,R),n.arc(e+b,i+d,g,R,R+bi),n.arc(e-E,i+l,g,R+bi,R+ni),n.closePath();break;case"rect":if(!M){f=Math.SQRT1_2*k,_=r?r/2:f,n.rect(e-_,i-f,2*_,2*f);break}R+=Up;case"rectRot":b=Math.cos(R)*(r?r/2:k),l=Math.cos(R)*k,d=Math.sin(R)*k,E=Math.sin(R)*(r?r/2:k),n.moveTo(e-b,i-d),n.lineTo(e+E,i-l),n.lineTo(e+b,i+d),n.lineTo(e-E,i+l),n.closePath();break;case"crossRot":R+=Up;case"cross":b=Math.cos(R)*(r?r/2:k),l=Math.cos(R)*k,d=Math.sin(R)*k,E=Math.sin(R)*(r?r/2:k),n.moveTo(e-b,i-d),n.lineTo(e+b,i+d),n.moveTo(e+E,i-l),n.lineTo(e-E,i+l);break;case"star":b=Math.cos(R)*(r?r/2:k),l=Math.cos(R)*k,d=Math.sin(R)*k,E=Math.sin(R)*(r?r/2:k),n.moveTo(e-b,i-d),n.lineTo(e+b,i+d),n.moveTo(e+E,i-l),n.lineTo(e-E,i+l),R+=Up,b=Math.cos(R)*(r?r/2:k),l=Math.cos(R)*k,d=Math.sin(R)*k,E=Math.sin(R)*(r?r/2:k),n.moveTo(e-b,i-d),n.lineTo(e+b,i+d),n.moveTo(e+E,i-l),n.lineTo(e-E,i+l);break;case"line":l=r?r/2:Math.cos(R)*k,d=Math.sin(R)*k,n.moveTo(e-l,i-d),n.lineTo(e+l,i+d);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(R)*(r?r/2:k),i+Math.sin(R)*k);break;case!1:n.closePath()}n.fill(),t.borderWidth>0&&n.stroke()}}function Au(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function eA(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function tA(n){n.restore()}function Wne(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function qne(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function Yne(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),l=t-s.actualBoundingBoxLeft,d=t+s.actualBoundingBoxRight,f=e-s.actualBoundingBoxAscent,g=e+s.actualBoundingBoxDescent,_=r.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,_),n.lineTo(d,_),n.stroke()}}function Zne(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function jp(n,t,e,i,r,s={}){const l=zn(t)?t:[t],d=s.strokeWidth>0&&""!==s.strokeColor;let f,g;for(n.save(),n.font=r.string,function(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),cn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,s),f=0;f<l.length;++f)g=l[f],s.backdrop&&Zne(n,s.backdrop),d&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),cn(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(g,e,i,s.maxWidth)),n.fillText(g,e,i,s.maxWidth),Yne(n,e,i,g,s),i+=Number(r.lineHeight);n.restore()}function gC(n,t){const{x:e,y:i,w:r,h:s,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,-bi,ni,!0),n.lineTo(e,i+s-l.bottomLeft),n.arc(e+l.bottomLeft,i+s-l.bottomLeft,l.bottomLeft,ni,bi,!0),n.lineTo(e+r-l.bottomRight,i+s),n.arc(e+r-l.bottomRight,i+s-l.bottomRight,l.bottomRight,bi,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-bi,!0),n.lineTo(e+l.topLeft,i)}const Qne=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Jne=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Xne(n,t){const e=(""+n).match(Qne);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const eie=n=>+n||0;function T3(n,t){const e={},i=en(t),r=i?Object.keys(t):t,s=en(n)?i?l=>Vt(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=eie(s(l));return e}function Tq(n){return T3(n,{top:"y",right:"x",bottom:"y",left:"x"})}function $p(n){return T3(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ms(n){const t=Tq(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function pr(n,t){let e=Vt((n=n||{}).size,(t=t||wi.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=Vt(n.style,t.style);i&&!(""+i).match(Jne)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Vt(n.family,t.family),lineHeight:Xne(Vt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Vt(n.weight,t.weight),string:""};return r.string=function(n){return!n||cn(n.size)||cn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function mC(n,t,e,i){let s,l,d,r=!0;for(s=0,l=n.length;s<l;++s)if(d=n[s],void 0!==d&&(void 0!==t&&"function"==typeof d&&(d=d(t),r=!1),void 0!==e&&zn(d)&&(d=d[e%d.length],r=!1),void 0!==d))return i&&!r&&(i.cacheable=!1),d}function vh(n,t){return Object.assign(Object.create(n),t)}function x3(n,t=[""],e,i,r=(()=>n[0])){const s=e||n;void 0===i&&(i=Aq("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:r,override:d=>x3([d,...n],t,s,i)};return new Proxy(l,{deleteProperty:(d,f)=>(delete d[f],delete d._keys,delete n[0][f],!0),get:(d,f)=>Dq(d,f,()=>function(n,t,e,i){let r;for(const s of t)if(r=Aq(nie(s,n),e),void 0!==r)return D3(n,r)?I3(e,i,n,r):r}(f,t,n,d)),getOwnPropertyDescriptor:(d,f)=>Reflect.getOwnPropertyDescriptor(d._scopes[0],f),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(d,f)=>Mq(d).includes(f),ownKeys:d=>Mq(d),set(d,f,g){const _=d._storage||(d._storage=r());return d[f]=_[f]=g,delete d._keys,!0}})}function dy(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:xq(n,i),setContext:s=>dy(n,s,e,i),override:s=>dy(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty:(s,l)=>(delete s[l],delete n[l],!0),get:(s,l,d)=>Dq(s,l,()=>function(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:l}=n;let d=i[t];return _h(d)&&l.isScriptable(t)&&(d=function(n,t,e,i){const{_proxy:r,_context:s,_subProxy:l,_stack:d}=e;if(d.has(n))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+n);d.add(n);let f=t(s,l||i);return d.delete(n),D3(n,f)&&(f=I3(r._scopes,r,n,f)),f}(t,d,n,e)),zn(d)&&d.length&&(d=function(n,t,e,i){const{_proxy:r,_context:s,_subProxy:l,_descriptors:d}=e;if(void 0!==s.index&&i(n))return t[s.index%t.length];if(en(t[0])){const f=t,g=r._scopes.filter(_=>_!==f);t=[];for(const _ of f){const b=I3(g,r,n,_);t.push(dy(b,s,l&&l[n],d))}}return t}(t,d,n,l.isIndexable)),D3(t,d)&&(d=dy(d,r,s&&s[t],l)),d}(s,l,d)),getOwnPropertyDescriptor:(s,l)=>s._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,l)=>Reflect.has(n,l),ownKeys:()=>Reflect.ownKeys(n),set:(s,l,d)=>(n[l]=d,delete s[l],!0)})}function xq(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:_h(e)?e:()=>e,isIndexable:_h(i)?i:()=>i}}const nie=(n,t)=>n?n+p3(t):t,D3=(n,t)=>en(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Dq(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function Iq(n,t,e){return _h(n)?n(t,e):n}const oie=(n,t)=>!0===n?t:"string"==typeof n?mh(t,n):void 0;function aie(n,t,e,i,r){for(const s of t){const l=oie(e,s);if(l){n.add(l);const d=Iq(l._fallback,e,r);if(void 0!==d&&d!==e&&d!==i)return d}else if(!1===l&&void 0!==i&&e!==i)return null}return!1}function I3(n,t,e,i){const r=t._rootScopes,s=Iq(t._fallback,e,i),l=[...n,...r],d=new Set;d.add(i);let f=Sq(d,l,e,s||e,i);return null!==f&&(void 0===s||s===e||(f=Sq(d,l,s,f,i),null!==f))&&x3(Array.from(d),[""],r,s,()=>function(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return zn(r)&&en(e)?e:r||{}}(t,e,i))}function Sq(n,t,e,i,r){for(;e;)e=aie(n,t,e,i,r);return e}function Aq(n,t){for(const e of t){if(!e)continue;const i=e[n];if(void 0!==i)return i}}function Mq(n){let t=n._keys;return t||(t=n._keys=function(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function kq(n,t,e,i){const{iScale:r}=n,{key:s="r"}=this._parsing,l=new Array(i);let d,f,g,_;for(d=0,f=i;d<f;++d)g=d+e,_=t[g],l[d]={r:r.parse(mh(_,s),g)};return l}const die=Number.EPSILON||1e-14,hy=(n,t)=>t<n.length&&!n[t].skip&&n[t],Rq=n=>"x"===n?"y":"x";function hie(n,t,e,i){const r=n.skip?t:n,s=t,l=e.skip?t:e,d=m3(s,r),f=m3(l,s);let g=d/(d+f),_=f/(d+f);g=isNaN(g)?0:g,_=isNaN(_)?0:_;const b=i*g,E=i*_;return{previous:{x:s.x-b*(l.x-r.x),y:s.y-b*(l.y-r.y)},next:{x:s.x+E*(l.x-r.x),y:s.y+E*(l.y-r.y)}}}function nA(n,t,e){return Math.max(Math.min(n,e),t)}function _ie(n,t,e,i,r){let s,l,d,f;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),"monotone"===t.cubicInterpolationMode)!function(n,t="x"){const e=Rq(t),i=n.length,r=Array(i).fill(0),s=Array(i);let l,d,f,g=hy(n,0);for(l=0;l<i;++l)if(d=f,f=g,g=hy(n,l+1),f){if(g){const _=g[t]-f[t];r[l]=0!==_?(g[e]-f[e])/_:0}s[l]=d?g?ac(r[l-1])!==ac(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}(function(n,t,e){const i=n.length;let r,s,l,d,f,g=hy(n,0);for(let _=0;_<i-1;++_)if(f=g,g=hy(n,_+1),f&&g){if(uC(t[_],0,die)){e[_]=e[_+1]=0;continue}r=e[_]/t[_],s=e[_+1]/t[_],d=Math.pow(r,2)+Math.pow(s,2),!(d<=9)&&(l=3/Math.sqrt(d),e[_]=r*l*t[_],e[_+1]=s*l*t[_])}})(n,r,s),function(n,t,e="x"){const i=Rq(e),r=n.length;let s,l,d,f=hy(n,0);for(let g=0;g<r;++g){if(l=d,d=f,f=hy(n,g+1),!d)continue;const _=d[e],b=d[i];l&&(s=(_-l[e])/3,d[`cp1${e}`]=_-s,d[`cp1${i}`]=b-s*t[g]),f&&(s=(f[e]-_)/3,d[`cp2${e}`]=_+s,d[`cp2${i}`]=b+s*t[g])}}(n,s,t)}(n,r);else{let g=i?n[n.length-1]:n[0];for(s=0,l=n.length;s<l;++s)d=n[s],f=hie(g,d,n[Math.min(s+1,l-(i?0:1))%l],t.tension),d.cp1x=f.previous.x,d.cp1y=f.previous.y,d.cp2x=f.next.x,d.cp2y=f.next.y,g=d}t.capBezierPoints&&function(n,t){let e,i,r,s,l,d=Au(n[0],t);for(e=0,i=n.length;e<i;++e)l=s,s=d,d=e<i-1&&Au(n[e+1],t),s&&(r=n[e],l&&(r.cp1x=nA(r.cp1x,t.left,t.right),r.cp1y=nA(r.cp1y,t.top,t.bottom)),d&&(r.cp2x=nA(r.cp2x,t.left,t.right),r.cp2y=nA(r.cp2y,t.top,t.bottom)))}(n,e)}function Oq(){return"undefined"!=typeof window&&"undefined"!=typeof document}function S3(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function iA(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const rA=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),vie=["top","right","bottom","left"];function Gp(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=vie[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Wp(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=rA(e),s="border-box"===r.boxSizing,l=Gp(r,"padding"),d=Gp(r,"border","width"),{x:f,y:g,box:_}=function(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let d,f,l=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(r,s,n.target))d=r,f=s;else{const g=t.getBoundingClientRect();d=i.clientX-g.left,f=i.clientY-g.top,l=!0}return{x:d,y:f,box:l}}(n,e),b=l.left+(_&&d.left),E=l.top+(_&&d.top);let{width:x,height:M}=t;return s&&(x-=l.width+d.width,M-=l.height+d.height),{x:Math.round((f-b)/x*e.width/i),y:Math.round((g-E)/M*e.height/i)}}const sA=n=>Math.round(10*n)/10;function Pq(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||l.height!==r||l.width!==s)&&(n.currentDevicePixelRatio=i,l.height=r,l.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const Tie=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}return n}();function Fq(n,t){const e=function(n,t){return rA(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function qp(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function xie(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function Die(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},l=qp(n,r,e),d=qp(r,s,e),f=qp(s,t,e),g=qp(l,d,e),_=qp(d,f,e);return qp(g,_,e)}function fy(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function Nq(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Lq(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Vq(n){return"angle"===n?{between:dC,compare:Ane,normalize:Do}:{between:Iu,compare:(t,e)=>t-e,normalize:t=>t}}function Bq({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function Uq(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,l=t.length,{compare:d,between:f,normalize:g}=Vq(i),{start:_,end:b,loop:E,style:x}=function(n,t,e){const{property:i,start:r,end:s}=e,{between:l,normalize:d}=Vq(i),f=t.length;let E,x,{start:g,end:_,loop:b}=n;if(b){for(g+=f,_+=f,E=0,x=f;E<x&&l(d(t[g%f][i]),r,s);++E)g--,_--;g%=f,_%=f}return _<g&&(_+=f),{start:g,end:_,loop:b,style:n.style}}(n,t,e),M=[];let B,G,Q,k=!1,R=null;for(let Ae=_,Le=_;Ae<=b;++Ae)G=t[Ae%l],!G.skip&&(B=g(G[i]),B!==Q&&(k=f(B,r,s),null===R&&(k||f(r,Q,B)&&0!==d(r,Q))&&(R=0===d(B,r)?Ae:Le),null!==R&&(!k||0===d(s,B)||f(s,Q,B))&&(M.push(Bq({start:R,end:Ae,loop:E,count:l,style:x})),R=null),Le=Ae,Q=B));return null!==R&&M.push(Bq({start:R,end:b,loop:E,count:l,style:x})),M}function Hq(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=Uq(i[r],n.points,t);s.length&&e.push(...s)}return e}function jq(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Pie(n,t){if(!t)return!1;const e=[],i=function(r,s){return v3(s)?(e.includes(s)||e.push(s),e.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(t,i)}class Fie{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const l=e.duration;e.listeners[r].forEach(d=>d({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=fq.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let f,l=s.length-1,d=!1;for(;l>=0;--l)f=s[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),d=!0):(s[l]=s[s.length-1],s.pop());d&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Mu=new Fie;const $q="transparent",Nie={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=vq(n||$q),r=i.valid&&vq(t||$q);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class Lie{constructor(t,e,i,r){const s=e[i];r=mC([t.to,r,s,t.from]);const l=mC([t.from,s,r]);this._active=!0,this._fn=t.fn||Nie[t.type||typeof l],this._easing=hC[t.easing]||hC.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,l=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=mC([t.to,e,r,t.from]),this._from=mC([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,l=this._loop,d=this._to;let f;if(this._active=s!==d&&(l||e<i),!this._active)return this._target[r]=d,void this._notify(!0);e<0?this._target[r]=s:(f=e/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(s,d,f))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class Gq{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!en(t))return;const e=Object.keys(wi.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const s=t[r];if(!en(s))return;const l={};for(const d of e)l[d]=s[d];(zn(s.properties)&&s.properties||[r]).forEach(d=>{(d===r||!i.has(d))&&i.set(d,l)})})}_animateOptions(t,e){const i=e.options,r=function(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),l=Object.keys(e),d=Date.now();let f;for(f=l.length-1;f>=0;--f){const g=l[f];if("$"===g.charAt(0))continue;if("options"===g){r.push(...this._animateOptions(t,e));continue}const _=e[g];let b=s[g];const E=i.get(g);if(b){if(E&&b.active()){b.update(E,_,d);continue}b.cancel()}E&&E.duration?(s[g]=b=new Lie(E,t,g,_),r.push(b)):t[g]=_}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(Mu.add(this._chart,i),!0):void 0}}function Wq(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,s=void 0===e.max?t:0;return{start:i?s:r,end:i?r:s}}function qq(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function Kq(n,t,e,i={}){const r=n.keys,s="single"===i.mode;let l,d,f,g;if(null!==t){for(l=0,d=r.length;l<d;++l){if(f=+r[l],f===e){if(i.all)continue;break}g=n.values[f],vi(g)&&(s||0===t||ac(t)===ac(g))&&(t+=g)}return t}}function Yq(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function Gie(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Zq(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function Qq(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:l,index:d}=i,f=s.axis,g=l.axis,_=function(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(s,l,i),b=t.length;let E;for(let x=0;x<b;++x){const M=t[x],{[f]:k,[g]:R}=M;E=(M._stacks||(M._stacks={}))[g]=Gie(r,_,k),E[d]=R,E._top=Zq(E,l,!0,i.type),E._bottom=Zq(E,l,!1,i.type),(E._visualValues||(E._visualValues={}))[d]=R}}function A3(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function _C(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][e])return;delete s[i][e],void 0!==s[i]._visualValues&&void 0!==s[i]._visualValues[e]&&delete s[i]._visualValues[e]}}}const M3=n=>"reset"===n||"none"===n,Jq=(n,t)=>t?n:Object.assign({},n);class qa{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Yq(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&_C(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(b,E,x,M)=>"x"===b?E:"r"===b?M:x,s=e.xAxisID=Vt(i.xAxisID,A3(t,"x")),l=e.yAxisID=Vt(i.yAxisID,A3(t,"y")),d=e.rAxisID=Vt(i.rAxisID,A3(t,"r")),f=e.indexAxis,g=e.iAxisID=r(f,s,l,d),_=e.vAxisID=r(f,l,s,d);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(d),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&dq(this._data,this),t._stacked&&_C(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(en(e))this._data=function(n){const t=Object.keys(n),e=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],e[i]={x:s,y:n[s]};return e}(e);else if(i!==e){if(i){dq(i,this);const r=this._cachedMeta;_C(r),r._parsed=[]}e&&Object.isExtensible(e)&&function(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),uq.forEach(e=>{const i="_onData"+p3(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const l=r.apply(this,s);return n._chartjs.listeners.forEach(d=>{"function"==typeof d[i]&&d[i](...s)}),l}})}))}(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=e._stacked;e._stacked=Yq(e.vScale,e),e.stack!==i.stack&&(r=!0,_C(e),e.stack=i.stack),this._resyncElements(t),(r||s!==e._stacked)&&Qq(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:l}=i,d=s.axis;let _,b,E,f=0===t&&e===r.length||i._sorted,g=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=r,i._sorted=!0,E=r;else{E=zn(r[t])?this.parseArrayData(i,r,t,e):en(r[t])?this.parseObjectData(i,r,t,e):this.parsePrimitiveData(i,r,t,e);const x=()=>null===b[d]||g&&b[d]<g[d];for(_=0;_<e;++_)i._parsed[_+t]=b=E[_],f&&(x()&&(f=!1),g=b);i._sorted=f}l&&Qq(this,E)}parsePrimitiveData(t,e,i,r){const{iScale:s,vScale:l}=t,d=s.axis,f=l.axis,g=s.getLabels(),_=s===l,b=new Array(r);let E,x,M;for(E=0,x=r;E<x;++E)M=E+i,b[E]={[d]:_||s.parse(g[M],M),[f]:l.parse(e[M],M)};return b}parseArrayData(t,e,i,r){const{xScale:s,yScale:l}=t,d=new Array(r);let f,g,_,b;for(f=0,g=r;f<g;++f)_=f+i,b=e[_],d[f]={x:s.parse(b[0],_),y:l.parse(b[1],_)};return d}parseObjectData(t,e,i,r){const{xScale:s,yScale:l}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,g=new Array(r);let _,b,E,x;for(_=0,b=r;_<b;++_)E=_+i,x=e[E],g[_]={x:s.parse(mh(x,d),E),y:l.parse(mh(x,f),E)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this._cachedMeta,l=e[t.axis];return Kq({keys:qq(this.chart,!0),values:e._stacks[t.axis]._visualValues},l,s.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const s=i[e.axis];let l=null===s?NaN:s;const d=r&&i._stacks[e.axis];r&&d&&(r.values=d,l=Kq(r,s,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&t===i.iScale,l=r.length,d=this._getOtherScale(t),f=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:qq(this.chart,!0),values:null})(e,i),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:b}=function(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(d);let E,x;function M(){x=r[E];const k=x[d.axis];return!vi(x[t.axis])||_>k||b<k}for(E=0;E<l&&(M()||(this.updateRangeFromParsed(g,t,x,f),!s));++E);if(s)for(E=l-1;E>=0;--E)if(!M()){this.updateRangeFromParsed(g,t,x,f);break}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,s,l;for(r=0,s=e.length;r<s;++r)l=e[r][t.axis],vi(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(n){let t,e,i,r;return en(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(Vt(this.options.clip,function(n,t,e){if(!1===e)return!1;const i=Wq(n,e),r=Wq(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,i=this._cachedMeta,r=i.data||[],s=this.chart.chartArea,l=[],d=this._drawStart||0,f=this._drawCount||r.length-d,g=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,s,d,f),_=d;_<d+f;++_){const b=r[_];b.hidden||(b.active&&g?l.push(b):b.draw(t,s))}for(_=0;_<l.length;++_)l[_].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];s=l.$context||(l.$context=function(n,t,e){return vh(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),t,l)),s.parsed=this.getParsed(t),s.raw=r.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=function(n,t){return vh(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r="active"===e,s=this._cachedDataOpts,l=t+"-"+e,d=s[l],f=this.enableOptionSharing&&cC(i);if(d)return Jq(d,f);const g=this.chart.config,_=g.datasetElementScopeKeys(this._type,t),b=r?[`${t}Hover`,"hover",t,""]:[t,""],E=g.getOptionScopes(this.getDataset(),_),x=Object.keys(wi.elements[t]),k=g.resolveNamedOptions(E,x,()=>this.getContext(i,r,e),b);return k.$shared&&(k.$shared=f,s[l]=Object.freeze(Jq(k,f))),k}_resolveAnimations(t,e,i){const r=this.chart,s=this._cachedDataOpts,l=`animation-${e}`,d=s[l];if(d)return d;let f;if(!1!==r.options.animation){const _=this.chart.config,b=_.datasetAnimationScopeKeys(this._type,e),E=_.getOptionScopes(this.getDataset(),b);f=_.createResolver(E,this.getContext(t,i,e))}const g=new Gq(r,f&&f.animations);return f&&f._cacheable&&(s[l]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||M3(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,s=this.getSharedOptions(i),l=this.includeOptions(e,s)||s!==r;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:l}}updateElement(t,e,i,r){M3(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!M3(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const s=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[d,f,g]of this._syncList)this[d](f,g);this._syncList=[];const r=i.length,s=e.length,l=Math.min(s,r);l&&this.parse(0,l),s>r?this._insertElements(r,s-r,t):s<r&&this._removeElements(s,r-s)}_insertElements(t,e,i=!0){const r=this._cachedMeta,s=r.data,l=t+e;let d;const f=g=>{for(g.length+=e,d=g.length-1;d>=l;d--)g[d]=g[d-e]};for(f(s),d=t;d<l;++d)s[d]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&_C(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Zie(n){const t=n.iScale,e=function(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=hq(i.sort((r,s)=>r-s))}return n._cache.$bar}(t,n.type);let r,s,l,d,i=t._length;const f=()=>{32767===l||-32768===l||(cC(d)&&(i=Math.min(i,Math.abs(l-d)||i)),d=l)};for(r=0,s=e.length;r<s;++r)l=t.getPixelForValue(e[r]),f();for(d=void 0,r=0,s=t.ticks.length;r<s;++r)l=t.getPixelForTick(r),f();return i}function Xq(n,t,e,i){return zn(n)?function(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),l=Math.min(r,s),d=Math.max(r,s);let f=l,g=d;Math.abs(l)>Math.abs(d)&&(f=d,g=l),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:r,end:s,min:l,max:d}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function e7(n,t,e,i){const r=n.iScale,s=n.vScale,l=r.getLabels(),d=r===s,f=[];let g,_,b,E;for(g=e,_=e+i;g<_;++g)E=t[g],b={},b[r.axis]=d||r.parse(l[g],g),f.push(Xq(E,b,s,g));return f}function k3(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function nre(n,t,e,i){let r=t.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:l,end:d,reverse:f,top:g,bottom:_}=function(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=g:(e._bottom||0)===i?r=_:(s[t7(_,l,d,f)]=!0,r=g)),s[t7(r,l,d,f)]=!0,n.borderSkipped=s}function t7(n,t,e,i){return i?(n=function(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=n7(n,e,t)):n=n7(n,t,e),n}function n7(n,t,e){return"start"===n?t:"end"===n?e:n}function rre(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}Ve(qa,"defaults",{}),Ve(qa,"datasetElementType",null),Ve(qa,"dataElementType",null);class oA extends qa{parsePrimitiveData(t,e,i,r){return e7(t,e,i,r)}parseArrayData(t,e,i,r){return e7(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:s,vScale:l}=t,{xAxisKey:d="x",yAxisKey:f="y"}=this._parsing,g="x"===s.axis?d:f,_="x"===l.axis?d:f,b=[];let E,x,M,k;for(E=i,x=i+r;E<x;++E)k=e[E],M={},M[s.axis]=s.parse(mh(k,g),E),b.push(Xq(mh(k,_),M,l,E));return b}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,s=this.getParsed(t),l=s._custom,d=k3(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const s="reset"===r,{index:l,_cachedMeta:{vScale:d}}=this,f=d.getBasePixel(),g=d.isHorizontal(),_=this._getRuler(),{sharedOptions:b,includeOptions:E}=this._getSharedOptions(e,r);for(let x=e;x<e+i;x++){const M=this.getParsed(x),k=s||cn(M[d.axis])?{base:f,head:f}:this._calculateBarValuePixels(x),R=this._calculateBarIndexPixels(x,_),B=(M._stacks||{})[d.axis],G={horizontal:g,base:k.base,enableBorderRadius:!B||k3(M._custom)||l===B._top||l===B._bottom,x:g?k.head:R.center,y:g?R.center:k.head,height:g?R.size:Math.abs(k.size),width:g?Math.abs(k.size):R.size};E&&(G.options=b||this.resolveDataElementOptions(x,t[x].active?"active":r));const Q=G.options||t[x].options;nre(G,Q,B,l),rre(G,Q,_.ratio),this.updateElement(t[x],x,G,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),s=i.options.stacked,l=[],d=f=>{const g=f.controller.getParsed(e),_=g&&g[f.vScale.axis];if(cn(_)||isNaN(_))return!0};for(const f of r)if((void 0===e||!d(f))&&((!1===s||-1===l.indexOf(f.stack)||void 0===s&&void 0===f.stack)&&l.push(f.stack),f.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const r=this._getStacks(t,i),s=void 0!==e?r.indexOf(e):-1;return-1===s?r.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let s,l;for(s=0,l=e.data.length;s<l;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const d=t.barThickness;return{min:d||Zie(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:d?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:s,minBarLength:l}}=this,d=s||0,f=this.getParsed(t),g=f._custom,_=k3(g);let M,k,b=f[e.axis],E=0,x=i?this.applyStack(e,f,i):b;x!==b&&(E=x-b,x=b),_&&(b=g.barStart,x=g.barEnd-g.barStart,0!==b&&ac(b)!==ac(g.barEnd)&&(E=0),E+=b);const R=cn(s)||_?E:s;let B=e.getPixelForValue(R);if(M=this.chart.getDataVisibility(t)?e.getPixelForValue(E+x):B,k=M-B,Math.abs(k)<l){k=function(n,t,e){return 0!==n?ac(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(k,e,d)*l,b===d&&(B-=k/2);const G=e.getPixelForDecimal(0),Q=e.getPixelForDecimal(1),ce=Math.min(G,Q),de=Math.max(G,Q);B=Math.max(Math.min(B,de),ce),M=B+k,i&&!_&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(M)-e.getValueForPixel(B))}if(B===e.getPixelForValue(d)){const G=ac(k)*e.getLineWidthForValue(d)/2;B+=G,k-=G}return{size:k,base:B,head:M,center:M+k/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,s=r.skipNull,l=Vt(r.maxBarThickness,1/0);let d,f;if(e.grouped){const g=s?this._getStackCount(t):e.stackCount,_="flex"===r.barThickness?function(n,t,e,i){const r=t.pixels,s=r[n];let l=n>0?r[n-1]:null,d=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;null===l&&(l=s-(null===d?t.end-t.start:d-s)),null===d&&(d=s+s-l);const g=s-(s-Math.min(l,d))/2*f;return{chunk:Math.abs(d-l)/2*f/i,ratio:e.barPercentage,start:g}}(t,e,r,g):function(n,t,e,i){const r=e.barThickness;let s,l;return cn(r)?(s=t.min*e.categoryPercentage,l=e.barPercentage):(s=r*i,l=1),{chunk:s/i,ratio:l,start:t.pixels[n]-s/2}}(t,e,r,g),b=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);d=_.start+_.chunk*b+_.chunk/2,f=Math.min(l,_.chunk*_.ratio)}else d=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(l,e.min*e.ratio);return{base:d-f/2,head:d+f/2,center:d,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let s=0;for(;s<r;++s)null!==this.getParsed(s)[e.axis]&&i[s].draw(this._ctx)}}Ve(oA,"id","bar"),Ve(oA,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Ve(oA,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class aA extends qa{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const s=super.parsePrimitiveData(t,e,i,r);for(let l=0;l<s.length;l++)s[l]._custom=this.resolveDataElementOptions(l+i).radius;return s}parseArrayData(t,e,i,r){const s=super.parseArrayData(t,e,i,r);for(let l=0;l<s.length;l++)s[l]._custom=Vt(e[i+l][2],this.resolveDataElementOptions(l+i).radius);return s}parseObjectData(t,e,i,r){const s=super.parseObjectData(t,e,i,r);for(let l=0;l<s.length;l++){const d=e[i+l];s[l]._custom=Vt(d&&d.r&&+d.r,this.resolveDataElementOptions(l+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,l=this.getParsed(t),d=r.getLabelForValue(l.x),f=s.getLabelForValue(l.y),g=l._custom;return{label:i[t]||"",value:"("+d+", "+f+(g?", "+g:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const s="reset"===r,{iScale:l,vScale:d}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(e,r),_=l.axis,b=d.axis;for(let E=e;E<e+i;E++){const x=t[E],M=!s&&this.getParsed(E),k={},R=k[_]=s?l.getPixelForDecimal(.5):l.getPixelForValue(M[_]),B=k[b]=s?d.getBasePixel():d.getPixelForValue(M[b]);k.skip=isNaN(R)||isNaN(B),g&&(k.options=f||this.resolveDataElementOptions(E,x.active?"active":r),s&&(k.options.radius=0)),this.updateElement(x,E,k,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return"active"!==e&&(r.radius=0),r.radius+=Vt(i&&i._custom,s),r}}Ve(aA,"id","bubble"),Ve(aA,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Ve(aA,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Kp extends qa{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=i;else{let l,d,s=f=>+i[f];if(en(i[t])){const{key:f="value"}=this._parsing;s=g=>+mh(i[g],f)}for(l=t,d=t+e;l<d;++l)r._parsed[l]=s(l)}}_getRotation(){return Wa(this.options.rotation-90)}_getCircumference(){return Wa(this.options.circumference)}_getRotationExtents(){let t=jn,e=-jn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),l=r._getCircumference();t=Math.min(t,s),e=Math.max(e,s+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,s=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,d=Math.max((Math.min(i.width,i.height)-l)/2,0),f=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/t)(this.options.cutout,d),1),g=this._getRingWeight(this.index),{circumference:_,rotation:b}=this._getRotationExtents(),{ratioX:E,ratioY:x,offsetX:M,offsetY:k}=function(n,t,e){let i=1,r=1,s=0,l=0;if(t<jn){const d=n,f=d+t,g=Math.cos(d),_=Math.sin(d),b=Math.cos(f),E=Math.sin(f),x=(Q,ce,de)=>dC(Q,d,f,!0)?1:Math.max(ce,ce*e,de,de*e),M=(Q,ce,de)=>dC(Q,d,f,!0)?-1:Math.min(ce,ce*e,de,de*e),k=x(0,g,b),R=x(bi,_,E),B=M(ni,g,b),G=M(ni+bi,_,E);i=(k-B)/2,r=(R-G)/2,s=-(k+B)/2,l=-(R+G)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:l}}(b,_,f),G=Math.max(Math.min((i.width-l)/E,(i.height-l)/x)/2,0),Q=tq(this.options.radius,G),de=(Q-Math.max(Q*f,0))/this._getVisibleDatasetWeightTotal();this.offsetX=M*Q,this.offsetY=k*Q,r.total=this.calculateTotal(),this.outerRadius=Q-de*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-de*g,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*s/jn)}updateElements(t,e,i,r){const s="reset"===r,l=this.chart,d=l.chartArea,_=(d.left+d.right)/2,b=(d.top+d.bottom)/2,E=s&&l.options.animation.animateScale,x=E?0:this.innerRadius,M=E?0:this.outerRadius,{sharedOptions:k,includeOptions:R}=this._getSharedOptions(e,r);let G,B=this._getRotation();for(G=0;G<e;++G)B+=this._circumference(G,s);for(G=e;G<e+i;++G){const Q=this._circumference(G,s),ce=t[G],de={x:_+this.offsetX,y:b+this.offsetY,startAngle:B,endAngle:B+Q,circumference:Q,outerRadius:M,innerRadius:x};R&&(de.options=k||this.resolveDataElementOptions(G,ce.active?"active":r)),B+=Q,this.updateElement(ce,G,de,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let r,i=0;for(r=0;r<e.length;r++){const s=t._parsed[r];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?jn*(Math.abs(t)/e):0}getLabelAndValue(t){const i=this.chart,r=i.data.labels||[],s=fC(this._cachedMeta._parsed[t],i.options.locale);return{label:r[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,s,l,d,f;if(!t)for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),t=l.data,d=l.controller;break}if(!t)return 0;for(r=0,s=t.length;r<s;++r)f=d.resolveDataElementOptions(r),"inner"!==f.borderAlign&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const s=this.resolveDataElementOptions(i);e=Math.max(e,s.offset||0,s.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Vt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Ve(Kp,"id","doughnut"),Ve(Kp,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Ve(Kp,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Ve(Kp,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,l)=>{const f=t.getDatasetMeta(0).controller.getStyle(l);return{text:s,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class lA extends qa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=e,l=this.chart._animationsDisabled;let{start:d,count:f}=gq(e,r,l);this._drawStart=d,this._drawCount=f,mq(e)&&(d=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:g},t),this.updateElements(r,d,f,t)}updateElements(t,e,i,r){const s="reset"===r,{iScale:l,vScale:d,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:_,includeOptions:b}=this._getSharedOptions(e,r),E=l.axis,x=d.axis,{spanGaps:M,segment:k}=this.options,R=uy(M)?M:Number.POSITIVE_INFINITY,B=this.chart._animationsDisabled||s||"none"===r,G=e+i,Q=t.length;let ce=e>0&&this.getParsed(e-1);for(let de=0;de<Q;++de){const Ce=t[de],xe=B?Ce:{};if(de<e||de>=G){xe.skip=!0;continue}const Ae=this.getParsed(de),Le=cn(Ae[x]),ot=xe[E]=l.getPixelForValue(Ae[E],de),Bt=xe[x]=s||Le?d.getBasePixel():d.getPixelForValue(f?this.applyStack(d,Ae,f):Ae[x],de);xe.skip=isNaN(ot)||isNaN(Bt)||Le,xe.stop=de>0&&Math.abs(Ae[E]-ce[E])>R,k&&(xe.parsed=Ae,xe.raw=g.data[de]),b&&(xe.options=_||this.resolveDataElementOptions(de,Ce.active?"active":r)),B||this.updateElement(Ce,de,xe,r),ce=Ae}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Ve(lA,"id","line"),Ve(lA,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ve(lA,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class yC extends qa{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const i=this.chart,r=i.data.labels||[],s=fC(this._cachedMeta._parsed[t].r,i.options.locale);return{label:r[t]||"",value:s}}parseObjectData(t,e,i,r){return kq.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),s=Math.max(r/2,0),d=(s-Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=s-d*this.index,this.innerRadius=this.outerRadius-d}updateElements(t,e,i,r){const s="reset"===r,l=this.chart,f=l.options.animation,g=this._cachedMeta.rScale,_=g.xCenter,b=g.yCenter,E=g.getIndexAngle(0)-.5*ni;let M,x=E;const k=360/this.countVisibleElements();for(M=0;M<e;++M)x+=this._computeAngle(M,r,k);for(M=e;M<e+i;M++){const R=t[M];let B=x,G=x+this._computeAngle(M,r,k),Q=l.getDataVisibility(M)?g.getDistanceFromCenterForValue(this.getParsed(M).r):0;x=G,s&&(f.animateScale&&(Q=0),f.animateRotate&&(B=G=E));const ce={x:_,y:b,innerRadius:0,outerRadius:Q,startAngle:B,endAngle:G,options:this.resolveDataElementOptions(M,R.active?"active":r)};this.updateElement(R,M,ce,r)}}countVisibleElements(){let e=0;return this._cachedMeta.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Wa(this.resolveDataElementOptions(t,e).angle||i):0}}Ve(yC,"id","polarArea"),Ve(yC,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Ve(yC,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((s,l)=>{const f=t.getDatasetMeta(0).controller.getStyle(l);return{text:s,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class R3 extends Kp{}Ve(R3,"id","pie"),Ve(R3,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class cA extends qa{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return kq.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],s=e.iScale.getLabels();if(i.points=r,"resize"!==t){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:s.length===r.length,options:l},t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const s=this._cachedMeta.rScale,l="reset"===r;for(let d=e;d<e+i;d++){const f=t[d],g=this.resolveDataElementOptions(d,f.active?"active":r),_=s.getPointPositionForValue(d,this.getParsed(d).r),b=l?s.xCenter:_.x,E=l?s.yCenter:_.y,x={x:b,y:E,angle:_.angle,skip:isNaN(b)||isNaN(E),options:g};this.updateElement(f,d,x,r)}}}Ve(cA,"id","radar"),Ve(cA,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Ve(cA,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class uA extends qa{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=e,l=this.getParsed(t),d=r.getLabelForValue(l.x),f=s.getLabelForValue(l.y);return{label:i[t]||"",value:"("+d+", "+f+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:s,count:l}=gq(e,i,r);if(this._drawStart=s,this._drawCount=l,mq(e)&&(s=0,l=i.length),this.options.showLine){const{dataset:d,_dataset:f}=e;d._chart=this.chart,d._datasetIndex=this.index,d._decimated=!!f._decimated,d.points=i;const g=this.resolveDatasetElementOptions(t);g.segment=this.options.segment,this.updateElement(d,void 0,{animated:!r,options:g},t)}this.updateElements(i,s,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const s="reset"===r,{iScale:l,vScale:d,_stacked:f,_dataset:g}=this._cachedMeta,_=this.resolveDataElementOptions(e,r),b=this.getSharedOptions(_),E=this.includeOptions(r,b),x=l.axis,M=d.axis,{spanGaps:k,segment:R}=this.options,B=uy(k)?k:Number.POSITIVE_INFINITY,G=this.chart._animationsDisabled||s||"none"===r;let Q=e>0&&this.getParsed(e-1);for(let ce=e;ce<e+i;++ce){const de=t[ce],Ce=this.getParsed(ce),xe=G?de:{},Ae=cn(Ce[M]),Le=xe[x]=l.getPixelForValue(Ce[x],ce),ot=xe[M]=s||Ae?d.getBasePixel():d.getPixelForValue(f?this.applyStack(d,Ce,f):Ce[M],ce);xe.skip=isNaN(Le)||isNaN(ot)||Ae,xe.stop=ce>0&&Math.abs(Ce[x]-Q[x])>B,R&&(xe.parsed=Ce,xe.raw=g.data[ce]),E&&(xe.options=b||this.resolveDataElementOptions(ce,de.active?"active":r)),G||this.updateElement(de,ce,xe,r),Q=Ce}this.updateSharedOptions(b,r,_)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let d=0;for(let f=e.length-1;f>=0;--f)d=Math.max(d,e[f].size(this.resolveDataElementOptions(f))/2);return d>0&&d}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const s=e[0].size(this.resolveDataElementOptions(0)),l=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,s,l)/2}}Ve(uA,"id","scatter"),Ve(uA,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Ve(uA,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var ore=Object.freeze({__proto__:null,BarController:oA,BubbleController:aA,DoughnutController:Kp,LineController:lA,PieController:R3,PolarAreaController:yC,RadarController:cA,ScatterController:uA});function Yp(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class O3{constructor(t){Ve(this,"options"),this.options=t||{}}static override(t){Object.assign(O3.prototype,t)}init(){}formats(){return Yp()}parse(){return Yp()}format(){return Yp()}add(){return Yp()}diff(){return Yp()}startOf(){return Yp()}endOf(){return Yp()}}var are__date=O3;function lre(n,t,e,i){const{controller:r,data:s,_sorted:l}=n,d=r._cachedMeta.iScale;if(d&&t===d.axis&&"r"!==t&&l&&s.length){const f=d._reversePixels?kne:Su;if(!i)return f(s,t,e);if(r._sharedOptions){const g=s[0],_="function"==typeof g.getRange&&g.getRange(t);if(_){const b=f(s,t,e-_),E=f(s,t,e+_);return{lo:b.lo,hi:E.hi}}}}return{lo:0,hi:s.length-1}}function vC(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),l=e[t];for(let d=0,f=s.length;d<f;++d){const{index:g,data:_}=s[d],{lo:b,hi:E}=lre(s[d],t,l,r);for(let x=b;x<=E;++x){const M=_[x];M.skip||i(M,g,x)}}}function P3(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||vC(n,e,t,function(d,f,g){!r&&!Au(d,n.chartArea,0)||d.inRange(t.x,t.y,i)&&s.push({element:d,datasetIndex:f,index:g})},!0),s}function F3(n,t,e,i,r,s){return s||n.isPointInArea(t)?"r"!==e||i?function(n,t,e,i,r,s){let l=[];const d=function(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const s=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(l,2))}}(e);let f=Number.POSITIVE_INFINITY;return vC(n,e,t,function(_,b,E){const x=_.inRange(t.x,t.y,r);if(i&&!x)return;const M=_.getCenterPoint(r);if(!s&&!n.isPointInArea(M)&&!x)return;const R=d(t,M);R<f?(l=[{element:_,datasetIndex:b,index:E}],f=R):R===f&&l.push({element:_,datasetIndex:b,index:E})}),l}(n,t,e,i,r,s):function(n,t,e,i){let r=[];return vC(n,e,t,function(l,d,f){const{startAngle:g,endAngle:_}=l.getProps(["startAngle","endAngle"],i),{angle:b}=cq(l,{x:t.x,y:t.y});dC(b,g,_)&&r.push({element:l,datasetIndex:d,index:f})}),r}(n,t,e,r):[]}function r7(n,t,e,i,r){const s=[],l="x"===e?"inXRange":"inYRange";let d=!1;return vC(n,e,t,(f,g,_)=>{f[l](t[e],r)&&(s.push({element:f,datasetIndex:g,index:_}),d=d||f.inRange(t.x,t.y,r))}),i&&!d?[]:s}var hre={evaluateInteractionItems:vC,modes:{index(n,t,e,i){const r=Wp(t,n),s=e.axis||"x",l=e.includeInvisible||!1,d=e.intersect?P3(n,r,s,i,l):F3(n,r,s,!1,i,l),f=[];return d.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const _=d[0].index,b=g.data[_];b&&!b.skip&&f.push({element:b,datasetIndex:g.index,index:_})}),f):[]},dataset(n,t,e,i){const r=Wp(t,n),s=e.axis||"xy",l=e.includeInvisible||!1;let d=e.intersect?P3(n,r,s,i,l):F3(n,r,s,!1,i,l);if(d.length>0){const f=d[0].datasetIndex,g=n.getDatasetMeta(f).data;d=[];for(let _=0;_<g.length;++_)d.push({element:g[_],datasetIndex:f,index:_})}return d},point:(n,t,e,i)=>P3(n,Wp(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>F3(n,Wp(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>r7(n,Wp(t,n),"x",e.intersect,i),y:(n,t,e,i)=>r7(n,Wp(t,n),"y",e.intersect,i)}};const s7=["left","top","right","bottom"];function bC(n,t){return n.filter(e=>e.pos===t)}function o7(n,t){return n.filter(e=>-1===s7.indexOf(e.pos)&&e.box.axis===t)}function wC(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function a7(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function l7(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function _re(n,t,e,i){const{pos:r,box:s}=e,l=n.maxPadding;if(!en(r)){e.size&&(n[r]-=e.size);const b=i[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?s.height:s.width),e.size=b.size/b.count,n[r]+=e.size}s.getPadding&&l7(l,s.getPadding());const d=Math.max(0,t.outerWidth-a7(l,n,"left","right")),f=Math.max(0,t.outerHeight-a7(l,n,"top","bottom")),g=d!==n.w,_=f!==n.h;return n.w=d,n.h=f,e.horizontal?{same:g,other:_}:{same:_,other:g}}function vre(n,t){const e=t.maxPadding;return function(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{s[l]=Math.max(t[l],e[l])}),s}(n?["left","right"]:["top","bottom"])}function CC(n,t,e,i){const r=[];let s,l,d,f,g,_;for(s=0,l=n.length,g=0;s<l;++s){d=n[s],f=d.box,f.update(d.width||t.w,d.height||t.h,vre(d.horizontal,t));const{same:b,other:E}=_re(t,e,d,i);g|=b&&r.length,_=_||E,f.fullSize||r.push(d)}return g&&CC(r,t,e,i)||_}function dA(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function c7(n,t,e,i){const r=e.padding;let{x:s,y:l}=t;for(const d of n){const f=d.box,g=i[d.stack]||{count:1,placed:0,weight:1},_=d.stackWeight/g.weight||1;if(d.horizontal){const b=t.w*_,E=g.size||f.height;cC(g.start)&&(l=g.start),f.fullSize?dA(f,r.left,l,e.outerWidth-r.right-r.left,E):dA(f,t.left+g.placed,l,b,E),g.start=l,g.placed+=b,l=f.bottom}else{const b=t.h*_,E=g.size||f.width;cC(g.start)&&(s=g.start),f.fullSize?dA(f,s,r.top,E,e.outerHeight-r.bottom-r.top):dA(f,s,t.top+g.placed,E,b),g.start=s,g.placed+=b,s=f.right}}t.x=s,t.y=l}var _s={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=ms(n.options.layout.padding),s=Math.max(t-r.width,0),l=Math.max(e-r.height,0),d=function(n){const t=function(n){const t=[];let e,i,r,s,l,d;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:s,options:{stack:l,stackWeight:d=1}}=r),t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&s+l,stackWeight:d});return t}(n),e=wC(t.filter(g=>g.box.fullSize),!0),i=wC(bC(t,"left"),!0),r=wC(bC(t,"right")),s=wC(bC(t,"top"),!0),l=wC(bC(t,"bottom")),d=o7(t,"x"),f=o7(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(f).concat(l).concat(d),chartArea:bC(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:s.concat(l).concat(d)}}(n.boxes),f=d.vertical,g=d.horizontal;Cn(n.boxes,k=>{"function"==typeof k.beforeLayout&&k.beforeLayout()});const _=f.reduce((k,R)=>R.box.options&&!1===R.box.options.display?k:k+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:l,vBoxMaxWidth:s/2/_,hBoxMaxHeight:l/2}),E=Object.assign({},r);l7(E,ms(i));const x=Object.assign({maxPadding:E,w:s,h:l,x:r.left,y:r.top},r),M=function(n,t){const e=function(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!s7.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=s}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,l,d;for(s=0,l=n.length;s<l;++s){d=n[s];const{fullSize:f}=d.box,g=e[d.stack],_=g&&d.stackWeight/g.weight;d.horizontal?(d.width=_?_*i:f&&t.availableWidth,d.height=r):(d.width=i,d.height=_?_*r:f&&t.availableHeight)}return e}(f.concat(g),b);CC(d.fullSize,x,b,M),CC(f,x,b,M),CC(g,x,b,M)&&CC(f,x,b,M),function(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(x),c7(d.leftAndTop,x,b,M),x.x+=x.w,x.y+=x.h,c7(d.rightAndBottom,x,b,M),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Cn(d.chartArea,k=>{const R=k.box;Object.assign(R,n.chartArea),R.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class u7{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class bre extends u7{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const hA="$chartjs",wre={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},d7=n=>null===n||""===n,h7=!!Tie&&{passive:!0};function Tre(n,t,e){n.canvas.removeEventListener(t,e,h7)}function fA(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function Dre(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let l=!1;for(const d of s)l=l||fA(d.addedNodes,i),l=l&&!fA(d.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function Ire(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let l=!1;for(const d of s)l=l||fA(d.removedNodes,i),l=l&&!fA(d.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const EC=new Map;let f7=0;function p7(){const n=window.devicePixelRatio;n!==f7&&(f7=n,EC.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function Mre(n,t,e){const i=n.canvas,r=i&&S3(i);if(!r)return;const s=pq((d,f)=>{const g=r.clientWidth;e(d,f),g<r.clientWidth&&e()},window),l=new ResizeObserver(d=>{const f=d[0],g=f.contentRect.width,_=f.contentRect.height;0===g&&0===_||s(g,_)});return l.observe(r),function(n,t){EC.size||window.addEventListener("resize",p7),EC.set(n,t)}(n,s),l}function N3(n,t,e){e&&e.disconnect(),"resize"===t&&function(n){EC.delete(n),EC.size||window.removeEventListener("resize",p7)}(n)}function kre(n,t,e){const i=n.canvas,r=pq(s=>{null!==n.ctx&&e(function(n,t){const e=wre[n.type]||n.type,{x:i,y:r}=Wp(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n);return function(n,t,e){n.addEventListener(t,e,h7)}(i,t,r),r}class Rre extends u7{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[hA]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",d7(r)){const s=Fq(n,"width");void 0!==s&&(n.width=s)}if(d7(i))if(""===n.style.height)n.height=n.width/(t||2);else{const s=Fq(n,"height");void 0!==s&&(n.height=s)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[hA])return!1;const i=e[hA].initial;["height","width"].forEach(s=>{const l=i[s];cn(l)?e.removeAttribute(s):e.setAttribute(s,l)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[hA],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:Dre,detach:Ire,resize:Mre}[e]||kre)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:N3,detach:N3,resize:N3}[e]||Tre)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function(n,t,e,i){const r=rA(n),s=Gp(r,"margin"),l=iA(r.maxWidth,n,"clientWidth")||Z1,d=iA(r.maxHeight,n,"clientHeight")||Z1,f=function(n,t,e){let i,r;if(void 0===t||void 0===e){const s=S3(n);if(s){const l=s.getBoundingClientRect(),d=rA(s),f=Gp(d,"border","width"),g=Gp(d,"padding");t=l.width-g.width-f.width,e=l.height-g.height-f.height,i=iA(d.maxWidth,s,"clientWidth"),r=iA(d.maxHeight,s,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||Z1,maxHeight:r||Z1}}(n,t,e);let{width:g,height:_}=f;if("content-box"===r.boxSizing){const E=Gp(r,"border","width"),x=Gp(r,"padding");g-=x.width+E.width,_-=x.height+E.height}return g=Math.max(0,g-s.width),_=Math.max(0,i?g/i:_-s.height),g=sA(Math.min(g,l,f.maxWidth)),_=sA(Math.min(_,d,f.maxHeight)),g&&!_&&(_=sA(g/2)),(void 0!==t||void 0!==e)&&i&&f.height&&_>f.height&&(_=f.height,g=sA(Math.floor(_*i))),{width:g,height:_}}(t,e,i,r)}isAttached(t){const e=S3(t);return!(!e||!e.isConnected)}}class Ka{constructor(){Ve(this,"x"),Ve(this,"y"),Ve(this,"active",!1),Ve(this,"options"),Ve(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return uy(this.x)&&uy(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}function pA(n,t,e,i,r){const s=Vt(i,0),l=Math.min(Vt(r,n.length),n.length);let f,g,_,d=0;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),_=s;_<0;)d++,_=Math.round(s+d*e);for(g=Math.max(s,0);g<l;g++)g===_&&(t.push(n[g]),d++,_=Math.round(s+d*e))}Ve(Ka,"defaults",{}),Ve(Ka,"defaultRoutes");const g7=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e,m7=(n,t)=>Math.min(t||n,n);function _7(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function Hre(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,l=n._endPixel,d=1e-6;let g,f=n.getPixelForTick(r);if(!(e&&(g=1===i?Math.max(f-s,l-f):0===t?(n.getPixelForTick(1)-f)/2:(f-n.getPixelForTick(r-1))/2,f+=r<t?g:-g,f<s-d||f>l+d)))return f}function TC(n){return n.drawTicks?n.tickLength:0}function y7(n,t){if(!n.display)return 0;const e=pr(n.font,t),i=ms(n.padding);return(zn(n.text)?n.text.length:1)*e.lineHeight+i.height}function Gre(n,t,e){let i=y3(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class Zp extends Ka{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=xo(t,Number.POSITIVE_INFINITY),e=xo(e,Number.NEGATIVE_INFINITY),i=xo(i,Number.POSITIVE_INFINITY),r=xo(r,Number.NEGATIVE_INFINITY),{min:xo(t,i),max:xo(e,r),minDefined:vi(t),maxDefined:vi(e)}}getMinMax(t){let l,{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:e,max:i};const d=this.getMatchingVisibleMetas();for(let f=0,g=d.length;f<g;++f)l=d[f].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),s||(i=Math.max(i,l.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:xo(e,xo(i,e)),max:xo(i,xo(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Nn(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(n,t,e){const{min:i,max:r}=n,s=tq(t,(r-i)/2),l=(d,f)=>e&&0===d?0:d+f;return{min:l(i,-Math.abs(s)),max:l(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=d<this.ticks.length;this._convertTicksToLabels(f?_7(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||"auto"===l.source)&&(this.ticks=function(n,t){const e=n.options.ticks,i=function(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=Math.min(e.maxTicksLimit||i,i),s=e.major.enabled?function(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],l=s.length,d=s[0],f=s[l-1],g=[];if(l>r)return function(n,t,e,i){let l,r=0,s=e[0];for(i=Math.ceil(i),l=0;l<n.length;l++)l===s&&(t.push(n[l]),r++,s=e[r*i])}(t,g,s,l/r),g;const _=function(n,t,e){const i=function(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const s=function(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}(i);for(let l=0,d=s.length-1;l<d;l++){const f=s[l];if(f>r)return f}return Math.max(r,1)}(s,t,r);if(l>0){let b,E;const x=l>1?Math.round((f-d)/(l-1)):null;for(pA(t,g,_,cn(x)?0:d-x,d),b=0,E=l-1;b<E;b++)pA(t,g,_,s[b],s[b+1]);return pA(t,g,_,f,cn(x)?t.length:f+x),g}return pA(t,g,_),g}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Nn(this.options.afterUpdate,[this])}beforeSetDimensions(){Nn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Nn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Nn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Nn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=Nn(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){Nn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Nn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=m7(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,s=e.maxRotation;let d,f,g,l=r;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const _=this._getLabelSizes(),b=_.widest.width,E=_.highest.height,x=kr(this.chart.width-b,0,this.maxWidth);d=t.offset?this.maxWidth/i:x/(i-1),b+6>d&&(d=x/(i-(t.offset?.5:1)),f=this.maxHeight-TC(t.grid)-e.padding-y7(t.title,this.chart.options.font),g=Math.sqrt(b*b+E*E),l=g3(Math.min(Math.asin(kr((_.highest.height+6)/d,-1,1)),Math.asin(kr(f/g,-1,1))-Math.asin(kr(E/g,-1,1)))),l=Math.max(r,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){Nn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Nn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){const f=y7(r,e.options.font);if(d?(t.width=this.maxWidth,t.height=TC(s)+f):(t.height=this.maxHeight,t.width=TC(s)+f),i.display&&this.ticks.length){const{first:g,last:_,widest:b,highest:E}=this._getLabelSizes(),x=2*i.padding,M=Wa(this.labelRotation),k=Math.cos(M),R=Math.sin(M);d?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:R*b.width+k*E.height)+x):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:k*b.width+R*E.height)+x),this._calculatePadding(g,_,R,k)}}this._handleMargins(),d?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:l},position:d}=this.options,f=0!==this.labelRotation,g="top"!==d&&"x"===this.axis;if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,x=0;f?g?(E=r*t.width,x=i*e.height):(E=i*t.height,x=r*e.width):"start"===s?x=e.width:"end"===s?E=t.width:"inner"!==s&&(E=t.width/2,x=e.width/2),this.paddingLeft=Math.max((E-_+l)*this.width/(this.width-_),0),this.paddingRight=Math.max((x-b+l)*this.width/(this.width-b),0)}else{let _=e.height/2,b=t.height/2;"start"===s?(_=0,b=t.height):"end"===s&&(_=e.height,b=0),this.paddingTop=_+l,this.paddingBottom=b+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Nn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)cn(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=_7(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:s}=this,l=[],d=[],f=Math.floor(e/m7(e,i));let b,E,x,M,k,R,B,G,Q,ce,de,g=0,_=0;for(b=0;b<e;b+=f){if(M=t[b].label,k=this._resolveTickFontOptions(b),r.font=R=k.string,B=s[R]=s[R]||{data:{},gc:[]},G=k.lineHeight,Q=ce=0,cn(M)||zn(M)){if(zn(M))for(E=0,x=M.length;E<x;++E)de=M[E],!cn(de)&&!zn(de)&&(Q=X1(r,B.data,B.gc,Q,de),ce+=G)}else Q=X1(r,B.data,B.gc,Q,M),ce=G;l.push(Q),d.push(ce),g=Math.max(Q,g),_=Math.max(ce,_)}!function(n,t){Cn(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}(s,e);const Ce=l.indexOf(g),xe=d.indexOf(_),Ae=Le=>({width:l[Le]||0,height:d[Le]||0});return{first:Ae(0),last:Ae(e-1),widest:Ae(Ce),highest:Ae(xe),widths:l,heights:d}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function(n){return kr(n,-32768,32767)}(this._alignToPixels?zp(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function(n,t,e){return vh(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function(n,t){return vh(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Wa(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),l=t.autoSkipPadding||0,d=s?s.widest.width+l:0,f=s?s.highest.height+l:0;return this.isHorizontal()?f*i>d*r?d/i:f/r:f*r<d*i?f/i:d/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:l,border:d}=r,f=s.offset,g=this.isHorizontal(),b=this.ticks.length+(f?1:0),E=TC(s),x=[],M=d.setContext(this.getContext()),k=M.display?M.width:0,R=k/2,B=function(Pe){return zp(i,Pe,k)};let G,Q,ce,de,Ce,xe,Ae,Le,ot,Bt,$t,$n;if("top"===l)G=B(this.bottom),xe=this.bottom-E,Le=G-R,Bt=B(t.top)+R,$n=t.bottom;else if("bottom"===l)G=B(this.top),Bt=t.top,$n=B(t.bottom)-R,xe=G+R,Le=this.top+E;else if("left"===l)G=B(this.right),Ce=this.right-E,Ae=G-R,ot=B(t.left)+R,$t=t.right;else if("right"===l)G=B(this.left),ot=t.left,$t=B(t.right)-R,Ce=G+R,Ae=this.left+E;else if("x"===e){if("center"===l)G=B((t.top+t.bottom)/2+.5);else if(en(l)){const Pe=Object.keys(l)[0];G=B(this.chart.scales[Pe].getPixelForValue(l[Pe]))}Bt=t.top,$n=t.bottom,xe=G+R,Le=xe+E}else if("y"===e){if("center"===l)G=B((t.left+t.right)/2);else if(en(l)){const Pe=Object.keys(l)[0];G=B(this.chart.scales[Pe].getPixelForValue(l[Pe]))}Ce=G-R,Ae=Ce-E,ot=t.left,$t=t.right}const ys=Vt(r.ticks.maxTicksLimit,b),pn=Math.max(1,Math.ceil(b/ys));for(Q=0;Q<b;Q+=pn){const Pe=this.getContext(Q),je=s.setContext(Pe),at=d.setContext(Pe),yt=je.lineWidth,Gn=je.color,Ns=at.dash||[],ir=at.dashOffset,no=je.tickWidth,xn=je.tickColor,Xp=je.tickBorderDash||[],vs=je.tickBorderDashOffset;ce=Hre(this,Q,f),void 0!==ce&&(de=zp(i,ce,yt),g?Ce=Ae=ot=$t=de:xe=Le=Bt=$n=de,x.push({tx1:Ce,ty1:xe,tx2:Ae,ty2:Le,x1:ot,y1:Bt,x2:$t,y2:$n,width:yt,color:Gn,borderDash:Ns,borderDashOffset:ir,tickWidth:no,tickColor:xn,tickBorderDash:Xp,tickBorderDashOffset:vs}))}return this._ticksLength=b,this._borderValue=G,x}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,l=this.isHorizontal(),d=this.ticks,{align:f,crossAlign:g,padding:_,mirror:b}=s,E=TC(i.grid),x=E+_,M=b?-_:x,k=-Wa(this.labelRotation),R=[];let B,G,Q,ce,de,Ce,xe,Ae,Le,ot,Bt,$t,$n="middle";if("top"===r)Ce=this.bottom-M,xe=this._getXAxisLabelAlignment();else if("bottom"===r)Ce=this.top+M,xe=this._getXAxisLabelAlignment();else if("left"===r){const pn=this._getYAxisLabelAlignment(E);xe=pn.textAlign,de=pn.x}else if("right"===r){const pn=this._getYAxisLabelAlignment(E);xe=pn.textAlign,de=pn.x}else if("x"===e){if("center"===r)Ce=(t.top+t.bottom)/2+x;else if(en(r)){const pn=Object.keys(r)[0];Ce=this.chart.scales[pn].getPixelForValue(r[pn])+x}xe=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)de=(t.left+t.right)/2-x;else if(en(r)){const pn=Object.keys(r)[0];de=this.chart.scales[pn].getPixelForValue(r[pn])}xe=this._getYAxisLabelAlignment(E).textAlign}"y"===e&&("start"===f?$n="top":"end"===f&&($n="bottom"));const ys=this._getLabelSizes();for(B=0,G=d.length;B<G;++B){Q=d[B],ce=Q.label;const pn=s.setContext(this.getContext(B));Ae=this.getPixelForTick(B)+s.labelOffset,Le=this._resolveTickFontOptions(B),ot=Le.lineHeight,Bt=zn(ce)?ce.length:1;const Pe=Bt/2,je=pn.color,at=pn.textStrokeColor,yt=pn.textStrokeWidth;let Ns,Gn=xe;if(l?(de=Ae,"inner"===xe&&(Gn=B===G-1?this.options.reverse?"left":"right":0===B?this.options.reverse?"right":"left":"center"),$t="top"===r?"near"===g||0!==k?-Bt*ot+ot/2:"center"===g?-ys.highest.height/2-Pe*ot+ot:ot/2-ys.highest.height:"near"===g||0!==k?ot/2:"center"===g?ys.highest.height/2-Pe*ot:ys.highest.height-Bt*ot,b&&($t*=-1),0!==k&&!pn.showLabelBackdrop&&(de+=ot/2*Math.sin(k))):(Ce=Ae,$t=(1-Bt)*ot/2),pn.showLabelBackdrop){const ir=ms(pn.backdropPadding),no=ys.heights[B],xn=ys.widths[B];let Xp=$t-ir.top,vs=0-ir.left;switch($n){case"middle":Xp-=no/2;break;case"bottom":Xp-=no}switch(xe){case"center":vs-=xn/2;break;case"right":vs-=xn}Ns={left:vs,top:Xp,width:xn+ir.width,height:no+ir.height,color:pn.backdropColor}}R.push({label:ce,font:Le,textOffset:$t,options:{rotation:k,color:je,strokeColor:at,strokeWidth:yt,textAlign:Gn,textBaseline:$n,translation:[de,Ce],backdrop:Ns}})}return R}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Wa(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,d=t+s,f=this._getLabelSizes().widest.width;let g,_;return"left"===e?r?(_=this.right+s,"near"===i?g="left":"center"===i?(g="center",_+=f/2):(g="right",_+=f)):(_=this.right-d,"near"===i?g="right":"center"===i?(g="center",_-=f/2):(g="left",_=this.left)):"right"===e?r?(_=this.left+s,"near"===i?g="right":"center"===i?(g="center",_-=f/2):(g="left",_-=f)):(_=this.left+d,"near"===i?g="left":"center"===i?(g="center",_+=f/2):(g="right",_=this.right)):g="right",{textAlign:g,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,l;const d=(f,g,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(s=0,l=r.length;s<l;++s){const f=r[s];e.drawOnChartArea&&d({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&d({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),l=i.display?s.width:0;if(!l)return;const d=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,_,b,E;this.isHorizontal()?(g=zp(t,this.left,l)-l/2,_=zp(t,this.right,d)+d/2,b=E=f):(b=zp(t,this.top,l)-l/2,E=zp(t,this.bottom,d)+d/2,g=_=f),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(g,b),e.lineTo(_,E),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&eA(i,r);const s=this.getLabelItems(t);for(const l of s)jp(i,l.label,0,l.textOffset,l.font,l.options);r&&tA(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=pr(i.font),l=ms(i.padding),d=i.align;let f=s.lineHeight/2;"bottom"===e||"center"===e||en(e)?(f+=l.bottom,zn(i.text)&&(f+=s.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:g,titleY:_,maxWidth:b,rotation:E}=function(n,t,e,i){const{top:r,left:s,bottom:l,right:d,chart:f}=n,{chartArea:g,scales:_}=f;let E,x,M,b=0;const k=l-r,R=d-s;if(n.isHorizontal()){if(x=gs(i,s,d),en(e)){const B=Object.keys(e)[0];M=_[B].getPixelForValue(e[B])+k-t}else M="center"===e?(g.bottom+g.top)/2+k-t:g7(n,e,t);E=d-s}else{if(en(e)){const B=Object.keys(e)[0];x=_[B].getPixelForValue(e[B])-R+t}else x="center"===e?(g.left+g.right)/2-R+t:g7(n,e,t);M=gs(i,l,r),b="left"===e?-bi:bi}return{titleX:x,titleY:M,maxWidth:E,rotation:b}}(this,f,e,d);jp(t,i.text,0,0,s,{color:i.color,maxWidth:b,rotation:E,textAlign:Gre(d,e,r),textBaseline:"middle",translation:[g,_]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Vt(t.grid&&t.grid.z,-1),r=Vt(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Zp.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]:[{z:e,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,l;for(s=0,l=e.length;s<l;++s){const d=e[s];d[i]===this.id&&(!t||d.type===t)&&r.push(d)}return r}_resolveTickFontOptions(t){return pr(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class gA{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,s=t.id,l=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,function(n,t,e){const i=aC(Object.create(null),[e?wi.get(e):{},wi.get(t),n.defaults]);wi.set(t,i),n.defaultRoutes&&function(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),l=t[e].split("."),d=l.pop(),f=l.join(".");wi.route(s,r,f,d)})}(t,n.defaultRoutes),n.descriptors&&wi.describe(t,n.descriptors)}(t,l,i),this.override&&wi.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in wi[r]&&(delete wi[r][i],this.override&&delete Hp[i])}}class Zre{constructor(){this.controllers=new gA(qa,"datasets",!0),this.elements=new gA(Ka,"elements"),this.plugins=new gA(Object,"plugins"),this.scales=new gA(Zp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):Cn(r,l=>{const d=i||this._getRegistryForType(l);this._exec(t,d,l)})})}_exec(t,e,i){const r=p3(t);Nn(i["before"+r],[],i),e[t](i),Nn(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var lc=new Zre;class Qre{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(s,t,e,i);return"afterDestroy"===e&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,r){r=r||{};for(const s of t){const l=s.plugin;if(!1===Nn(l[i],[e,r,s.options],l)&&r.cancelable)return!1}return!0}invalidate(){cn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Vt(i.options&&i.options.plugins,{}),s=function(n){const t={},e=[],i=Object.keys(lc.plugins.items);for(let s=0;s<i.length;s++)e.push(lc.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const l=r[s];-1===e.indexOf(l)&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==r||e?function(n,{plugins:t,localIds:e},i,r){const s=[],l=n.getContext();for(const d of t){const f=d.id,g=Xre(i[f],r);null!==g&&s.push({plugin:d,options:tse(n.config,{plugin:d,local:e[f]},g,l)})}return s}(t,s,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,l)=>s.filter(d=>!l.some(f=>d.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function Xre(n,t){return t||!1!==n?!0===n?{}:n:null}function tse(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),l=n.getOptionScopes(i,s);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function L3(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(wi.datasets[n]||{}).indexAxis||"x"}function v7(n){if("x"===n||"y"===n||"r"===n)return n}function rse(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function V3(n,...t){if(v7(n))return n;for(const e of t){const i=e.axis||rse(e.position)||n.length>1&&v7(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function b7(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function w7(n){const t=n.options||(n.options={});t.plugins=Vt(t.plugins,{}),t.scales=function(n,t){const e=Hp[n.type]||{scales:{}},i=t.scales||{},r=L3(n.type,t),s=Object.create(null);return Object.keys(i).forEach(l=>{const d=i[l];if(!en(d))return console.error(`Invalid scale configuration for scale: ${l}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=V3(l,d,function(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return b7(n,"x",e[0])||b7(n,"y",e[0])}return{}}(l,n),wi.scales[d.type]),g=function(n,t){return n===t?"_index_":"_value_"}(f,r),_=e.scales||{};s[l]=lC(Object.create(null),[{axis:f},d,_[f],_[g]])}),n.data.datasets.forEach(l=>{const d=l.type||n.type,f=l.indexAxis||L3(d,t),_=(Hp[d]||{}).scales||{};Object.keys(_).forEach(b=>{const E=function(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(b,f),x=l[E+"AxisID"]||E;s[x]=s[x]||Object.create(null),lC(s[x],[{axis:E},i[x],_[b]])})}),Object.keys(s).forEach(l=>{const d=s[l];lC(d,[wi.scales[d.type],wi.scale])}),s}(n,t)}function C7(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const E7=new Map,T7=new Set;function mA(n,t){let e=E7.get(n);return e||(e=t(),E7.set(n,e),T7.add(e)),e}const xC=(n,t,e)=>{const i=mh(t,e);void 0!==i&&n.add(i)};class lse{constructor(t){this._config=function(n){return(n=n||{}).data=C7(n.data),w7(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=C7(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),w7(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return mA(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return mA(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return mA(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return mA(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,l=this._cachedScopes(t,i),d=l.get(e);if(d)return d;const f=new Set;e.forEach(_=>{t&&(f.add(t),_.forEach(b=>xC(f,t,b))),_.forEach(b=>xC(f,r,b)),_.forEach(b=>xC(f,Hp[s]||{},b)),_.forEach(b=>xC(f,wi,b)),_.forEach(b=>xC(f,w3,b))});const g=Array.from(f);return 0===g.length&&g.push(Object.create(null)),T7.has(e)&&l.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Hp[e]||{},wi.datasets[e]||{},{type:e},wi,w3]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:l,subPrefixes:d}=x7(this._resolverCache,t,r);let f=l;(function(n,t){const{isScriptable:e,isIndexable:i}=xq(n);for(const r of t){const s=e(r),l=i(r),d=(l||s)&&n[r];if(s&&(_h(d)||cse(d))||l&&zn(d))return!0}return!1})(l,e)&&(s.$shared=!1,f=dy(l,i=_h(i)?i():i,this.createResolver(t,i,d)));for(const g of e)s[g]=f[g];return s}createResolver(t,e,i=[""],r){const{resolver:s}=x7(this._resolverCache,t,i);return en(e)?dy(s,e,void 0,r):s}}function x7(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:x3(t,e),subPrefixes:e.filter(d=>!d.toLowerCase().includes("hover"))},i.set(r,s)),s}const cse=n=>en(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||_h(n[e]),!1),hse=["top","bottom","left","right","chartArea"];function D7(n,t){return"top"===n||"bottom"===n||-1===hse.indexOf(n)&&"x"===t}function I7(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function S7(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Nn(e&&e.onComplete,[n],t)}function fse(n){const t=n.chart,e=t.options.animation;Nn(e&&e.onProgress,[n],t)}function A7(n){return Oq()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const _A={},M7=n=>{const t=A7(n);return Object.values(_A).filter(e=>e.canvas===t).pop()};function pse(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const l=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=l)}}}class ku{static register(...t){lc.add(...t),k7()}static unregister(...t){lc.remove(...t),k7()}constructor(t,e){const i=this.config=new lse(e),r=A7(t),s=M7(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function(n){return!Oq()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?bre:Rre}(r)),this.platform.updateConfig(i);const d=this.platform.acquireContext(r,l.aspectRatio),f=d&&d.canvas,g=f&&f.height,_=f&&f.width;this.id=yne(),this.ctx=d,this.canvas=f,this.width=_,this.height=g,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Qre,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(b=>this.update(b),l.resizeDelay||0),this._dataChanges=[],_A[this.id]=this,d&&f?(Mu.listen(this,"complete",S7),Mu.listen(this,"progress",fse),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return cn(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return lc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Pq(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Cq(this.canvas,this.ctx),this}stop(){return Mu.stop(this),this}resize(t,e){Mu.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,l=this.platform.getMaximumSize(this.canvas,t,e,i.maintainAspectRatio&&this.aspectRatio),d=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Pq(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),Nn(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){Cn(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,d)=>(l[d]=!1,l),{});let s=[];e&&(s=s.concat(Object.keys(e).map(l=>{const d=e[l],f=V3(l,d),g="r"===f,_="x"===f;return{options:d,dposition:g?"chartArea":_?"bottom":"left",dtype:g?"radialLinear":_?"category":"linear"}}))),Cn(s,l=>{const d=l.options,f=d.id,g=V3(f,d),_=Vt(d.type,l.dtype);(void 0===d.position||D7(d.position,g)!==D7(l.dposition))&&(d.position=l.dposition),r[f]=!0;let b=null;f in i&&i[f].type===_?b=i[f]:(b=new(lc.getScale(_))({id:f,type:_,ctx:this.ctx,chart:this}),i[b.id]=b),b.init(d,t)}),Cn(r,(l,d)=>{l||delete i[d]}),Cn(i,l=>{_s.configure(this,l,l.options),_s.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(I7("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{0===e.filter(s=>s===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let l=this.getDatasetMeta(i);const d=s.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=d,l.indexAxis=s.indexAxis||L3(d,this.options),l.order=s.order||0,l.index=i,l.label=""+s.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=lc.getController(d),{datasetElementType:g,dataElementType:_}=wi.datasets[d];Object.assign(f,{dataElementType:lc.getElement(_),datasetElementType:g&&lc.getElement(g)}),l.controller=new f(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){Cn(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let g=0,_=this.data.datasets.length;g<_;g++){const{controller:b}=this.getDatasetMeta(g),E=!r&&-1===s.indexOf(b);b.buildOrUpdateElements(E),l=Math.max(+b.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||Cn(s,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(I7("z","_idx"));const{_active:d,_lastEvent:f}=this;f?this._eventHandler(f,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Cn(this.scales,t=>{_s.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!rq(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e)pse(t,r,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(l=>l[0]===s).map((l,d)=>d+","+l.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!rq(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;_s.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Cn(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,_h(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Mu.has(this)?this.attached&&!Mu.running(this)&&Mu.start(this):(this.draw(),S7({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,r=!i.disabled,s=function(n){const{xScale:t,yScale:e}=n;if(t&&e)return{left:t.left,right:t.right,top:e.top,bottom:e.bottom}}(t)||this.chartArea,l={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",l)&&(r&&eA(e,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&tA(e),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return Au(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=hre.modes[e];return"function"==typeof s?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=vh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),l=s.controller._resolveAnimations(void 0,r);cC(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(s,{visible:i}),this.update(d=>d.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Mu.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Cq(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete _A[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,l)=>{e.addEventListener(this,s,l),t[s]=l},r=(s,l,d)=>{s.offsetX=l,s.offsetY=d,this._eventHandler(s)};Cn(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},r=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},s=(f,g)=>{this.canvas&&this.resize(f,g)};let l;const d=()=>{r("attach",d),this.attached=!0,this.resize(),i("resize",s),i("detach",l)};l=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",d)},e.isAttached(this.canvas)?d():l()}unbindEvents(){Cn(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Cn(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,l,d,f;for("dataset"===e&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),d=0,f=t.length;d<f;++d){l=t[d];const g=l&&this.getDatasetMeta(l.datasetIndex).controller;g&&g[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:l})=>{const d=this.getDatasetMeta(s);if(!d)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:d.data[l],index:l}});!K1(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter(e=>e.plugin.id===t).length}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(f,g)=>f.filter(_=>!g.some(b=>_.datasetIndex===b.datasetIndex&&_.index===b.index)),l=s(e,t),d=i?t:s(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),d.length&&r.mode&&this.updateHoverStyle(d,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,d=this._getActiveElements(t,r,i,e),f=function(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),g=function(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(t,this._lastEvent,i,f);i&&(this._lastEvent=null,Nn(s.onHover,[t,d,this],this),f&&Nn(s.onClick,[t,d,this],this));const _=!K1(d,r);return(_||e)&&(this._active=d,this._updateHoverStyles(d,r,e)),this._lastEvent=g,_}_getActiveElements(t,e,i,r){if("mouseout"===t.type)return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}}function k7(){return Cn(ku.instances,n=>n._plugins.invalidate())}function py(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function yA(n,t,e,i,r,s){const{x:l,y:d,startAngle:f,pixelMargin:g,innerRadius:_}=t,b=Math.max(t.outerRadius+i+e-g,0),E=_>0?_+i+e+g:0;let x=0;const M=r-f;if(i){const je=((_>0?_-i:0)+(b>0?b-i:0))/2;x=(M-(0!==je?M*je/(je+i):M))/2}const R=(M-Math.max(.001,M*b-e/ni)/b)/2,B=f+R+x,G=r-R-x,{outerStart:Q,outerEnd:ce,innerStart:de,innerEnd:Ce}=function(n,t,e,i){const r=function(n){return T3(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(e-t)/2,l=Math.min(s,i*t/2),d=f=>{const g=(e-Math.min(s,f))*i/2;return kr(f,0,Math.min(s,g))};return{outerStart:d(r.outerStart),outerEnd:d(r.outerEnd),innerStart:kr(r.innerStart,0,l),innerEnd:kr(r.innerEnd,0,l)}}(t,E,b,G-B),xe=b-Q,Ae=b-ce,Le=B+Q/xe,ot=G-ce/Ae,Bt=E+de,$t=E+Ce,$n=B+de/Bt,ys=G-Ce/$t;if(n.beginPath(),s){const pn=(Le+ot)/2;if(n.arc(l,d,b,Le,pn),n.arc(l,d,b,pn,ot),ce>0){const yt=py(Ae,ot,l,d);n.arc(yt.x,yt.y,ce,ot,G+bi)}const Pe=py($t,G,l,d);if(n.lineTo(Pe.x,Pe.y),Ce>0){const yt=py($t,ys,l,d);n.arc(yt.x,yt.y,Ce,G+bi,ys+Math.PI)}const je=(G-Ce/E+(B+de/E))/2;if(n.arc(l,d,E,G-Ce/E,je,!0),n.arc(l,d,E,je,B+de/E,!0),de>0){const yt=py(Bt,$n,l,d);n.arc(yt.x,yt.y,de,$n+Math.PI,B-bi)}const at=py(xe,B,l,d);if(n.lineTo(at.x,at.y),Q>0){const yt=py(xe,Le,l,d);n.arc(yt.x,yt.y,Q,B-bi,Le)}}else{n.moveTo(l,d);const pn=Math.cos(Le)*b+l,Pe=Math.sin(Le)*b+d;n.lineTo(pn,Pe);const je=Math.cos(ot)*b+l,at=Math.sin(ot)*b+d;n.lineTo(je,at)}n.closePath()}Ve(ku,"defaults",wi),Ve(ku,"instances",_A),Ve(ku,"overrides",Hp),Ve(ku,"registry",lc),Ve(ku,"version","4.3.0"),Ve(ku,"getChart",M7);class DC extends Ka{constructor(t){super(),Ve(this,"circumference"),Ve(this,"endAngle"),Ve(this,"fullCircles"),Ve(this,"innerRadius"),Ve(this,"outerRadius"),Ve(this,"pixelMargin"),Ve(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:s,distance:l}=cq(r,{x:t,y:e}),{startAngle:d,endAngle:f,innerRadius:g,outerRadius:_,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),E=(this.options.spacing+this.options.borderWidth)/2,M=Vt(b,f-d)>=jn||dC(s,d,f),k=Iu(l,g+E,_+E);return M&&k}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:s,innerRadius:l,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:f,spacing:g}=this.options,_=(r+s)/2,b=(l+d+g+f)/2;return{x:e+Math.cos(_)*b,y:i+Math.sin(_)*b}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,s=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>jn?Math.floor(i/jn):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const d=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(d)*r,Math.sin(d)*r);const g=r*(1-Math.sin(Math.min(ni,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(n,t,e,i,r){const{fullCircles:s,startAngle:l,circumference:d}=t;let f=t.endAngle;if(s){yA(n,t,e,i,f,r);for(let g=0;g<s;++g)n.fill();isNaN(d)||(f=l+(d%jn||jn))}yA(n,t,e,i,f,r),n.fill()}(t,this,g,s,l),function(n,t,e,i,r){const{fullCircles:s,startAngle:l,circumference:d,options:f}=t,{borderWidth:g,borderJoinStyle:_,borderDash:b,borderDashOffset:E}=f,x="inner"===f.borderAlign;if(!g)return;n.setLineDash(b||[]),n.lineDashOffset=E,x?(n.lineWidth=2*g,n.lineJoin=_||"round"):(n.lineWidth=g,n.lineJoin=_||"bevel");let M=t.endAngle;if(s){yA(n,t,e,i,M,r);for(let k=0;k<s;++k)n.stroke();isNaN(d)||(M=l+(d%jn||jn))}x&&function(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:l,outerRadius:d,innerRadius:f}=t;let g=r/d;n.beginPath(),n.arc(s,l,d,i-g,e+g),f>r?(g=r/f,n.arc(s,l,f,e+g,i-g,!0)):n.arc(s,l,r,e+bi,i-bi),n.closePath(),n.clip()}(n,t,M),s||(yA(n,t,e,i,M,r),n.stroke())}(t,this,g,s,l),t.restore()}}function R7(n,t,e=t){n.lineCap=Vt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Vt(e.borderDash,t.borderDash)),n.lineDashOffset=Vt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Vt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Vt(e.borderWidth,t.borderWidth),n.strokeStyle=Vt(e.borderColor,t.borderColor)}function Cse(n,t,e){n.lineTo(e.x,e.y)}function O7(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:l,end:d}=t,f=Math.max(r,l),g=Math.min(s,d);return{count:i,start:f,loop:t.loop,ilen:g<f&&!(r<l&&s<l||r>d&&s>d)?i+g-f:g-f}}function Tse(n,t,e,i){const{points:r,options:s}=t,{count:l,start:d,loop:f,ilen:g}=O7(r,e,i),_=function(n){return n.stepped?Wne:n.tension||"monotone"===n.cubicInterpolationMode?qne:Cse}(s);let x,M,k,{move:b=!0,reverse:E}=i||{};for(x=0;x<=g;++x)M=r[(d+(E?g-x:x))%l],!M.skip&&(b?(n.moveTo(M.x,M.y),b=!1):_(n,k,M,E,s.stepped),k=M);return f&&(M=r[(d+(E?g:0))%l],_(n,k,M,E,s.stepped)),!!f}function xse(n,t,e,i){const r=t.points,{count:s,start:l,ilen:d}=O7(r,e,i),{move:f=!0,reverse:g}=i||{};let E,x,M,k,R,B,_=0,b=0;const G=ce=>(l+(g?d-ce:ce))%s,Q=()=>{k!==R&&(n.lineTo(_,R),n.lineTo(_,k),n.lineTo(_,B))};for(f&&(x=r[G(0)],n.moveTo(x.x,x.y)),E=0;E<=d;++E){if(x=r[G(E)],x.skip)continue;const ce=x.x,de=x.y,Ce=0|ce;Ce===M?(de<k?k=de:de>R&&(R=de),_=(b*_+ce)/++b):(Q(),n.lineTo(ce,de),M=Ce,b=0,k=R=de),B=de}Q()}function B3(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?Tse:xse}Ve(DC,"id","arc"),Ve(DC,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Ve(DC,"defaultRoutes",{backgroundColor:"backgroundColor"}),Ve(DC,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const Ase="function"==typeof Path2D;class bh extends Ka{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(_ie(this._points,i,t,i.spanGaps?this._loop:this._fullLoop,e),this._pointsUpdated=!0)}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:l,end:d}=function(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}(e,r,s,i);return function(n,t,e,i){return i&&i.setContext&&e?function(n,t,e,i){const r=n._chart.getContext(),s=jq(n.options),{_datasetIndex:l,options:{spanGaps:d}}=n,f=e.length,g=[];let _=s,b=t[0].start,E=b;function x(M,k,R,B){const G=d?-1:1;if(M!==k){for(M+=f;e[M%f].skip;)M-=G;for(;e[k%f].skip;)k+=G;M%f!=k%f&&(g.push({start:M%f,end:k%f,loop:R,style:B}),_=B,b=k%f)}}for(const M of t){b=d?b:M.start;let R,k=e[b%f];for(E=b+1;E<=M.end;E++){const B=e[E%f];R=jq(i.setContext(vh(r,{type:"segment",p0:k,p1:B,p0DataIndex:(E-1)%f,p1DataIndex:E%f,datasetIndex:l}))),Pie(R,_)&&x(b,E-1,M.loop,_),k=B,_=R}b<E-1&&x(b,E-1,M.loop,_)}return g}(n,t,e,i):t}(n,!0===i?[{start:l,end:d,loop:s}]:function(n,t,e,i){const r=n.length,s=[];let f,l=t,d=n[t];for(f=t+1;f<=e;++f){const g=n[f%r];g.skip||g.stop?d.skip||(s.push({start:t%r,end:(f-1)%r,loop:i=!1}),t=l=g.stop?f:null):(l=f,d.skip&&(t=f)),d=g}return null!==l&&s.push({start:t%r,end:l%r,loop:i}),s}(e,l,d<l?d+r:d,!!n._fullLoop&&0===l&&d===r-1),e,t)}(this,this.options.segment))}first(){const t=this.segments;return t.length&&this.points[t[0].start]}last(){const t=this.segments,i=t.length;return i&&this.points[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],s=this.points,l=Hq(this,{property:e,start:r,end:r});if(!l.length)return;const d=[],f=function(n){return n.stepped?xie:n.tension||"monotone"===n.cubicInterpolationMode?Die:qp}(i);let g,_;for(g=0,_=l.length;g<_;++g){const{start:b,end:E}=l[g],x=s[b],M=s[E];if(x===M){d.push(x);continue}const R=f(x,M,Math.abs((r-x[e])/(M[e]-x[e])),i.stepped);R[e]=t[e],d.push(R)}return 1===d.length?d[0]:d}pathSegment(t,e,i){return B3(this)(t,this,e,i)}path(t,e,i){const r=this.segments,s=B3(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const d of r)l&=s(t,this,d,{start:e,end:e+i-1});return!!l}draw(t,e,i,r){(this.points||[]).length&&(this.options||{}).borderWidth&&(t.save(),function(n,t,e,i){Ase&&!t.options.segment?function(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),R7(n,t.options),n.stroke(r)}(n,t,e,i):function(n,t,e,i){const{segments:r,options:s}=t,l=B3(t);for(const d of r)R7(n,s,d.style),n.beginPath(),l(n,t,d,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function P7(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}Ve(bh,"id","line"),Ve(bh,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ve(bh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ve(bh,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class vA extends Ka{constructor(t){super(),Ve(this,"parsed"),Ve(this,"skip"),Ve(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:s,y:l}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(e-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return P7(this,t,"x",e)}inYRange(t,e){return P7(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;return e=Math.max(e,e&&t.hoverRadius||0),2*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Au(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,E3(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function F7(n,t){const{x:e,y:i,base:r,width:s,height:l}=n.getProps(["x","y","base","width","height"],t);let d,f,g,_,b;return n.horizontal?(b=l/2,d=Math.min(e,r),f=Math.max(e,r),g=i-b,_=i+b):(b=s/2,d=e-b,f=e+b,g=Math.min(i,r),_=Math.max(i,r)),{left:d,top:g,right:f,bottom:_}}function wh(n,t,e,i){return n?0:kr(t,e,i)}function U3(n,t,e,i){const r=null===t,s=null===e,d=n&&!(r&&s)&&F7(n,i);return d&&(r||Iu(t,d.left,d.right))&&(s||Iu(e,d.top,d.bottom))}function Fse(n,t){n.rect(t.x,t.y,t.w,t.h)}function H3(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}Ve(vA,"id","point"),Ve(vA,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ve(vA,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class bA extends Ka{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:l}=function(n){const t=F7(n),e=t.right-t.left,i=t.bottom-t.top,r=function(n,t,e){const r=n.borderSkipped,s=Tq(n.options.borderWidth);return{t:wh(r.top,s.top,0,e),r:wh(r.right,s.right,0,t),b:wh(r.bottom,s.bottom,0,e),l:wh(r.left,s.left,0,t)}}(n,e/2,i/2),s=function(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=$p(r),l=Math.min(t,e),d=n.borderSkipped,f=i||en(r);return{topLeft:wh(!f||d.top||d.left,s.topLeft,0,l),topRight:wh(!f||d.top||d.right,s.topRight,0,l),bottomLeft:wh(!f||d.bottom||d.left,s.bottomLeft,0,l),bottomRight:wh(!f||d.bottom||d.right,s.bottomRight,0,l)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),d=function(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(l.radius)?gC:Fse;t.save(),(l.w!==s.w||l.h!==s.h)&&(t.beginPath(),d(t,H3(l,e,s)),t.clip(),d(t,H3(s,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),d(t,H3(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return U3(this,t,e,i)}inXRange(t,e){return U3(this,t,null,e)}inYRange(t,e){return U3(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Ve(bA,"id","bar"),Ve(bA,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Ve(bA,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Nse=Object.freeze({__proto__:null,ArcElement:DC,BarElement:bA,LineElement:bh,PointElement:vA});const z3=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],N7=z3.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function L7(n){return z3[n%z3.length]}function V7(n){return N7[n%N7.length]}function B7(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}var zse={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:s}=r;if(!e.forceOverride&&(B7(i)||function(n){return n&&(n.borderColor||n.backgroundColor)}(r)||s&&B7(s)))return;const l=function(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof Kp?t=function(n,t){return n.backgroundColor=n.data.map(()=>L7(t++)),t}(e,t):r instanceof yC?t=function(n,t){return n.backgroundColor=n.data.map(()=>V7(t++)),t}(e,t):r&&(t=function(n,t){return n.borderColor=L7(t),n.backgroundColor=V7(t),++t}(e,t))}}(n);i.forEach(l)}};function U7(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function H7(n){n.data.datasets.forEach(t=>{U7(t)})}var Wse={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void H7(n);const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:l,indexAxis:d}=r,f=n.getDatasetMeta(s),g=l||r.data;if("y"===mC([d,n.options.indexAxis])||!f.controller.supportsDecimation)return;const _=n.scales[f.xAxisID];if("linear"!==_.type&&"time"!==_.type||n.options.parsing)return;let M,{start:b,count:E}=function(n,t){const e=t.length;let r,i=0;const{iScale:s}=n,{min:l,max:d,minDefined:f,maxDefined:g}=s.getUserBounds();return f&&(i=kr(Su(t,s.axis,l).lo,0,e-1)),r=g?kr(Su(t,s.axis,d).hi+1,i,e)-i:e-i,{start:i,count:r}}(f,g);if(E<=(e.threshold||4*i))U7(r);else{switch(cn(l)&&(r._data=g,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(k){this._data=k}})),e.algorithm){case"lttb":M=function(n,t,e,i,r){const s=r.samples||i;if(s>=e)return n.slice(t,t+e);const l=[],d=(e-2)/(s-2);let f=0;const g=t+e-1;let b,E,x,M,k,_=t;for(l[f++]=n[_],b=0;b<s-2;b++){let G,R=0,B=0;const Q=Math.floor((b+1)*d)+1+t,ce=Math.min(Math.floor((b+2)*d)+1,e)+t,de=ce-Q;for(G=Q;G<ce;G++)R+=n[G].x,B+=n[G].y;R/=de,B/=de;const Ce=Math.floor(b*d)+1+t,xe=Math.min(Math.floor((b+1)*d)+1,e)+t,{x:Ae,y:Le}=n[_];for(x=M=-1,G=Ce;G<xe;G++)M=.5*Math.abs((Ae-R)*(n[G].y-Le)-(Ae-n[G].x)*(B-Le)),M>x&&(x=M,E=n[G],k=G);l[f++]=E,_=k}return l[f++]=n[g],l}(g,b,E,i,e);break;case"min-max":M=function(n,t,e,i){let l,d,f,g,_,b,E,x,M,k,r=0,s=0;const R=[],G=n[t].x,ce=n[t+e-1].x-G;for(l=t;l<t+e;++l){d=n[l],f=(d.x-G)/ce*i,g=d.y;const de=0|f;if(de===_)g<M?(M=g,b=l):g>k&&(k=g,E=l),r=(s*r+d.x)/++s;else{const Ce=l-1;if(!cn(b)&&!cn(E)){const xe=Math.min(b,E),Ae=Math.max(b,E);xe!==x&&xe!==Ce&&R.push(ng(tg({},n[xe]),{x:r})),Ae!==x&&Ae!==Ce&&R.push(ng(tg({},n[Ae]),{x:r}))}l>0&&Ce!==x&&R.push(n[Ce]),R.push(d),_=de,s=0,M=k=g,b=E=x=l}}return R}(g,b,E,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=M}})},destroy(n){H7(n)}};function j3(n,t,e,i){if(i)return;let r=t[n],s=e[n];return"angle"===n&&(r=Do(r),s=Do(s)),{property:n,start:r,end:s}}function $3(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function z7(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function j7(n,t){let e=[],i=!1;return zn(n)?(i=!0,e=n):e=function(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:l,end:d})=>{d=$3(l,d,r);const f=r[l],g=r[d];null!==i?(s.push({x:f.x,y:i}),s.push({x:g.x,y:i})):null!==e&&(s.push({x:e,y:f.y}),s.push({x:e,y:g.y}))}),s}(n,t),e.length?new bh({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function $7(n){return n&&!1!==n.fill}function Yse(n,t,e){let r=n[t].fill;const s=[t];let l;if(!e)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!vi(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;s.push(r),r=l.fill}return!1}function Zse(n,t,e){const i=function(n){const t=n.options,e=t.fill;let i=Vt(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(en(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return vi(r)&&Math.floor(r)===r?function(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function ioe(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:l,last:d,point:f}=roe(s,t,"x");if(!(!f||l&&d))if(l)i.unshift(f);else if(n.push(f),!d)break}n.push(...i)}function roe(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,l=n.points;let d=!1,f=!1;for(let g=0;g<s.length;g++){const _=s[g],b=l[_.start][e],E=l[_.end][e];if(Iu(r,b,E)){d=r===b,f=r===E;break}}return{first:d,last:f,point:i}}class G7{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:l}=this;return t.arc(r,s,l,(e=e||{start:0,end:jn}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function G3(n,t,e){const i=function(n){const{chart:t,fill:e,line:i}=n;if(vi(e))return function(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,l=i.points,d=function(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}(t,e);d.push(j7({x:null,y:t.bottom},i));for(let f=0;f<s.length;f++){const g=s[f];for(let _=g.start;_<=g.end;_++)ioe(r,l[_],d)}return new bh({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function(n){return(n.scale||{}).getPointPositionForValue?function(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,l=function(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:en(n)?n.value:t.getBaseValue(),i}(e,t,s),d=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,s);return new G7({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(l)})}for(let f=0;f<r;++f)d.push(t.getPointPositionForValue(f,l));return d}(n):function(n){const{scale:t={},fill:e}=n,i=function(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:en(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(vi(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof G7?r:j7(r,i)}(t),{line:r,scale:s,axis:l}=t,d=r.options,f=d.fill,g=d.backgroundColor,{above:_=g,below:b=g}=f||{};i&&r.points.length&&(eA(n,e),function(n,t){const{line:e,target:i,above:r,below:s,area:l,scale:d}=t,f=e._loop?"angle":t.axis;n.save(),"x"===f&&s!==r&&(W7(n,i,l.top),q7(n,{line:e,target:i,color:r,scale:d,property:f}),n.restore(),n.save(),W7(n,i,l.bottom)),q7(n,{line:e,target:i,color:s,scale:d,property:f}),n.restore()}(n,{line:r,target:i,above:_,below:b,area:e,scale:s,axis:l}),tA(n))}function W7(n,t,e){const{segments:i,points:r}=t;let s=!0,l=!1;n.beginPath();for(const d of i){const{start:f,end:g}=d,_=r[f],b=r[$3(f,g,r)];s?(n.moveTo(_.x,_.y),s=!1):(n.lineTo(_.x,e),n.lineTo(_.x,_.y)),l=!!t.pathSegment(n,d,{move:l}),l?n.closePath():n.lineTo(b.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function q7(n,t){const{line:e,target:i,property:r,color:s,scale:l}=t,d=function(n,t,e){const i=n.segments,r=n.points,s=t.points,l=[];for(const d of i){let{start:f,end:g}=d;g=$3(f,g,r);const _=j3(e,r[f],r[g],d.loop);if(!t.segments){l.push({source:d,target:_,start:r[f],end:r[g]});continue}const b=Hq(t,_);for(const E of b){const x=j3(e,s[E.start],s[E.end],E.loop),M=Uq(d,r,x);for(const k of M)l.push({source:k,target:E,start:{[e]:z7(_,x,"start",Math.max)},end:{[e]:z7(_,x,"end",Math.min)}})}}return l}(e,i,r);for(const{source:f,target:g,start:_,end:b}of d){const{style:{backgroundColor:E=s}={}}=f,x=!0!==i;n.save(),n.fillStyle=E,doe(n,l,x&&j3(r,_,b)),n.beginPath();const M=!!e.pathSegment(n,f);let k;if(x){M?n.closePath():K7(n,i,b,r);const R=!!i.pathSegment(n,g,{move:M,reverse:!0});k=M&&R,k||K7(n,i,_,r)}n.closePath(),n.fill(k?"evenodd":"nonzero"),n.restore()}}function doe(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:l,end:d}=e||{};"x"===s&&(n.beginPath(),n.rect(l,i,d-l,r-i),n.clip())}function K7(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var hoe={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,l,d,f;for(l=0;l<i;++l)s=n.getDatasetMeta(l),d=s.dataset,f=null,d&&d.options&&d instanceof bh&&(f={visible:n.isDatasetVisible(l),index:l,fill:Zse(d,l,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:d}),s.$filler=f,r.push(f);for(l=0;l<i;++l)f=r[l],f&&!1!==f.fill&&(f.fill=Yse(r,l,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let l=r.length-1;l>=0;--l){const d=r[l].$filler;!d||(d.line.updateControlPoints(s,d.axis),i&&d.fill&&G3(n.ctx,d,s))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;$7(s)&&G3(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!$7(i)||"beforeDatasetDraw"!==e.drawTime||G3(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Y7=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class Z7 extends Ka{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Nn(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=pr(i.font),s=r.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:f}=Y7(i,s);let g,_;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,_=this._fitRows(l,s,d,f)+10):(_=this.maxHeight,g=this._fitCols(l,r,d,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:l,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],_=r+d;let b=t;s.textAlign="left",s.textBaseline="middle";let E=-1,x=-_;return this.legendItems.forEach((M,k)=>{const R=i+e/2+s.measureText(M.text).width;(0===k||g[g.length-1]+R+2*d>l)&&(b+=_,g[g.length-(k>0?0:1)]=0,x+=_,E++),f[k]={left:0,top:x,row:E,width:R,height:r},g[g.length-1]+=R+d}),b}_fitCols(t,e,i,r){const{ctx:s,maxHeight:l,options:{labels:{padding:d}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],_=l-t;let b=d,E=0,x=0,M=0,k=0;return this.legendItems.forEach((R,B)=>{const{itemWidth:G,itemHeight:Q}=function(n,t,e,i,r){const s=function(n,t,e,i){let r=n.text;return r&&"string"!=typeof r&&(r=r.reduce((s,l)=>s.length>l.length?s:l)),t+e.size/2+i.measureText(r).width}(i,n,t,e),l=function(n,t,e){let i=n;return"string"!=typeof t.text&&(i=Q7(t,e)),i}(r,i,t.lineHeight);return{itemWidth:s,itemHeight:l}}(i,e,s,R,r);B>0&&x+Q+2*d>_&&(b+=E+d,g.push({width:E,height:x}),M+=E+d,k++,E=x=0),f[B]={left:M,top:x,col:k,width:G,height:Q},E=Math.max(E,G),x+=Q+d}),b+=E,g.push({width:E,height:x}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,l=fy(s,this.left,this.width);if(this.isHorizontal()){let d=0,f=gs(i,this.left+r,this.right-this.lineWidths[d]);for(const g of e)d!==g.row&&(d=g.row,f=gs(i,this.left+r,this.right-this.lineWidths[d])),g.top+=this.top+t+r,g.left=l.leftForLtr(l.x(f),g.width),f+=g.width+r}else{let d=0,f=gs(i,this.top+t+r,this.bottom-this.columnSizes[d].height);for(const g of e)g.col!==d&&(d=g.col,f=gs(i,this.top+t+r,this.bottom-this.columnSizes[d].height)),g.top=f,g.left+=this.left+r,g.left=l.leftForLtr(l.x(g.left),g.width),f+=g.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;eA(t,this),this._draw(),tA(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:l}=t,d=wi.color,f=fy(t.rtl,this.left,this.width),g=pr(l.font),{padding:_}=l,b=g.size,E=b/2;let x;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:M,boxHeight:k,itemHeight:R}=Y7(l,b),Q=this.isHorizontal(),ce=this._computeTitleHeight();x=Q?{x:gs(s,this.left+_,this.right-i[0]),y:this.top+_+ce,line:0}:{x:this.left+_,y:gs(s,this.top+ce+_,this.bottom-e[0].height),line:0},Nq(this.ctx,t.textDirection);const de=R+_;this.legendItems.forEach((Ce,xe)=>{r.strokeStyle=Ce.fontColor,r.fillStyle=Ce.fontColor;const Ae=r.measureText(Ce.text).width,Le=f.textAlign(Ce.textAlign||(Ce.textAlign=l.textAlign)),ot=M+E+Ae;let Bt=x.x,$t=x.y;f.setWidth(this.width),Q?xe>0&&Bt+ot+_>this.right&&($t=x.y+=de,x.line++,Bt=x.x=gs(s,this.left+_,this.right-i[x.line])):xe>0&&$t+de>this.bottom&&(Bt=x.x=Bt+e[x.line].width+_,x.line++,$t=x.y=gs(s,this.top+ce+_,this.bottom-e[x.line].height)),function(Ce,xe,Ae){if(isNaN(M)||M<=0||isNaN(k)||k<0)return;r.save();const Le=Vt(Ae.lineWidth,1);if(r.fillStyle=Vt(Ae.fillStyle,d),r.lineCap=Vt(Ae.lineCap,"butt"),r.lineDashOffset=Vt(Ae.lineDashOffset,0),r.lineJoin=Vt(Ae.lineJoin,"miter"),r.lineWidth=Le,r.strokeStyle=Vt(Ae.strokeStyle,d),r.setLineDash(Vt(Ae.lineDash,[])),l.usePointStyle){const ot={radius:k*Math.SQRT2/2,pointStyle:Ae.pointStyle,rotation:Ae.rotation,borderWidth:Le},Bt=f.xPlus(Ce,M/2);Eq(r,ot,Bt,xe+E,l.pointStyleWidth&&M)}else{const ot=xe+Math.max((b-k)/2,0),Bt=f.leftForLtr(Ce,M),$t=$p(Ae.borderRadius);r.beginPath(),Object.values($t).some($n=>0!==$n)?gC(r,{x:Bt,y:ot,w:M,h:k,radius:$t}):r.rect(Bt,ot,M,k),r.fill(),0!==Le&&r.stroke()}r.restore()}(f.x(Bt),$t,Ce),Bt=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(Le,Bt+M+E,Q?Bt+ot:this.right,t.rtl),function(Ce,xe,Ae){jp(r,Ae.text,Ce,xe+R/2,g,{strikethrough:Ae.hidden,textAlign:f.textAlign(Ae.textAlign)})}(f.x(Bt),$t,Ce),Q?x.x+=ot+_:x.y+="string"!=typeof Ce.text?Q7(Ce,g.lineHeight):de}),Lq(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=pr(e.font),r=ms(e.padding);if(!e.display)return;const s=fy(t.rtl,this.left,this.width),l=this.ctx,d=e.position,g=r.top+i.size/2;let _,b=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),_=this.top+g,b=gs(t.align,b,this.right-E);else{const M=this.columnSizes.reduce((k,R)=>Math.max(k,R.height),0);_=g+gs(t.align,this.top,this.bottom-M-t.labels.padding-this._computeTitleHeight())}const x=gs(d,b,b+E);l.textAlign=s.textAlign(y3(d)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,jp(l,e.text,x,_,i)}_computeTitleHeight(){const t=this.options.title,e=pr(t.font),i=ms(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(Iu(t,this.left,this.right)&&Iu(e,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Iu(t,r.left,r.left+r.width)&&Iu(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,s=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!s&&Nn(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&Nn(e.onHover,[t,i,this],this)}else i&&Nn(e.onClick,[t,i,this],this)}}function Q7(n,t){return t*(n.text?n.text.length+.5:0)}var yoe={id:"legend",_element:Z7,start(n,t,e){const i=n.legend=new Z7({ctx:n.ctx,options:e,chart:n});_s.configure(n,i,e),_s.addBox(n,i)},stop(n){_s.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;_s.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s,useBorderRadius:l,borderRadius:d}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),_=ms(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:s,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:l&&(d||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class W3 extends Ka{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=zn(i.text)?i.text.length:1;this._padding=ms(i.padding);const s=r*pr(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:l}=this,d=l.align;let g,_,b,f=0;return this.isHorizontal()?(_=gs(d,i,s),b=e+t,g=s-i):("left"===l.position?(_=i+t,b=gs(d,r,e),f=-.5*ni):(_=s-t,b=gs(d,e,r),f=.5*ni),g=r-e),{titleX:_,titleY:b,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=pr(e.font),s=i.lineHeight/2+this._padding.top,{titleX:l,titleY:d,maxWidth:f,rotation:g}=this._drawArgs(s);jp(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:g,textAlign:y3(e.align),textBaseline:"middle",translation:[l,d]})}}var boe={id:"title",_element:W3,start(n,t,e){!function(n,t){const e=new W3({ctx:n.ctx,options:t,chart:n});_s.configure(n,e,t),_s.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){_s.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;_s.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wA=new WeakMap;var woe={id:"subtitle",start(n,t,e){const i=new W3({ctx:n.ctx,options:e,chart:n});_s.configure(n,i,e),_s.addBox(n,i),wA.set(n,i)},stop(n){_s.removeBox(n,wA.get(n)),wA.delete(n)},beforeUpdate(n,t,e){const i=wA.get(n);_s.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const IC={average(n){if(!n.length)return!1;let t,e,i=0,r=0,s=0;for(t=0,e=n.length;t<e;++t){const l=n[t].element;if(l&&l.hasValue()){const d=l.tooltipPosition();i+=d.x,r+=d.y,++s}}return{x:i/s,y:r/s}},nearest(n,t){if(!n.length)return!1;let s,l,d,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(s=0,l=n.length;s<l;++s){const f=n[s].element;if(f&&f.hasValue()){const _=m3(t,f.getCenterPoint());_<r&&(r=_,d=f)}}if(d){const f=d.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function cc(n,t){return t&&(zn(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ru(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function Coe(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:l,value:d}=s.getLabelAndValue(r);return{chart:n,label:l,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:d,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function J7(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:l,boxHeight:d}=t,f=pr(t.bodyFont),g=pr(t.titleFont),_=pr(t.footerFont),b=s.length,E=r.length,x=i.length,M=ms(t.padding);let k=M.height,R=0,B=i.reduce((ce,de)=>ce+de.before.length+de.lines.length+de.after.length,0);B+=n.beforeBody.length+n.afterBody.length,b&&(k+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),B&&(k+=x*(t.displayColors?Math.max(d,f.lineHeight):f.lineHeight)+(B-x)*f.lineHeight+(B-1)*t.bodySpacing),E&&(k+=t.footerMarginTop+E*_.lineHeight+(E-1)*t.footerSpacing);let G=0;const Q=function(ce){R=Math.max(R,e.measureText(ce).width+G)};return e.save(),e.font=g.string,Cn(n.title,Q),e.font=f.string,Cn(n.beforeBody.concat(n.afterBody),Q),G=t.displayColors?l+2+t.boxPadding:0,Cn(i,ce=>{Cn(ce.before,Q),Cn(ce.lines,Q),Cn(ce.after,Q)}),G=0,e.font=_.string,Cn(n.footer,Q),e.restore(),R+=M.width,{width:R,height:k}}function xoe(n,t,e,i){const{x:r,width:s}=e,{width:l,chartArea:{left:d,right:f}}=n;let g="center";return"center"===i?g=r<=(d+f)/2?"left":"right":r<=s/2?g="left":r>=l-s/2&&(g="right"),function(n,t,e,i){const{x:r,width:s}=i,l=e.caretSize+e.caretPadding;if("left"===n&&r+s+l>t.width||"right"===n&&r-s-l<0)return!0}(g,n,t,e)&&(g="center"),g}function X7(n,t,e){const i=e.yAlign||t.yAlign||function(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||xoe(n,t,e,i),yAlign:i}}function e8(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:l}=n,{xAlign:d,yAlign:f}=e,g=r+s,{topLeft:_,topRight:b,bottomLeft:E,bottomRight:x}=$p(l);let M=function(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,d);const k=function(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,f,g);return"center"===f?"left"===d?M+=g:"right"===d&&(M-=g):"left"===d?M-=Math.max(_,E)+r:"right"===d&&(M+=Math.max(b,x)+r),{x:kr(M,0,i.width-t.width),y:kr(k,0,i.height-t.height)}}function CA(n,t,e){const i=ms(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function t8(n){return cc([],Ru(n))}function n8(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const r8={beforeTitle:Du,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Du,beforeBody:Du,beforeLabel:Du,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return cn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Du,afterBody:Du,beforeFooter:Du,footer:Du,afterFooter:Du};function eo(n,t,e,i){const r=n[t].call(e,i);return void 0===r?r8[t].call(e,i):r}class q3 extends Ka{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,s=new Gq(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function(n,t,e){return vh(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=eo(i,"beforeTitle",this,t),s=eo(i,"title",this,t),l=eo(i,"afterTitle",this,t);let d=[];return d=cc(d,Ru(r)),d=cc(d,Ru(s)),d=cc(d,Ru(l)),d}getBeforeBody(t,e){return t8(eo(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Cn(t,s=>{const l={before:[],lines:[],after:[]},d=n8(i,s);cc(l.before,Ru(eo(d,"beforeLabel",this,s))),cc(l.lines,eo(d,"label",this,s)),cc(l.after,Ru(eo(d,"afterLabel",this,s))),r.push(l)}),r}getAfterBody(t,e){return t8(eo(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=eo(i,"beforeFooter",this,t),s=eo(i,"footer",this,t),l=eo(i,"afterFooter",this,t);let d=[];return d=cc(d,Ru(r)),d=cc(d,Ru(s)),d=cc(d,Ru(l)),d}_createItems(t){const e=this._active,i=this.chart.data,r=[],s=[],l=[];let f,g,d=[];for(f=0,g=e.length;f<g;++f)d.push(Coe(this.chart,e[f]));return t.filter&&(d=d.filter((_,b,E)=>t.filter(_,b,E,i))),t.itemSort&&(d=d.sort((_,b)=>t.itemSort(_,b,i))),Cn(d,_=>{const b=n8(t.callbacks,_);r.push(eo(b,"labelColor",this,_)),s.push(eo(b,"labelPointStyle",this,_)),l.push(eo(b,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=l,this.dataPoints=d,d}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let s,l=[];if(r.length){const d=IC[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=J7(this,i),g=Object.assign({},d,f),_=X7(this.chart,i,g),b=e8(i,g,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,s={opacity:1,x:b.x,y:b.y,width:f.width,height:f.height,caretX:d.x,caretY:d.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=l,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const s=this.getCaretPosition(t,i,r);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:s}=this,{caretSize:l,cornerRadius:d}=i,{topLeft:f,topRight:g,bottomLeft:_,bottomRight:b}=$p(d),{x:E,y:x}=t,{width:M,height:k}=e;let R,B,G,Q,ce,de;return"center"===s?(ce=x+k/2,"left"===r?(R=E,B=R-l,Q=ce+l,de=ce-l):(R=E+M,B=R+l,Q=ce-l,de=ce+l),G=R):(B="left"===r?E+Math.max(f,_)+l:"right"===r?E+M-Math.max(g,b)-l:this.caretX,"top"===s?(Q=x,ce=Q-l,R=B-l,G=B+l):(Q=x+k,ce=Q+l,R=B+l,G=B-l),de=Q),{x1:R,x2:B,x3:G,y1:Q,y2:ce,y3:de}}drawTitle(t,e,i){const r=this.title,s=r.length;let l,d,f;if(s){const g=fy(i.rtl,this.x,this.width);for(t.x=CA(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",l=pr(i.titleFont),d=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,f=0;f<s;++f)e.fillText(r[f],g.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+d,f+1===s&&(t.y+=i.titleMarginBottom-d)}}_drawColorBox(t,e,i,r,s){const l=this.labelColors[i],d=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=s,_=pr(s.bodyFont),b=CA(this,"left",s),E=r.x(b),M=e.y+(f<_.lineHeight?(_.lineHeight-f)/2:0);if(s.usePointStyle){const k={radius:Math.min(g,f)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},R=r.leftForLtr(E,g)+g/2,B=M+f/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,E3(t,k,R,B),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,E3(t,k,R,B)}else{t.lineWidth=en(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const k=r.leftForLtr(E,g),R=r.leftForLtr(r.xPlus(E,1),g-2),B=$p(l.borderRadius);Object.values(B).some(G=>0!==G)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,gC(t,{x:k,y:M,w:g,h:f,radius:B}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),gC(t,{x:R,y:M+1,w:g-2,h:f-2,radius:B}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(k,M,g,f),t.strokeRect(k,M,g,f),t.fillStyle=l.backgroundColor,t.fillRect(R,M+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:s,bodyAlign:l,displayColors:d,boxHeight:f,boxWidth:g,boxPadding:_}=i,b=pr(i.bodyFont);let E=b.lineHeight,x=0;const M=fy(i.rtl,this.x,this.width),k=function(Ae){e.fillText(Ae,M.x(t.x+x),t.y+E/2),t.y+=E+s},R=M.textAlign(l);let B,G,Q,ce,de,Ce,xe;for(e.textAlign=l,e.textBaseline="middle",e.font=b.string,t.x=CA(this,R,i),e.fillStyle=i.bodyColor,Cn(this.beforeBody,k),x=d&&"right"!==R?"center"===l?g/2+_:g+2+_:0,ce=0,Ce=r.length;ce<Ce;++ce){for(B=r[ce],G=this.labelTextColors[ce],e.fillStyle=G,Cn(B.before,k),Q=B.lines,d&&Q.length&&(this._drawColorBox(e,t,ce,M,i),E=Math.max(b.lineHeight,f)),de=0,xe=Q.length;de<xe;++de)k(Q[de]),E=b.lineHeight;Cn(B.after,k)}x=0,E=b.lineHeight,Cn(this.afterBody,k),t.y-=s}drawFooter(t,e,i){const r=this.footer,s=r.length;let l,d;if(s){const f=fy(i.rtl,this.x,this.width);for(t.x=CA(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",l=pr(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,d=0;d<s;++d)e.fillText(r[d],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:s,yAlign:l}=this,{x:d,y:f}=t,{width:g,height:_}=i,{topLeft:b,topRight:E,bottomLeft:x,bottomRight:M}=$p(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(d+b,f),"top"===l&&this.drawCaret(t,e,i,r),e.lineTo(d+g-E,f),e.quadraticCurveTo(d+g,f,d+g,f+E),"center"===l&&"right"===s&&this.drawCaret(t,e,i,r),e.lineTo(d+g,f+_-M),e.quadraticCurveTo(d+g,f+_,d+g-M,f+_),"bottom"===l&&this.drawCaret(t,e,i,r),e.lineTo(d+x,f+_),e.quadraticCurveTo(d,f+_,d,f+_-x),"center"===l&&"left"===s&&this.drawCaret(t,e,i,r),e.lineTo(d,f+b),e.quadraticCurveTo(d,f,d+b,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const l=IC[t.position].call(this,this._active,this._eventPosition);if(!l)return;const d=this._size=J7(this,t),f=Object.assign({},l,this._size),g=X7(e,t,f),_=e8(t,f,g,e);(r._to!==_.x||s._to!==_.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=ms(e.padding);e.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,r,e),Nq(t,e.textDirection),s.y+=l.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),Lq(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:d,index:f})=>{const g=this.chart.getDatasetMeta(d);if(!g)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:g.data[f],index:f}}),s=!K1(i,r),l=this._positionChanged(r,e);(s||l)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],l=this._getActiveElements(t,s,e,i),d=this._positionChanged(l,t),f=e||!K1(l,s)||d;return f&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const s=this.options;if("mouseout"===t.type)return[];if(!r)return e;const l=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:r,options:s}=this,l=IC[s.position].call(this,t,e);return!1!==l&&(i!==l.x||r!==l.y)}}Ve(q3,"positioners",IC);var Aoe={id:"tooltip",_element:q3,positioners:IC,afterInit(n,t,e){e&&(n.tooltip=new q3({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",ng(tg({},e),{cancelable:!0})))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:r8},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Moe=Object.freeze({__proto__:null,Colors:zse,Decimation:Wse,Filler:hoe,Legend:yoe,SubTitle:woe,Title:boe,Tooltip:Aoe});function s8(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class K3 extends Zp{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(cn(t))return null;const i=this.getLabels();return((n,t)=>null===n?null:kr(Math.round(n),0,t))(e=isFinite(e)&&i[e]===t?e:function(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(i,t,Vt(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=0===t&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){return s8.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function o8(n,t,{horizontal:e,minRotation:i}){const r=Wa(i),s=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/s,.75*t*(""+n).length)}Ve(K3,"id","category"),Ve(K3,"defaults",{ticks:{callback:s8}});class EA extends Zp{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return cn(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const l=f=>r=e?r:f,d=f=>s=i?s:f;if(t){const f=ac(r),g=ac(s);f<0&&g<0?d(0):f>0&&g>0&&l(0)}if(r===s){let f=0===s?1:Math.abs(.05*s);d(s+f),t||l(r-f)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const l=function(n,t){const e=[],{bounds:r,step:s,min:l,max:d,precision:f,count:g,maxTicks:_,maxDigits:b,includeBounds:E}=n,x=s||1,M=_-1,{min:k,max:R}=t,B=!cn(l),G=!cn(d),Q=!cn(g),ce=(R-k)/(b+1);let Ce,xe,Ae,Le,de=oq((R-k)/M/x)*x;if(de<1e-14&&!B&&!G)return[{value:k},{value:R}];Le=Math.ceil(R/de)-Math.floor(k/de),Le>M&&(de=oq(Le*de/M/x)*x),cn(f)||(Ce=Math.pow(10,f),de=Math.ceil(de*Ce)/Ce),"ticks"===r?(xe=Math.floor(k/de)*de,Ae=Math.ceil(R/de)*de):(xe=k,Ae=R),B&&G&&s&&function(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((d-l)/s,de/1e3)?(Le=Math.round(Math.min((d-l)/de,_)),de=(d-l)/Le,xe=l,Ae=d):Q?(xe=B?l:xe,Ae=G?d:Ae,Le=g-1,de=(Ae-xe)/Le):(Le=(Ae-xe)/de,Le=uC(Le,Math.round(Le),de/1e3)?Math.round(Le):Math.ceil(Le));const ot=Math.max(lq(de),lq(xe));Ce=Math.pow(10,cn(f)?ot:f),xe=Math.round(xe*Ce)/Ce,Ae=Math.round(Ae*Ce)/Ce;let Bt=0;for(B&&(E&&xe!==l?(e.push({value:l}),xe<l&&Bt++,uC(Math.round((xe+Bt*de)*Ce)/Ce,l,o8(l,ce,n))&&Bt++):xe<l&&Bt++);Bt<Le;++Bt){const $t=Math.round((xe+Bt*de)*Ce)/Ce;if(G&&$t>d)break;e.push({value:$t})}return G&&E&&Ae!==d?e.length&&uC(e[e.length-1].value,d,o8(d,ce,n))?e[e.length-1].value=d:e.push({value:d}):(!G||Ae===d)&&e.push({value:Ae}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&aq(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return fC(t,this.chart.options.locale,this.options.ticks.format)}}class Y3 extends EA{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=vi(t)?t:0,this.max=vi(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Wa(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Ve(Y3,"id","linear"),Ve(Y3,"defaults",{ticks:{callback:J1.formatters.numeric}});const SC=n=>Math.floor(yh(n)),Qp=(n,t)=>Math.pow(10,SC(n)+t);function a8(n){return n/Math.pow(10,SC(n))==1}function l8(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}class Z3 extends Zp{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=EA.prototype.parse.apply(this,[t,e]);if(0!==i)return vi(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=vi(t)?Math.max(0,t):null,this.max=vi(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!vi(this._userMin)&&(this.min=t===Qp(this.min,0)?Qp(this.min,-1):Qp(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const s=d=>i=t?i:d,l=d=>r=e?r:d;i===r&&(i<=0?(s(1),l(10)):(s(Qp(i,-1)),l(Qp(r,1)))),i<=0&&s(Qp(r,-1)),r<=0&&l(Qp(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function(n,{min:t,max:e}){t=xo(n.min,t);const i=[],r=SC(t);let s=function(n,t){let i=SC(t-n);for(;l8(n,t,i)>10;)i++;for(;l8(n,t,i)<10;)i--;return Math.min(i,SC(n))}(t,e),l=s<0?Math.pow(10,Math.abs(s)):1;const d=Math.pow(10,s),f=r>s?Math.pow(10,r):0,g=Math.round((t-f)*l)/l,_=Math.floor((t-f)/d/10)*d*10;let b=Math.floor((g-_)/Math.pow(10,s)),E=xo(n.min,Math.round((f+_+b*Math.pow(10,s))*l)/l);for(;E<e;)i.push({value:E,major:a8(E),significand:b}),b>=10?b=b<15?15:20:b++,b>=20&&(s++,b=2,l=s>=0?1:l),E=Math.round((f+_+b*Math.pow(10,s))*l)/l;const x=xo(n.max,E);return i.push({value:x,major:a8(x),significand:b}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&aq(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":fC(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=yh(t),this._valueRange=yh(this.max)-yh(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(yh(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Q3(n){const t=n.ticks;if(t.display&&n.display){const e=ms(t.backdropPadding);return Vt(t.font&&t.font.size,wi.font.size)+e.height}return 0}function Loe(n,t,e){return e=zn(e)?e:[e],{w:Gne(n,t.string,e),h:e.length*t.lineHeight}}function c8(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function Boe(n,t,e,i,r){const s=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let d=0,f=0;i.start<t.l?(d=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-d)):i.end>t.r&&(d=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+d)),r.start<t.t?(f=(t.t-r.start)/l,n.t=Math.min(n.t,t.t-f)):r.end>t.b&&(f=(r.end-t.b)/l,n.b=Math.max(n.b,t.b+f))}function Uoe(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:s,padding:l,size:d}=e,f=n.getPointPosition(t,i+r+l,s),g=Math.round(g3(Do(f.angle+bi))),_=function(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}(f.y,d.h,g),b=function(n){return 0===n||180===n?"center":n<180?"left":"right"}(g),E=function(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}(f.x,d.w,b);return{visible:!0,x:f.x,y:_,textAlign:b,left:E,top:_,right:E+d.w,bottom:_+d.h}}function Hoe(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:s}=n;return!(Au({x:e,y:i},t)||Au({x:e,y:s},t)||Au({x:r,y:i},t)||Au({x:r,y:s},t))}function Woe(n,t,e){const{left:i,top:r,right:s,bottom:l}=e,{backdropColor:d}=t;if(!cn(d)){const f=$p(t.borderRadius),g=ms(t.backdropPadding);n.fillStyle=d;const _=i-g.left,b=r-g.top,E=s-i+g.width,x=l-r+g.height;Object.values(f).some(M=>0!==M)?(n.beginPath(),gC(n,{x:_,y:b,w:E,h:x,radius:f}),n.fill()):n.fillRect(_,b,E,x)}}function u8(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,jn);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let l=1;l<i;l++)s=n.getPointPosition(l,t),r.lineTo(s.x,s.y)}}Ve(Z3,"id","logarithmic"),Ve(Z3,"defaults",{ticks:{callback:J1.formatters.logarithmic,major:{enabled:!0}}});class AC extends EA{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ms(Q3(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=vi(t)&&!isNaN(t)?t:0,this.max=vi(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Q3(this.options))}generateTickLabels(t){EA.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=Nn(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],s=n._pointLabels.length,l=n.options.pointLabels,d=l.centerPointLabels?ni/s:0;for(let f=0;f<s;f++){const g=l.setContext(n.getPointLabelContext(f));r[f]=g.padding;const _=n.getPointPosition(f,n.drawingArea+r[f],d),b=pr(g.font),E=Loe(n.ctx,b,n._pointLabels[f]);i[f]=E;const x=Do(n.getIndexAngle(f)+d),M=Math.round(g3(x));Boe(e,t,x,c8(M,_.x,E.w,0,180),c8(M,_.y,E.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function(n,t,e){const i=[],r=n._pointLabels.length,s=n.options,{centerPointLabels:l,display:d}=s.pointLabels,f={extra:Q3(s)/2,additionalAngle:l?ni/r:0};let g;for(let _=0;_<r;_++){f.padding=e[_],f.size=t[_];const b=Uoe(n,_,f);i.push(b),"auto"===d&&(b.visible=Hoe(b,g),b.visible&&(g=b))}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return Do(t*(jn/(this._pointLabels.length||1))+Wa(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(cn(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(cn(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function(n,t,e){return vh(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-bi+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),u8(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:s}=e,l=this._pointLabels.length;let d,f,g;if(e.pointLabels.display&&function(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const s=n._pointLabelItems[r];if(!s.visible)continue;const l=i.setContext(n.getPointLabelContext(r));Woe(e,l,s);const d=pr(l.font),{x:f,y:g,textAlign:_}=s;jp(e,n._pointLabels[r],f,g+d.lineHeight/2,d,{color:l.color,textAlign:_,textBaseline:"middle"})}}(this,l),r.display&&this.ticks.forEach((_,b)=>{if(0!==b){f=this.getDistanceFromCenterForValue(_.value);const E=this.getContext(b),x=r.setContext(E),M=s.setContext(E);!function(n,t,e,i,r){const s=n.ctx,l=t.circular,{color:d,lineWidth:f}=t;!l&&!i||!d||!f||e<0||(s.save(),s.strokeStyle=d,s.lineWidth=f,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),u8(n,e,l,i),s.closePath(),s.stroke(),s.restore())}(this,x,f,l,M)}}),i.display){for(t.save(),d=l-1;d>=0;d--){const _=i.setContext(this.getPointLabelContext(d)),{color:b,lineWidth:E}=_;!E||!b||(t.lineWidth=E,t.strokeStyle=b,t.setLineDash(_.borderDash),t.lineDashOffset=_.borderDashOffset,f=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),g=this.getPointPosition(d,f),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(g.x,g.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((d,f)=>{if(0===f&&!e.reverse)return;const g=i.setContext(this.getContext(f)),_=pr(g.font);if(s=this.getDistanceFromCenterForValue(this.ticks[f].value),g.showLabelBackdrop){t.font=_.string,l=t.measureText(d.label).width,t.fillStyle=g.backdropColor;const b=ms(g.backdropPadding);t.fillRect(-l/2-b.left,-s-_.size/2-b.top,l+b.width,_.size+b.height)}jp(t,d.label,0,-s,_,{color:g.color})}),t.restore()}drawTitle(){}}Ve(AC,"id","radialLinear"),Ve(AC,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:J1.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),Ve(AC,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Ve(AC,"descriptors",{angleLines:{_fallback:"grid"}});const TA={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},to=Object.keys(TA);function Zoe(n,t){return n-t}function d8(n,t){if(cn(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let l=t;return"function"==typeof i&&(l=i(l)),vi(l)||(l="string"==typeof i?e.parse(l,i):e.parse(l)),null===l?null:(r&&(l="week"!==r||!uy(s)&&!0!==s?e.startOf(l,r):e.startOf(l,"isoWeek",s)),+l)}function h8(n,t,e,i){const r=to.length;for(let s=to.indexOf(n);s<r-1;++s){const l=TA[to[s]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(d*l.size))<=i)return to[s]}return to[r-1]}function f8(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=_3(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function p8(n,t,e){const i=[],r={},s=t.length;let l,d;for(l=0;l<s;++l)d=t[l],r[d]=l,i.push({value:d,major:!1});return 0!==s&&e?function(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),l=t[t.length-1].value;let d,f;for(d=s;d<=l;d=+r.add(d,1,i))f=e[d],f>=0&&(t[f].major=!0);return t}(n,i,r,e):i}class MC extends Zp{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new are__date(t.adapters.date);r.init(e),lC(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:d8(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:s,minDefined:l,maxDefined:d}=this.getUserBounds();function f(g){!l&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!d&&!isNaN(g.max)&&(s=Math.max(s,g.max))}(!l||!d)&&(f(this._getLabelBounds()),("ticks"!==t.bounds||"labels"!==t.ticks.source)&&f(this.getMinMax(!1))),r=vi(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),s=vi(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,d=function(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(r,s,this.max);return this._unit=e.unit||(i.autoSkip?h8(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(n,t,e,i,r){for(let s=to.length-1;s>=to.indexOf(e);s--){const l=to[s];if(TA[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return to[e?to.indexOf(e):0]}(this,d.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(n){for(let t=to.indexOf(n)+1,e=to.length;t<e;++t)if(TA[to[t]].common)return to[t]}(this._unit):void 0,this.initOffsets(r),t.reverse&&d.reverse(),p8(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let r,s,e=0,i=0;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),e=1===t.length?1-r:(this.getDecimalForValue(t[1])-r)/2,s=this.getDecimalForValue(t[t.length-1]),i=1===t.length?s:(s-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=kr(e,0,l),i=kr(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,s=r.time,l=s.unit||h8(s.minUnit,e,i,this._getLabelCapacity(e)),d=Vt(r.ticks.stepSize,1),f="week"===l&&s.isoWeekday,g=uy(f)||!0===f,_={};let E,x,b=e;if(g&&(b=+t.startOf(b,"isoWeek",f)),b=+t.startOf(b,g?"day":l),t.diff(i,e,l)>1e5*d)throw new Error(e+" and "+i+" are too far apart with stepSize of "+d+" "+l);const M="data"===r.ticks.source&&this.getDataTimestamps();for(E=b,x=0;E<i;E=+t.add(E,d,l),x++)f8(_,E,M);return(E===i||"ticks"===r.bounds||1===x)&&f8(_,E,M),Object.keys(_).sort((k,R)=>k-R).map(k=>+k)}getLabelForValue(t){const i=this.options.time;return this._adapter.format(t,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}format(t,e){return this._adapter.format(t,e||this.options.time.displayFormats[this._unit])}_tickFormatFunction(t,e,i,r){const s=this.options,l=s.ticks.callback;if(l)return Nn(l,[t,e,i],this);const d=s.time.displayFormats,f=this._unit,g=this._majorUnit,b=g&&d[g],E=i[e];return this._adapter.format(t,r||(g&&b&&E&&E.major?b:f&&d[f]))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Wa(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(r),l=Math.sin(r),d=this._resolveTickFontOptions(0).size;return{w:i*s+d*l,h:i*l+d*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,p8(this,[t],this._majorUnit),r),l=this._getLabelSize(s),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let e,i,t=this._cache.data||[];if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(d8(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return hq(t.sort(Zoe))}}function xA(n,t,e){let s,l,d,f,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Su(n,"pos",t)),({pos:s,time:d}=n[i]),({pos:l,time:f}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Su(n,"time",t)),({time:s,pos:d}=n[i]),({time:l,pos:f}=n[r]));const g=l-s;return g?d+(f-d)*(t-s)/g:d}Ve(MC,"id","time"),Ve(MC,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class J3 extends MC{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=xA(e,this.min),this._tableRange=xA(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let l,d,f,g,_;for(l=0,d=t.length;l<d;++l)g=t[l],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,d=r.length;l<d;++l)_=r[l+1],f=r[l-1],g=r[l],Math.round((_+f)/2)!==g&&s.push({time:g,pos:l/(d-1)});return s}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(xA(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return xA(this._table,i*this._tableRange+this._minPos,!0)}}Ve(J3,"id","timeseries"),Ve(J3,"defaults",MC.defaults),ku.register(ore,Nse,Moe,Object.freeze({__proto__:null,CategoryScale:K3,LinearScale:Y3,LogarithmicScale:Z3,RadialLinearScale:AC,TimeScale:MC,TimeSeriesScale:J3}));const nae=ku;let g8=(()=>{class n{constructor(e){this.el=e,this.plugins=[],this.responsive=!0,this.onDataSelect=new c.vpe,this._options={}}get data(){return this._data}set data(e){this._data=e,this.reinit()}get options(){return this._options}set options(e){this._options=e,this.reinit()}ngAfterViewInit(){this.initChart(),this.initialized=!0}onCanvasClick(e){if(this.chart){const i=this.chart.getElementsAtEventForMode(e,"nearest",{intersect:!0},!1),r=this.chart.getElementsAtEventForMode(e,"dataset",{intersect:!0},!1);i&&i[0]&&r&&this.onDataSelect.emit({originalEvent:e,element:i[0],dataset:r})}}initChart(){let e=this.options||{};e.responsive=this.responsive,e.responsive&&(this.height||this.width)&&(e.maintainAspectRatio=!1),this.chart=new nae(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})}getCanvas(){return this.el.nativeElement.children[0].children[0]}getBase64Image(){return this.chart.toBase64Image()}generateLegend(){if(this.chart)return this.chart.generateLegend()}refresh(){this.chart&&this.chart.update()}reinit(){this.chart&&(this.chart.destroy(),this.initChart())}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-chart"]],hostAttrs:[1,"p-element"],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:"responsive",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},decls:2,vars:6,consts:[[2,"position","relative"],[3,"click"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"canvas",1),c.NdJ("click",function(s){return i.onCanvasClick(s)}),c.qZA(),c.qZA()),2&e&&(c.Udp("width",i.responsive&&!i.width?null:i.width)("height",i.responsive&&!i.height?null:i.height),c.xp6(1),c.uIk("width",i.responsive&&!i.width?null:i.width)("height",i.responsive&&!i.height?null:i.height))},encapsulation:2,changeDetection:0}),n})(),iae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii]]}),n})();function rae(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"div",1),c._UZ(2,"p-chart",2),c.qZA(),c.BQk()),2&n){const e=c.oxw();c.xp6(2),c.Q6J("data",e.multiAxisData)("options",e.multiAxisOptions)}}let sae=(()=>{class n{constructor(e,i){this.firestore=e,this.databaseService=i,this.subscription=new Qn.w}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){const e=l3(this.firestore,"growth-chart");this.chartGrowthAxisData=a3(e),this.subscription.add(this.chartGrowthAxisData.pipe((0,Mt.U)(i=>this.databaseService.parseDataForChart(i,"\u0420\u043e\u0441\u0442"))).subscribe(i=>this.multiAxisData=i)),this.multiAxisOptions={plugins:{legend:{labels:{color:"#495057"}},tooltips:{mode:"index",intersect:!0}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{type:"linear",display:!1,position:"left",ticks:{min:0,max:100,color:"#495057"},grid:{color:"#ebedef"}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1,color:"#ebedef"},ticks:{min:0,max:100,color:"#495057"}}}}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(oy),c.Y36(aD))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-growth-chart"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"card","p-2"],["type","bar",3,"data","options"]],template:function(e,i){1&e&&(c.YNc(0,rae,3,2,"ng-container",0),c.ALo(1,"async")),2&e&&c.Q6J("ngIf",c.lcZ(1,1,i.chartGrowthAxisData))},directives:[At,g8],pipes:[Lu],styles:[""],encapsulation:2,changeDetection:0}),n})();function oae(n,t){if(1&n&&(c.ynx(0),c.TgZ(1,"div",1),c._UZ(2,"p-chart",2),c.qZA(),c.BQk()),2&n){const e=c.oxw();c.xp6(2),c.Q6J("data",e.multiAxisData)("options",e.multiAxisOptions)}}let aae=(()=>{class n{constructor(e,i){this.firestore=e,this.databaseService=i,this.subscription=new Qn.w}ngOnInit(){const e=l3(this.firestore,"weight-chart");this.chartWeightAxisData=a3(e),this.subscription.add(this.chartWeightAxisData.pipe((0,Mt.U)(i=>this.databaseService.parseDataForChart(i,"\u0412\u0435\u0441"))).subscribe(i=>this.multiAxisData=i)),this.multiAxisOptions={plugins:{legend:{labels:{color:"#495057"}},tooltips:{mode:"index",intersect:!0}},scales:{x:{ticks:{color:"#495057"},grid:{color:"#ebedef"}},y:{type:"linear",display:!1,position:"left",ticks:{min:0,max:100,color:"#495057"},grid:{color:"#ebedef"}},y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1,color:"#ebedef"},ticks:{min:0,max:100,color:"#495057"}}}}}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(oy),c.Y36(aD))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-weight-chart"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"card","p-2"],["type","bar",3,"data","options"]],template:function(e,i){1&e&&(c.YNc(0,oae,3,2,"ng-container",0),c.ALo(1,"async")),2&e&&c.Q6J("ngIf",c.lcZ(1,1,i.chartWeightAxisData))},directives:[At,g8],pipes:[Lu],styles:[""],encapsulation:2,changeDetection:0}),n})();const lae=function(){return[0,1,2,3,4,5,6]};let cae=(()=>{class n{constructor(){this.dateRange=TF}selectDate(e){console.log(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-calendar-leaps-in-evolutions"]],decls:2,vars:9,consts:[[1,"flex","justify-content-center"],["styleClass","custom-calendar","selectionMode","multiple","yearRange","2022:2024","icon","pi pi-calendar",1,"max-w-full",3,"firstDayOfWeek","monthNavigator","yearNavigator","readonlyInput","showIcon","ngModel","inline","disabledDays","ngModelChange"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"p-calendar",1),c.NdJ("ngModelChange",function(s){return i.dateRange=s}),c.qZA(),c.qZA()),2&e&&(c.xp6(1),c.Q6J("firstDayOfWeek",1)("monthNavigator",!0)("yearNavigator",!0)("readonlyInput",!0)("showIcon",!0)("ngModel",i.dateRange)("inline",!0)("disabledDays",c.DdM(8,lae)))},directives:[pI,Va,Xo],styles:[""],encapsulation:2,changeDetection:0}),n})();function uae(n,t){1&n&&(c.TgZ(0,"div",10),c.TgZ(1,"div",11),c._UZ(2,"app-growth-chart"),c.qZA(),c.TgZ(3,"div",11),c._UZ(4,"app-weight-chart"),c.qZA(),c.qZA())}function dae(n,t){1&n&&(c.TgZ(0,"div",12),c._UZ(1,"app-calendar-leaps-in-evolutions"),c.qZA())}const hae=[{path:"",pathMatch:"full",redirectTo:"menu"},{path:"menu",component:cD},{path:"calculate",component:tw},{path:"table",component:Zl},{path:"charts",component:(()=>{class n{constructor(e,i){this.dialogService=e,this.firestore=i,this.switchCalendar=!0,this.subscription=new Qn.w}ngOnDestroy(){document.body.style.background="#ffffff",this.subscription.unsubscribe()}ngOnInit(){document.body.style.background="var(--teal-100)"}openDialogForAddData(){this.dialogService.open($I,{width:"310px",height:"340px",showHeader:!1,contentStyle:{padding:"1rem",overflowY:"hidden",borderRadius:"10px",background:"#c2e6e2"},baseZIndex:1e4}).onClose.pipe(hn(1)).subscribe(e=>{this.addDataInChart(e)})}addDataInChart(e){const i=l3(this.firestore,e.chart);this.updateDataChart=a3(i),this.subscription.add(this.updateDataChart.pipe(hn(1)).subscribe(r=>{const s=$te(this.firestore,e.chart,e.id),l={data:[...r[0].data,e.params],labels:[...r[0].labels,e.month]};Wte(s,l).then().catch(d=>{console.log(d)})}))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(HI),c.Y36(oy))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-charts-layout"]],features:[c._Bn([HI])],decls:11,vars:4,consts:[[1,"w-full","flex","align-items-center","justify-content-center","flex","h-full","bg-teal-100","flex-column"],[1,"bg-teal-100","flex","align-items-center","w-full","toolbar"],["icon","pi pi-arrow-circle-left","routerLink","/","styleClass"," mr-3",1,"chart-button","justify-content-start"],[1,"flex","align-items-center","w-full","mr-5","justify-content-center"],["styleClass","switcher focus-drop",1,"flex","align-items-center","focus-drop","switcher","focus-drop",3,"ngModel","ngModelChange"],[1,"flex","flex-column","align-items-center","justify-content-center","h-full","mb-4","w-full"],["class","flex flex-column",4,"ngIf"],["class","flex",4,"ngIf"],[1,"flex","align-items-center"],["icon","pi pi-plus","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u0438","styleClass"," w-21rem  mb-6",1,"chart-button",3,"disabled","onClick"],[1,"flex","flex-column"],[1,"flex","mb-4"],[1,"flex"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"mat-toolbar",1),c._UZ(2,"p-button",2),c.TgZ(3,"h2",3),c._uU(4,"\u0413\u0440\u0430\u0444\u0438\u043a\u0438 \u0438 \u043a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c"),c.qZA(),c.TgZ(5,"p-inputSwitch",4),c.NdJ("ngModelChange",function(s){return i.switchCalendar=s}),c.qZA(),c.qZA(),c.TgZ(6,"div",5),c.YNc(7,uae,5,0,"div",6),c.YNc(8,dae,2,0,"div",7),c.qZA(),c.TgZ(9,"div",8),c.TgZ(10,"p-button",9),c.NdJ("onClick",function(){return i.openDialogForAddData()}),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(5),c.Q6J("ngModel",i.switchCalendar),c.xp6(2),c.Q6J("ngIf",i.switchCalendar),c.xp6(1),c.Q6J("ngIf",!i.switchCalendar),c.xp6(2),c.Q6J("disabled",!i.switchCalendar))},directives:[Ib,Hl,hf,qW,Va,Xo,At,sae,aae,cae],styles:[".chart-button .p-button{background:var(--teal-200)!important;border:1px solid var(--teal-200)!important;border-radius:8px}.chart-button .p-button:focus{box-shadow:none}.card{width:320px;height:172px;box-shadow:#64646f33 0 7px 29px;border-radius:14px;background:#d6f1ee}.custom-calendar{box-shadow:#64646f33 0 7px 29px;border-radius:14px;width:320px}.custom-calendar .p-calendar .p-datepicker{background:#d6f1ee!important}.custom-calendar .p-datepicker .p-datepicker-header{background:#d6f1ee!important}.custom-calendar .p-datepicker table{background:#d6f1ee!important}.custom-calendar .p-datepicker-inline{background:#d6f1ee!important;border-radius:10px}.custom-calendar .p-datepicker table td>span.p-highlight{background:#85cfc8!important}.custom-calendar .p-datepicker table td.p-datepicker-today>span{background:#bddeda;color:#495057;border-color:transparent}.custom-calendar .p-datepicker .p-datepicker-header .p-datepicker-title .p-datepicker-month{width:125px;height:30px;background:#bddeda;color:#495057}.custom-calendar .p-datepicker .p-datepicker-header .p-datepicker-title select{width:80px;height:30px;background:#bddeda;color:#495057}.switcher .p-inputswitch.p-inputswitch-checked .p-inputswitch-slider{background:var(--teal-200)!important}.switcher .p-inputswitch .p-focus .p-inputswitch-slider{box-shadow:none!important}\n"],encapsulation:2,changeDetection:0}),n})()}];let fae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Go.forRoot(hae)],Go]}),n})();const pae={dayNames:["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],dayNamesShort:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],dayNamesMin:["\u0412\u0441","\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431"],monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],weak:"\u041d\u0435\u0434\u0435\u043b\u044f",weekHeader:"\u041d\u0435\u0434\u0435\u043b\u044f",today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",emptyFilterMessage:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",dateFormat:"D, dd.mm.yy",emptyMessage:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"};var gae=L(4027),mae=L.n(gae);const m8=["container"],_ae=function(n,t,e,i){return{"pi-info-circle":n,"pi-exclamation-triangle":t,"pi-times-circle":e,"pi-check":i}};function yae(n,t){if(1&n&&(c.ynx(0),c._UZ(1,"span",6),c.TgZ(2,"div",7),c.TgZ(3,"div",8),c._uU(4),c.qZA(),c.TgZ(5,"div",9),c._uU(6),c.qZA(),c.qZA(),c.BQk()),2&n){const e=c.oxw();c.xp6(1),c.Tol("p-toast-message-icon pi"+(e.message.icon?" "+e.message.icon:"")),c.Q6J("ngClass",c.l5B(5,_ae,"info"==e.message.severity,"warn"==e.message.severity,"error"==e.message.severity,"success"==e.message.severity)),c.xp6(3),c.Oqu(e.message.summary),c.xp6(2),c.Oqu(e.message.detail)}}function vae(n,t){1&n&&c.GkF(0)}function bae(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"button",10),c.NdJ("click",function(r){return c.CHM(e),c.oxw().onCloseIconClick(r)})("keydown.enter",function(r){return c.CHM(e),c.oxw().onCloseIconClick(r)}),c._UZ(1,"span",11),c.qZA()}}const wae=function(n){return[n,"p-toast-message"]},Cae=function(n,t,e,i){return{showTransformParams:n,hideTransformParams:t,showTransitionParams:e,hideTransitionParams:i}},Eae=function(n){return{value:"visible",params:n}},Tae=function(n){return{$implicit:n}};function xae(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"p-toastItem",3),c.NdJ("onClose",function(r){return c.CHM(e),c.oxw().onMessageClose(r)})("@toastAnimation.start",function(r){return c.CHM(e),c.oxw().onAnimationStart(r)})("@toastAnimation.done",function(r){return c.CHM(e),c.oxw().onAnimationEnd(r)}),c.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=c.oxw();c.Q6J("message",e)("index",i)("template",r.template)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}let Dae=(()=>{class n{constructor(e){this.zone=e,this.onClose=new c.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),e.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-toastItem"]],viewQuery:function(e,i){if(1&e&&c.Gf(m8,5),2&e){let r;c.iGM(r=c.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0,1),c.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),c.TgZ(2,"div",2),c.YNc(3,yae,7,10,"ng-container",3),c.YNc(4,vae,1,0,"ng-container",4),c.YNc(5,bae,2,0,"button",5),c.qZA(),c.qZA()),2&e&&(c.Tol(i.message.styleClass),c.Q6J("ngClass",c.VKq(10,wae,"p-toast-message-"+i.message.severity))("@messageState",c.VKq(17,Eae,c.l5B(12,Cae,i.showTransformOptions,i.hideTransformOptions,i.showTransitionOptions,i.hideTransitionOptions))),c.uIk("id",i.message.id),c.xp6(2),c.Q6J("ngClass",i.message.contentStyleClass),c.xp6(1),c.Q6J("ngIf",!i.template),c.xp6(1),c.Q6J("ngTemplateOutlet",i.template)("ngTemplateOutletContext",c.VKq(19,Tae,i.message)),c.xp6(1),c.Q6J("ngIf",!1!==i.message.closable))},directives:[hi,At,Kn,Ul],encapsulation:2,data:{animation:[po("messageState",[jc("visible",oi({transform:"translateY(0)",opacity:1})),Cr("void => *",[oi({transform:"{{showTransformParams}}",opacity:0}),Is("{{showTransitionParams}}")]),Cr("* => void",[Is("{{hideTransitionParams}}",oi({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),n})(),Iae=(()=>{class n{constructor(e,i,r){this.messageService=e,this.cd=i,this.config=r,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new c.vpe,this.id=Mb()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e)if(e instanceof Array){const i=e.filter(r=>this.canAdd(r));this.add(i)}else this.canAdd(e)&&this.add([e])}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(e){this.messages=this.messages?[...this.messages,...e]:[...e],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...e]:[...e]),this.cd.markForCheck()}canAdd(e){let i=this.key===e.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,e)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,e)),i}containsMessage(e,i){return!!e&&null!=e.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)}ngAfterContentInit(){this.templates.forEach(e=>{e.getType(),this.template=e.template})}onMessageClose(e){this.messages.splice(e.index,1),this.onClose.emit({message:e.message}),this.cd.detectChanges()}onAnimationStart(e){"void"===e.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&Er.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(e){"void"===e.toState&&this.autoZIndex&&Er.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let e="";for(let i in this.breakpoints){let r="";for(let s in this.breakpoints[i])r+=s+":"+this.breakpoints[i][s]+" !important;";e+=`\n                    @media screen and (max-width: ${i}) {\n                        .p-toast[${this.id}] {\n                           ${r}\n                        }\n                    }\n                `}this.styleElement.innerHTML=e}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Er.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Hm),c.Y36(c.sBO),c.Y36(Bl))},n.\u0275cmp=c.Xpm({type:n,selectors:[["p-toast"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,Jc,4),2&e){let s;c.iGM(s=c.CRH())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&c.Gf(m8,5),2&e){let r;c.iGM(r=c.CRH())&&(i.containerViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0,1),c.YNc(2,xae,1,8,"p-toastItem",2),c.qZA()),2&e&&(c.Tol(i.styleClass),c.Q6J("ngClass","p-toast p-component p-toast-"+i.position)("ngStyle",i.style),c.xp6(2),c.Q6J("ngForOf",i.messages))},directives:[hi,Sn,Es,Dae],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translateX(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translateX(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}"],encapsulation:2,data:{animation:[po("toastAnimation",[Cr(":enter, :leave",[xd("@*",Td())])])]},changeDetection:0}),n})(),Sae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii,Fa],Ms]}),n})(),Aae=(()=>{class n{constructor(e){this.primeConfig=e,this.title="\u0414\u0430\u0448\u043a\u0438\u043d\u044b \u0448\u0442\u0443\u0447\u043a\u0438"}ngOnInit(){this.primeConfig.setTranslation(pae),function(n,t,e){(0,c.dwT)(n,void 0,void 0)}(mae())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Bl))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[["position","top-center","key","app"]],template:function(e,i){1&e&&(c._UZ(0,"p-toast",0),c._UZ(1,"router-outlet"))},directives:[Iae,Sl],styles:[""]}),n})();L(205),L(8819);let tle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[qs],qs]}),n})(),ole=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Cb,qs],qs]}),n})(),ale=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii,Uf,Xc,Go,iae,gI,au,Yte,ip,ew,a_]]}),n})(),lle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii,Uf,Lw,Xc,Go]]}),n})(),cle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ii,Uf,Xc,ew,Go]]}),n})();var ule=L(7745);const sU_firebase={apiKey:"AIzaSyD6RMS1MkkNR_p_EFwnk8Xx7laQqKb4lwY",authDomain:"family-hub-efb6a.firebaseapp.com",projectId:"family-hub-efb6a",storageBucket:"family-hub-efb6a.appspot.com",messagingSenderId:"59728952969",appId:"1:59728952969:web:dd4781f28840d4debd1058"};let dle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[Aae]}),n.\u0275inj=c.cJS({providers:[Hm,{provide:c.soG,useValue:"Ru"},{provide:c.ip1,useFactory:t=>()=>{t.dateCheckForNotify()},deps:[nw],multi:!0}],imports:[[Zu,fae,gI,au,sx,ew,Lw,Uf,tle,ole,lle,ale,cle,Sae,ule.hO.initializeApp(sU_firebase),jte(()=>Gte()),F6(()=>V6(sU_firebase))]]}),n})();(0,c.G48)(),Ec().bootstrapModule(dle).catch(n=>console.error(n))},158:(He,ve,L)=>{"use strict";L.r(ve),L.d(ve,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>wt,_DEFAULT_ENTRY_NAME:()=>Ls,_addComponent:()=>Ht,_addOrOverwriteComponent:()=>qe,_apps:()=>Bi,_clearComponents:()=>rr,_components:()=>Fr,_getProvider:()=>oa,_registerComponent:()=>gt,_removeServiceInstance:()=>yn,deleteApp:()=>Ut,getApp:()=>Wt,getApps:()=>Xr,initializeApp:()=>Fu,onLog:()=>ro,registerVersion:()=>sr,setLogLevel:()=>So});var c=L(8239),ne=L(3910),J=L(5422),se=L(3854);let ie,ge;const N=new WeakMap,V=new WeakMap,j=new WeakMap,re=new WeakMap,ye=new WeakMap;let st={get(_e,X,ee){if(_e instanceof IDBTransaction){if("done"===X)return V.get(_e);if("objectStoreNames"===X)return _e.objectStoreNames||j.get(_e);if("store"===X)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return We(_e[X])},set:(_e,X,ee)=>(_e[X]=ee,!0),has:(_e,X)=>_e instanceof IDBTransaction&&("done"===X||"store"===X)||X in _e};function gn(_e){return"function"==typeof _e?function(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(_e)?function(...X){return _e.apply(un(this),X),We(N.get(this))}:function(...X){return We(_e.apply(un(this),X))}:function(X,...ee){const ke=_e.call(un(this),X,...ee);return j.set(ke,X.sort?X.sort():[X]),We(ke)}}(_e):(_e instanceof IDBTransaction&&function(_e){if(V.has(_e))return;const X=new Promise((ee,ke)=>{const $e=()=>{_e.removeEventListener("complete",lt),_e.removeEventListener("error",qt),_e.removeEventListener("abort",qt)},lt=()=>{ee(),$e()},qt=()=>{ke(_e.error||new DOMException("AbortError","AbortError")),$e()};_e.addEventListener("complete",lt),_e.addEventListener("error",qt),_e.addEventListener("abort",qt)});V.set(_e,X)}(_e),((_e,X)=>X.some(ee=>_e instanceof ee))(_e,ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(_e,st):_e)}function We(_e){if(_e instanceof IDBRequest)return function(_e){const X=new Promise((ee,ke)=>{const $e=()=>{_e.removeEventListener("success",lt),_e.removeEventListener("error",qt)},lt=()=>{ee(We(_e.result)),$e()},qt=()=>{ke(_e.error),$e()};_e.addEventListener("success",lt),_e.addEventListener("error",qt)});return X.then(ee=>{ee instanceof IDBCursor&&N.set(ee,_e)}).catch(()=>{}),ye.set(X,_e),X}(_e);if(re.has(_e))return re.get(_e);const X=gn(_e);return X!==_e&&(re.set(_e,X),ye.set(X,_e)),X}const un=_e=>ye.get(_e),mr=["get","getKey","getAll","getAllKeys","count"],bs=["put","add","delete","clear"],Yt=new Map;function mn(_e,X){if(!(_e instanceof IDBDatabase)||X in _e||"string"!=typeof X)return;if(Yt.get(X))return Yt.get(X);const ee=X.replace(/FromIndex$/,""),ke=X!==ee,$e=bs.includes(ee);if(!(ee in(ke?IDBIndex:IDBObjectStore).prototype)||!$e&&!mr.includes(ee))return;const lt=function(){var qt=(0,c.Z)(function*(Zt,...vn){const nn=this.transaction(Zt,$e?"readwrite":"readonly");let es=nn.store;return ke&&(es=es.index(vn.shift())),(yield Promise.all([es[ee](...vn),$e&&nn.done]))[0]});return function(vn){return qt.apply(this,arguments)}}();return Yt.set(X,lt),lt}var _e;st=ng(tg({},_e=st),{get:(X,ee,ke)=>mn(X,ee)||_e.get(X,ee,ke),has:(X,ee)=>!!mn(X,ee)||_e.has(X,ee)});class fn{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(ee=>{if(function(_e){const X=_e.getComponent();return"VERSION"===(null==X?void 0:X.type)}(ee)){const ke=ee.getImmediate();return`${ke.library}/${ke.version}`}return null}).filter(ee=>ee).join(" ")}}const Ot="@firebase/app",Or=new J.Yd("@firebase/app"),Ls="[DEFAULT]",ws={[Ot]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Bi=new Map,Fr=new Map;function Ht(_e,X){try{_e.container.addComponent(X)}catch(ee){Or.debug(`Component ${X.name} failed to register with FirebaseApp ${_e.name}`,ee)}}function qe(_e,X){_e.container.addOrOverwriteComponent(X)}function gt(_e){const X=_e.name;if(Fr.has(X))return Or.debug(`There were multiple attempts to register component ${X}.`),!1;Fr.set(X,_e);for(const ee of Bi.values())Ht(ee,_e);return!0}function oa(_e,X){const ee=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return ee&&ee.triggerHeartbeat(),_e.container.getProvider(X)}function yn(_e,X,ee=Ls){oa(_e,X).clearInstance(ee)}function rr(){Fr.clear()}const In=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pu{constructor(X,ee,ke){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},ee),this._name=ee.name,this._automaticDataCollectionEnabled=ee.automaticDataCollectionEnabled,this._container=ke,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}const wt="9.22.2";function Fu(_e,X={}){let ee=_e;"object"!=typeof X&&(X={name:X});const ke=Object.assign({name:Ls,automaticDataCollectionEnabled:!1},X),$e=ke.name;if("string"!=typeof $e||!$e)throw In.create("bad-app-name",{appName:String($e)});if(ee||(ee=(0,se.aH)()),!ee)throw In.create("no-options");const lt=Bi.get($e);if(lt){if((0,se.vZ)(ee,lt.options)&&(0,se.vZ)(ke,lt.config))return lt;throw In.create("duplicate-app",{appName:$e})}const qt=new ne.H0($e);for(const vn of Fr.values())qt.addComponent(vn);const Zt=new Pu(ee,ke,qt);return Bi.set($e,Zt),Zt}function Wt(_e=Ls){const X=Bi.get(_e);if(!X&&_e===Ls&&(0,se.aH)())return Fu();if(!X)throw In.create("no-app",{appName:_e});return X}function Xr(){return Array.from(Bi.values())}function Ut(_e){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,c.Z)(function*(_e){const X=_e.name;Bi.has(X)&&(Bi.delete(X),yield Promise.all(_e.container.getProviders().map(ee=>ee.delete())),_e.isDeleted=!0)}),Lr.apply(this,arguments)}function sr(_e,X,ee){var ke;let $e=null!==(ke=ws[_e])&&void 0!==ke?ke:_e;ee&&($e+=`-${ee}`);const lt=$e.match(/\s|\//),qt=X.match(/\s|\//);if(lt||qt){const Zt=[`Unable to register library "${$e}" with version "${X}":`];return lt&&Zt.push(`library name "${$e}" contains illegal characters (whitespace or "/")`),lt&&qt&&Zt.push("and"),qt&&Zt.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void Or.warn(Zt.join(" "))}gt(new ne.wA(`${$e}-version`,()=>({library:$e,version:X}),"VERSION"))}function ro(_e,X){if(null!==_e&&"function"!=typeof _e)throw In.create("invalid-log-argument");(0,J.Am)(_e,X)}function So(_e){(0,J.Ub)(_e)}const z="firebase-heartbeat-store";let H=null;function K(){return H||(H=function(_e,X,{blocked:ee,upgrade:ke,blocking:$e,terminated:lt}={}){const qt=indexedDB.open(_e,X),Zt=We(qt);return ke&&qt.addEventListener("upgradeneeded",vn=>{ke(We(qt.result),vn.oldVersion,vn.newVersion,We(qt.transaction),vn)}),ee&&qt.addEventListener("blocked",vn=>ee(vn.oldVersion,vn.newVersion,vn)),Zt.then(vn=>{lt&&vn.addEventListener("close",()=>lt()),$e&&vn.addEventListener("versionchange",nn=>$e(nn.oldVersion,nn.newVersion,nn))}).catch(()=>{}),Zt}("firebase-heartbeat-database",1,{upgrade:(_e,X)=>{0===X&&_e.createObjectStore(z)}}).catch(_e=>{throw In.create("idb-open",{originalErrorMessage:_e.message})})),H}function le(){return le=(0,c.Z)(function*(_e){try{return yield(yield K()).transaction(z).objectStore(z).get(tn(_e))}catch(X){if(X instanceof se.ZR)Or.warn(X.message);else{const ee=In.create("idb-get",{originalErrorMessage:null==X?void 0:X.message});Or.warn(ee.message)}}}),le.apply(this,arguments)}function Ge(_e,X){return bt.apply(this,arguments)}function bt(){return bt=(0,c.Z)(function*(_e,X){try{const ke=(yield K()).transaction(z,"readwrite");yield ke.objectStore(z).put(X,tn(_e)),yield ke.done}catch(ee){if(ee instanceof se.ZR)Or.warn(ee.message);else{const ke=In.create("idb-set",{originalErrorMessage:null==ee?void 0:ee.message});Or.warn(ke.message)}}}),bt.apply(this,arguments)}function tn(_e){return`${_e.name}!${_e.options.appId}`}class Ui{constructor(X){this.container=X,this._heartbeatsCache=null;const ee=this.container.getProvider("app").getImmediate();this._storage=new or(ee),this._heartbeatsCachePromise=this._storage.read().then(ke=>(this._heartbeatsCache=ke,ke))}triggerHeartbeat(){var X=this;return(0,c.Z)(function*(){const ke=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$e=Nt();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==$e&&!X._heartbeatsCache.heartbeats.some(lt=>lt.date===$e))return X._heartbeatsCache.heartbeats.push({date:$e,agent:ke}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(lt=>{const qt=new Date(lt.date).valueOf();return Date.now()-qt<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,c.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const ee=Nt(),{heartbeatsToSend:ke,unsentEntries:$e}=function(_e,X=1024){const ee=[];let ke=_e.slice();for(const $e of _e){const lt=ee.find(qt=>qt.agent===$e.agent);if(lt){if(lt.dates.push($e.date),Hi(ee)>X){lt.dates.pop();break}}else if(ee.push({agent:$e.agent,dates:[$e.date]}),Hi(ee)>X){ee.pop();break}ke=ke.slice(1)}return{heartbeatsToSend:ee,unsentEntries:ke}}(X._heartbeatsCache.heartbeats),lt=(0,se.L)(JSON.stringify({version:2,heartbeats:ke}));return X._heartbeatsCache.lastSentHeartbeatDate=ee,$e.length>0?(X._heartbeatsCache.heartbeats=$e,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),lt})()}}function Nt(){return(new Date).toISOString().substring(0,10)}class or{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,c.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function(_e){return le.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var ee=this;return(0,c.Z)(function*(){var ke;if(yield ee._canUseIndexedDBPromise){const lt=yield ee.read();return Ge(ee.app,{lastSentHeartbeatDate:null!==(ke=X.lastSentHeartbeatDate)&&void 0!==ke?ke:lt.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var ee=this;return(0,c.Z)(function*(){var ke;if(yield ee._canUseIndexedDBPromise){const lt=yield ee.read();return Ge(ee.app,{lastSentHeartbeatDate:null!==(ke=X.lastSentHeartbeatDate)&&void 0!==ke?ke:lt.lastSentHeartbeatDate,heartbeats:[...lt.heartbeats,...X.heartbeats]})}})()}}function Hi(_e){return(0,se.L)(JSON.stringify({version:2,heartbeats:_e})).length}gt(new ne.wA("platform-logger",X=>new fn(X),"PRIVATE")),gt(new ne.wA("heartbeat",X=>new Ui(X),"PRIVATE")),sr(Ot,"0.9.12",""),sr(Ot,"0.9.12","esm2017"),sr("fire-js","")},3910:(He,ve,L)=>{"use strict";L.d(ve,{wA:()=>J,H0:()=>Ee});var c=L(8239),ne=L(3854);class J{constructor(N,V,j){this.name=N,this.instanceFactory=V,this.type=j,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(N){return this.instantiationMode=N,this}setMultipleInstances(N){return this.multipleInstances=N,this}setServiceProps(N){return this.serviceProps=N,this}setInstanceCreatedCallback(N){return this.onInstanceCreated=N,this}}const se="[DEFAULT]";class ae{constructor(N,V){this.name=N,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(N){const V=this.normalizeInstanceIdentifier(N);if(!this.instancesDeferred.has(V)){const j=new ne.BH;if(this.instancesDeferred.set(V,j),this.isInitialized(V)||this.shouldAutoInitialize())try{const re=this.getOrInitializeService({instanceIdentifier:V});re&&j.resolve(re)}catch(re){}}return this.instancesDeferred.get(V).promise}getImmediate(N){var V;const j=this.normalizeInstanceIdentifier(null==N?void 0:N.identifier),re=null!==(V=null==N?void 0:N.optional)&&void 0!==V&&V;if(!this.isInitialized(j)&&!this.shouldAutoInitialize()){if(re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:j})}catch(ye){if(re)return null;throw ye}}getComponent(){return this.component}setComponent(N){if(N.name!==this.name)throw Error(`Mismatching Component ${N.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=N,this.shouldAutoInitialize()){if("EAGER"===N.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:se})}catch(V){}for(const[V,j]of this.instancesDeferred.entries()){const re=this.normalizeInstanceIdentifier(V);try{const ye=this.getOrInitializeService({instanceIdentifier:re});j.resolve(ye)}catch(ye){}}}}clearInstance(N=se){this.instancesDeferred.delete(N),this.instancesOptions.delete(N),this.instances.delete(N)}delete(){var N=this;return(0,c.Z)(function*(){const V=Array.from(N.instances.values());yield Promise.all([...V.filter(j=>"INTERNAL"in j).map(j=>j.INTERNAL.delete()),...V.filter(j=>"_delete"in j).map(j=>j._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(N=se){return this.instances.has(N)}getOptions(N=se){return this.instancesOptions.get(N)||{}}initialize(N={}){const{options:V={}}=N,j=this.normalizeInstanceIdentifier(N.instanceIdentifier);if(this.isInitialized(j))throw Error(`${this.name}(${j}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const re=this.getOrInitializeService({instanceIdentifier:j,options:V});for(const[ye,ue]of this.instancesDeferred.entries())j===this.normalizeInstanceIdentifier(ye)&&ue.resolve(re);return re}onInit(N,V){var j;const re=this.normalizeInstanceIdentifier(V),ye=null!==(j=this.onInitCallbacks.get(re))&&void 0!==j?j:new Set;ye.add(N),this.onInitCallbacks.set(re,ye);const ue=this.instances.get(re);return ue&&N(ue,re),()=>{ye.delete(N)}}invokeOnInitCallbacks(N,V){const j=this.onInitCallbacks.get(V);if(j)for(const re of j)try{re(N,V)}catch(ye){}}getOrInitializeService({instanceIdentifier:N,options:V={}}){let j=this.instances.get(N);if(!j&&this.component&&(j=this.component.instanceFactory(this.container,{instanceIdentifier:(W=N,W===se?void 0:W),options:V}),this.instances.set(N,j),this.instancesOptions.set(N,V),this.invokeOnInitCallbacks(j,N),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,N,j)}catch(re){}var W;return j||null}normalizeInstanceIdentifier(N=se){return this.component?this.component.multipleInstances?N:se:N}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(N){this.name=N,this.providers=new Map}addComponent(N){const V=this.getProvider(N.name);if(V.isComponentSet())throw new Error(`Component ${N.name} has already been registered with ${this.name}`);V.setComponent(N)}addOrOverwriteComponent(N){this.getProvider(N.name).isComponentSet()&&this.providers.delete(N.name),this.addComponent(N)}getProvider(N){if(this.providers.has(N))return this.providers.get(N);const V=new ae(N,this);return this.providers.set(N,V),V}getProviders(){return Array.from(this.providers.values())}}},5422:(He,ve,L)=>{"use strict";L.d(ve,{in:()=>ne,Yd:()=>ge,Ub:()=>Ee,Am:()=>W});const c=[];var ne=(()=>{return(N=ne||(ne={}))[N.DEBUG=0]="DEBUG",N[N.VERBOSE=1]="VERBOSE",N[N.INFO=2]="INFO",N[N.WARN=3]="WARN",N[N.ERROR=4]="ERROR",N[N.SILENT=5]="SILENT",ne;var N})();const J={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},se=ne.INFO,ae={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},ie=(N,V,...j)=>{if(V<N.logLevel)return;const re=(new Date).toISOString(),ye=ae[V];if(!ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[ye](`[${re}]  ${N.name}:`,...j)};class ge{constructor(V){this.name=V,this._logLevel=se,this._logHandler=ie,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in ne))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?J[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...V),this._logHandler(this,ne.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...V),this._logHandler(this,ne.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...V),this._logHandler(this,ne.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...V),this._logHandler(this,ne.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...V),this._logHandler(this,ne.ERROR,...V)}}function Ee(N){c.forEach(V=>{V.setLogLevel(N)})}function W(N,V){for(const j of c){let re=null;V&&V.level&&(re=J[V.level]),j.userLogHandler=null===N?null:(ye,ue,...De)=>{const st=De.map(it=>{if(null==it)return null;if("string"==typeof it)return it;if("number"==typeof it||"boolean"==typeof it)return it.toString();if(it instanceof Error)return it.message;try{return JSON.stringify(it)}catch(pt){return null}}).filter(it=>it).join(" ");ue>=(null!=re?re:ye.logLevel)&&N({level:ne[ue].toLowerCase(),message:st,args:De,type:ye.name})}}}},8213:(He,ve,L)=>{"use strict";L.d(ve,{Mq:()=>c.getApp,C6:()=>c.getApps,ZF:()=>c.initializeApp,KN:()=>c.registerVersion});var c=L(158);(0,c.registerVersion)("firebase","9.22.2","app")},8239:(He,ve,L)=>{"use strict";function c(J,se,ae,ie,ge,Ee,W){try{var N=J[Ee](W),V=N.value}catch(j){return void ae(j)}N.done?se(V):Promise.resolve(V).then(ie,ge)}function ne(J){return function(){var se=this,ae=arguments;return new Promise(function(ie,ge){var Ee=J.apply(se,ae);function W(V){c(Ee,ie,ge,W,N,"next",V)}function N(V){c(Ee,ie,ge,W,N,"throw",V)}W(void 0)})}}L.d(ve,{Z:()=>ne})}},He=>{He(He.s=5697)}]);